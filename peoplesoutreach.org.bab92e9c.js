let e,t,r,i,o;function n(e,t){return Object.keys(t).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})}),e}function s(e,t,r,i){Object.defineProperty(e,t,{get:r,set:i,enumerable:!0,configurable:!0})}var a,l,d,c=globalThis,p={};s(p,"popperGenerator",()=>eK),s(p,"detectOverflow",()=>eS),s(p,"createPopperBase",()=>ej),s(p,"createPopper",()=>eM),s(p,"createPopperLite",()=>eN);var u={};s(u,"top",()=>f),s(u,"bottom",()=>h),s(u,"right",()=>m),s(u,"left",()=>y),s(u,"auto",()=>g),s(u,"basePlacements",()=>b),s(u,"start",()=>v),s(u,"end",()=>E),s(u,"clippingParents",()=>R),s(u,"viewport",()=>A),s(u,"popper",()=>_),s(u,"reference",()=>T),s(u,"variationPlacements",()=>w),s(u,"placements",()=>C),s(u,"beforeRead",()=>S),s(u,"read",()=>L),s(u,"afterRead",()=>k),s(u,"beforeMain",()=>x),s(u,"main",()=>P),s(u,"afterMain",()=>B),s(u,"beforeWrite",()=>D),s(u,"write",()=>O),s(u,"afterWrite",()=>U),s(u,"modifierPhases",()=>I);var f="top",h="bottom",m="right",y="left",g="auto",b=[f,h,m,y],v="start",E="end",R="clippingParents",A="viewport",_="popper",T="reference",w=b.reduce(function(e,t){return e.concat([t+"-"+v,t+"-"+E])},[]),C=[].concat(b,[g]).reduce(function(e,t){return e.concat([t,t+"-"+v,t+"-"+E])},[]),S="beforeRead",L="read",k="afterRead",x="beforeMain",P="main",B="afterMain",D="beforeWrite",O="write",U="afterWrite",I=[S,L,k,x,P,B,D,O,U],K={};function j(e){return e?(e.nodeName||"").toLowerCase():null}function M(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function N(e){var t=M(e).Element;return e instanceof t||e instanceof Element}function V(e){var t=M(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function F(e){if("undefined"==typeof ShadowRoot)return!1;var t=M(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}s(K,"applyStyles",()=>G),s(K,"arrow",()=>ed),s(K,"computeStyles",()=>ef),s(K,"eventListeners",()=>em),s(K,"flip",()=>eL),s(K,"hide",()=>eP),s(K,"offset",()=>eB),s(K,"popperOffsets",()=>eD),s(K,"preventOverflow",()=>eO);var G={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},i=t.attributes[e]||{},o=t.elements[e];V(o)&&j(o)&&(Object.assign(o.style,r),Object.keys(i).forEach(function(e){var t=i[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(e){var i=t.elements[e],o=t.attributes[e]||{},n=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce(function(e,t){return e[t]="",e},{});V(i)&&j(i)&&(Object.assign(i.style,n),Object.keys(o).forEach(function(e){i.removeAttribute(e)}))})}},requires:["computeStyles"]};function q(e){return e.split("-")[0]}var $=Math.max,z=Math.min,X=Math.round;function H(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Z(){return!/^((?!chrome|android).)*safari/i.test(H())}function W(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var i=e.getBoundingClientRect(),o=1,n=1;t&&V(e)&&(o=e.offsetWidth>0&&X(i.width)/e.offsetWidth||1,n=e.offsetHeight>0&&X(i.height)/e.offsetHeight||1);var s=(N(e)?M(e):window).visualViewport,a=!Z()&&r,l=(i.left+(a&&s?s.offsetLeft:0))/o,d=(i.top+(a&&s?s.offsetTop:0))/n,c=i.width/o,p=i.height/n;return{width:c,height:p,top:d,right:l+c,bottom:d+p,left:l,x:l,y:d}}function Y(e){var t=W(e),r=e.offsetWidth,i=e.offsetHeight;return 1>=Math.abs(t.width-r)&&(r=t.width),1>=Math.abs(t.height-i)&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:i}}function Q(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&F(r)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function J(e){return M(e).getComputedStyle(e)}function ee(e){return((N(e)?e.ownerDocument:e.document)||window.document).documentElement}function et(e){return"html"===j(e)?e:e.assignedSlot||e.parentNode||(F(e)?e.host:null)||ee(e)}function er(e){return V(e)&&"fixed"!==J(e).position?e.offsetParent:null}function ei(e){for(var t=M(e),r=er(e);r&&["table","td","th"].indexOf(j(r))>=0&&"static"===J(r).position;)r=er(r);return r&&("html"===j(r)||"body"===j(r)&&"static"===J(r).position)?t:r||function(e){var t=/firefox/i.test(H());if(/Trident/i.test(H())&&V(e)&&"fixed"===J(e).position)return null;var r=et(e);for(F(r)&&(r=r.host);V(r)&&0>["html","body"].indexOf(j(r));){var i=J(r);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return r;r=r.parentNode}return null}(e)||t}function eo(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function en(e,t,r){return $(e,z(t,r))}function es(){return{top:0,right:0,bottom:0,left:0}}function ea(e){return Object.assign({},es(),e)}function el(e,t){return t.reduce(function(t,r){return t[r]=e,t},{})}var ed={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,i=e.name,o=e.options,n=r.elements.arrow,s=r.modifiersData.popperOffsets,a=q(r.placement),l=eo(a),d=[y,m].indexOf(a)>=0?"height":"width";if(n&&s){var c,p=(c=o.padding,ea("number"!=typeof(c="function"==typeof c?c(Object.assign({},r.rects,{placement:r.placement})):c)?c:el(c,b))),u=Y(n),g="y"===l?f:y,v="y"===l?h:m,E=r.rects.reference[d]+r.rects.reference[l]-s[l]-r.rects.popper[d],R=s[l]-r.rects.reference[l],A=ei(n),_=A?"y"===l?A.clientHeight||0:A.clientWidth||0:0,T=p[g],w=_-u[d]-p[v],C=_/2-u[d]/2+(E/2-R/2),S=en(T,C,w);r.modifiersData[i]=((t={})[l]=S,t.centerOffset=S-C,t)}},effect:function(e){var t=e.state,r=e.options.element,i=void 0===r?"[data-popper-arrow]":r;null==i||("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&Q(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ec(e){return e.split("-")[1]}var ep={top:"auto",right:"auto",bottom:"auto",left:"auto"};function eu(e){var t,r,i,o,n,s,a,l=e.popper,d=e.popperRect,c=e.placement,p=e.variation,u=e.offsets,g=e.position,b=e.gpuAcceleration,v=e.adaptive,R=e.roundOffsets,A=e.isFixed,_=u.x,T=void 0===_?0:_,w=u.y,C=void 0===w?0:w,S="function"==typeof R?R({x:T,y:C}):{x:T,y:C};T=S.x,C=S.y;var L=u.hasOwnProperty("x"),k=u.hasOwnProperty("y"),x=y,P=f,B=window;if(v){var D=ei(l),O="clientHeight",U="clientWidth";D===M(l)&&"static"!==J(D=ee(l)).position&&"absolute"===g&&(O="scrollHeight",U="scrollWidth"),(c===f||(c===y||c===m)&&p===E)&&(P=h,C-=(A&&D===B&&B.visualViewport?B.visualViewport.height:D[O])-d.height,C*=b?1:-1),(c===y||(c===f||c===h)&&p===E)&&(x=m,T-=(A&&D===B&&B.visualViewport?B.visualViewport.width:D[U])-d.width,T*=b?1:-1)}var I=Object.assign({position:g},v&&ep),K=!0===R?(t={x:T,y:C},r=M(l),i=t.x,o=t.y,{x:X(i*(n=r.devicePixelRatio||1))/n||0,y:X(o*n)/n||0}):{x:T,y:C};return(T=K.x,C=K.y,b)?Object.assign({},I,((a={})[P]=k?"0":"",a[x]=L?"0":"",a.transform=1>=(B.devicePixelRatio||1)?"translate("+T+"px, "+C+"px)":"translate3d("+T+"px, "+C+"px, 0)",a)):Object.assign({},I,((s={})[P]=k?C+"px":"",s[x]=L?T+"px":"",s.transform="",s))}var ef={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,i=r.gpuAcceleration,o=r.adaptive,n=r.roundOffsets,s=void 0===n||n,a={placement:q(t.placement),variation:ec(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===i||i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,eu(Object.assign({},a,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===o||o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,eu(Object.assign({},a,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},eh={passive:!0},em={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,i=e.options,o=i.scroll,n=void 0===o||o,s=i.resize,a=void 0===s||s,l=M(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&d.forEach(function(e){e.addEventListener("scroll",r.update,eh)}),a&&l.addEventListener("resize",r.update,eh),function(){n&&d.forEach(function(e){e.removeEventListener("scroll",r.update,eh)}),a&&l.removeEventListener("resize",r.update,eh)}},data:{}},ey={left:"right",right:"left",bottom:"top",top:"bottom"};function eg(e){return e.replace(/left|right|bottom|top/g,function(e){return ey[e]})}var eb={start:"end",end:"start"};function ev(e){return e.replace(/start|end/g,function(e){return eb[e]})}function eE(e){var t=M(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function eR(e){return W(ee(e)).left+eE(e).scrollLeft}function eA(e){var t=J(e),r=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+i)}function e_(e,t){void 0===t&&(t=[]);var r,i=function e(t){return["html","body","#document"].indexOf(j(t))>=0?t.ownerDocument.body:V(t)&&eA(t)?t:e(et(t))}(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),n=M(i),s=o?[n].concat(n.visualViewport||[],eA(i)?i:[]):i,a=t.concat(s);return o?a:a.concat(e_(et(s)))}function eT(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ew(e,t,r){var i,o,n,s,a,l,d,c,p,u;return t===A?eT(function(e,t){var r=M(e),i=ee(e),o=r.visualViewport,n=i.clientWidth,s=i.clientHeight,a=0,l=0;if(o){n=o.width,s=o.height;var d=Z();(d||!d&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:n,height:s,x:a+eR(e),y:l}}(e,r)):N(t)?((i=W(t,!1,"fixed"===r)).top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i):eT((o=ee(e),s=ee(o),a=eE(o),l=null==(n=o.ownerDocument)?void 0:n.body,d=$(s.scrollWidth,s.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),c=$(s.scrollHeight,s.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),p=-a.scrollLeft+eR(o),u=-a.scrollTop,"rtl"===J(l||s).direction&&(p+=$(s.clientWidth,l?l.clientWidth:0)-d),{width:d,height:c,x:p,y:u}))}function eC(e){var t,r=e.reference,i=e.element,o=e.placement,n=o?q(o):null,s=o?ec(o):null,a=r.x+r.width/2-i.width/2,l=r.y+r.height/2-i.height/2;switch(n){case f:t={x:a,y:r.y-i.height};break;case h:t={x:a,y:r.y+r.height};break;case m:t={x:r.x+r.width,y:l};break;case y:t={x:r.x-i.width,y:l};break;default:t={x:r.x,y:r.y}}var d=n?eo(n):null;if(null!=d){var c="y"===d?"height":"width";switch(s){case v:t[d]=t[d]-(r[c]/2-i[c]/2);break;case E:t[d]=t[d]+(r[c]/2-i[c]/2)}}return t}function eS(e,t){void 0===t&&(t={});var r,i,o,n,s,a,l,d,c=t,p=c.placement,u=void 0===p?e.placement:p,y=c.strategy,g=void 0===y?e.strategy:y,v=c.boundary,E=c.rootBoundary,w=c.elementContext,C=void 0===w?_:w,S=c.altBoundary,L=c.padding,k=void 0===L?0:L,x=ea("number"!=typeof k?k:el(k,b)),P=e.rects.popper,B=e.elements[void 0!==S&&S?C===_?T:_:C],D=(r=N(B)?B:B.contextElement||ee(e.elements.popper),i=void 0===v?R:v,o=void 0===E?A:E,l=(a=[].concat("clippingParents"===i?(n=e_(et(r)),!N(s=["absolute","fixed"].indexOf(J(r).position)>=0&&V(r)?ei(r):r)?[]:n.filter(function(e){return N(e)&&Q(e,s)&&"body"!==j(e)})):[].concat(i),[o]))[0],(d=a.reduce(function(e,t){var i=ew(r,t,g);return e.top=$(i.top,e.top),e.right=z(i.right,e.right),e.bottom=z(i.bottom,e.bottom),e.left=$(i.left,e.left),e},ew(r,l,g))).width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d),O=W(e.elements.reference),U=eC({reference:O,element:P,strategy:"absolute",placement:u}),I=eT(Object.assign({},P,U)),K=C===_?I:O,M={top:D.top-K.top+x.top,bottom:K.bottom-D.bottom+x.bottom,left:D.left-K.left+x.left,right:K.right-D.right+x.right},F=e.modifiersData.offset;if(C===_&&F){var G=F[u];Object.keys(M).forEach(function(e){var t=[m,h].indexOf(e)>=0?1:-1,r=[f,h].indexOf(e)>=0?"y":"x";M[e]+=G[r]*t})}return M}var eL={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var o=r.mainAxis,n=void 0===o||o,s=r.altAxis,a=void 0===s||s,l=r.fallbackPlacements,d=r.padding,c=r.boundary,p=r.rootBoundary,u=r.altBoundary,E=r.flipVariations,R=void 0===E||E,A=r.allowedAutoPlacements,_=t.options.placement,T=q(_)===_,S=l||(T||!R?[eg(_)]:function(e){if(q(e)===g)return[];var t=eg(e);return[ev(e),t,ev(t)]}(_)),L=[_].concat(S).reduce(function(e,r){var i,o,n,s,a,l,u,f,h,m,y,v;return e.concat(q(r)===g?(o=(i={placement:r,boundary:c,rootBoundary:p,padding:d,flipVariations:R,allowedAutoPlacements:A}).placement,n=i.boundary,s=i.rootBoundary,a=i.padding,l=i.flipVariations,f=void 0===(u=i.allowedAutoPlacements)?C:u,0===(y=(m=(h=ec(o))?l?w:w.filter(function(e){return ec(e)===h}):b).filter(function(e){return f.indexOf(e)>=0})).length&&(y=m),Object.keys(v=y.reduce(function(e,r){return e[r]=eS(t,{placement:r,boundary:n,rootBoundary:s,padding:a})[q(r)],e},{})).sort(function(e,t){return v[e]-v[t]})):r)},[]),k=t.rects.reference,x=t.rects.popper,P=new Map,B=!0,D=L[0],O=0;O<L.length;O++){var U=L[O],I=q(U),K=ec(U)===v,j=[f,h].indexOf(I)>=0,M=j?"width":"height",N=eS(t,{placement:U,boundary:c,rootBoundary:p,altBoundary:u,padding:d}),V=j?K?m:y:K?h:f;k[M]>x[M]&&(V=eg(V));var F=eg(V),G=[];if(n&&G.push(N[I]<=0),a&&G.push(N[V]<=0,N[F]<=0),G.every(function(e){return e})){D=U,B=!1;break}P.set(U,G)}if(B)for(var $=R?3:1,z=function(e){var t=L.find(function(t){var r=P.get(t);if(r)return r.slice(0,e).every(function(e){return e})});if(t)return D=t,"break"},X=$;X>0&&"break"!==z(X);X--);t.placement!==D&&(t.modifiersData[i]._skip=!0,t.placement=D,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ek(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function ex(e){return[f,m,h,y].some(function(t){return e[t]>=0})}var eP={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,i=t.rects.reference,o=t.rects.popper,n=t.modifiersData.preventOverflow,s=eS(t,{elementContext:"reference"}),a=eS(t,{altBoundary:!0}),l=ek(s,i),d=ek(a,o,n),c=ex(l),p=ex(d);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:c,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":p})}},eB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,i=e.name,o=r.offset,n=void 0===o?[0,0]:o,s=C.reduce(function(e,r){var i,o,s,a,l,d;return e[r]=(i=t.rects,s=[y,f].indexOf(o=q(r))>=0?-1:1,l=(a="function"==typeof n?n(Object.assign({},i,{placement:r})):n)[0],d=a[1],l=l||0,d=(d||0)*s,[y,m].indexOf(o)>=0?{x:d,y:l}:{x:l,y:d}),e},{}),a=s[t.placement],l=a.x,d=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=d),t.modifiersData[i]=s}},eD={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=eC({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},eO={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,i=e.name,o=r.mainAxis,n=r.altAxis,s=r.boundary,a=r.rootBoundary,l=r.altBoundary,d=r.padding,c=r.tether,p=void 0===c||c,u=r.tetherOffset,g=void 0===u?0:u,b=eS(t,{boundary:s,rootBoundary:a,padding:d,altBoundary:l}),E=q(t.placement),R=ec(t.placement),A=!R,_=eo(E),T="x"===_?"y":"x",w=t.modifiersData.popperOffsets,C=t.rects.reference,S=t.rects.popper,L="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,k="number"==typeof L?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(w){if(void 0===o||o){var B,D="y"===_?f:y,O="y"===_?h:m,U="y"===_?"height":"width",I=w[_],K=I+b[D],j=I-b[O],M=p?-S[U]/2:0,N=R===v?C[U]:S[U],V=R===v?-S[U]:-C[U],F=t.elements.arrow,G=p&&F?Y(F):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:es(),H=X[D],Z=X[O],W=en(0,C[U],G[U]),Q=A?C[U]/2-M-W-H-k.mainAxis:N-W-H-k.mainAxis,J=A?-C[U]/2+M+W+Z+k.mainAxis:V+W+Z+k.mainAxis,ee=t.elements.arrow&&ei(t.elements.arrow),et=ee?"y"===_?ee.clientTop||0:ee.clientLeft||0:0,er=null!=(B=null==x?void 0:x[_])?B:0,ea=en(p?z(K,I+Q-er-et):K,I,p?$(j,I+J-er):j);w[_]=ea,P[_]=ea-I}if(void 0!==n&&n){var el,ed,ep="x"===_?f:y,eu="x"===_?h:m,ef=w[T],eh="y"===T?"height":"width",em=ef+b[ep],ey=ef-b[eu],eg=-1!==[f,y].indexOf(E),eb=null!=(ed=null==x?void 0:x[T])?ed:0,ev=eg?em:ef-C[eh]-S[eh]-eb+k.altAxis,eE=eg?ef+C[eh]+S[eh]-eb-k.altAxis:ey,eR=p&&eg?(el=en(ev,ef,eE))>eE?eE:el:en(p?ev:em,ef,p?eE:ey);w[T]=eR,P[T]=eR-ef}t.modifiersData[i]=P}},requiresIfExists:["offset"]},eU={placement:"bottom",modifiers:[],strategy:"absolute"};function eI(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function eK(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,i=void 0===r?[]:r,o=t.defaultOptions,n=void 0===o?eU:o;return function(e,t,r){void 0===r&&(r=n);var o,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},eU,n),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],d=!1,c={state:a,setOptions:function(r){var o,s,d,u,f,h,m="function"==typeof r?r(a.options):r;p(),a.options=Object.assign({},n,a.options,m),a.scrollParents={reference:N(e)?e_(e):e.contextElement?e_(e.contextElement):[],popper:e_(t)};var y=(s=Object.keys(o=[].concat(i,a.options.modifiers).reduce(function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e},{})).map(function(e){return o[e]}),d=new Map,u=new Set,f=[],s.forEach(function(e){d.set(e.name,e)}),s.forEach(function(e){u.has(e.name)||function e(t){u.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!u.has(t)){var r=d.get(t);r&&e(r)}}),f.push(t)}(e)}),h=f,I.reduce(function(e,t){return e.concat(h.filter(function(e){return e.phase===t}))},[]));return a.orderedModifiers=y.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,r=e.options,i=e.effect;if("function"==typeof i){var o=i({state:a,name:t,instance:c,options:void 0===r?{}:r});l.push(o||function(){})}}),c.update()},forceUpdate:function(){if(!d){var e=a.elements,t=e.reference,r=e.popper;if(eI(t,r)){a.rects={reference:(i=ei(r),o="fixed"===a.options.strategy,n=V(i),u=V(i)&&(l=X((s=i.getBoundingClientRect()).width)/i.offsetWidth||1,p=X(s.height)/i.offsetHeight||1,1!==l||1!==p),f=ee(i),h=W(t,u,o),m={scrollLeft:0,scrollTop:0},y={x:0,y:0},(n||!n&&!o)&&(("body"!==j(i)||eA(f))&&(m=function(e){return e!==M(e)&&V(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:eE(e)}(i)),V(i)?(y=W(i,!0),y.x+=i.clientLeft,y.y+=i.clientTop):f&&(y.x=eR(f))),{x:h.left+m.scrollLeft-y.x,y:h.top+m.scrollTop-y.y,width:h.width,height:h.height}),popper:Y(r)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var i,o,n,s,l,p,u,f,h,m,y,g=0;g<a.orderedModifiers.length;g++){if(!0===a.reset){a.reset=!1,g=-1;continue}var b=a.orderedModifiers[g],v=b.fn,E=b.options,R=void 0===E?{}:E,A=b.name;"function"==typeof v&&(a=v({state:a,options:R,name:A,instance:c})||a)}}}},update:(o=function(){return new Promise(function(e){c.forceUpdate(),e(a)})},function(){return s||(s=new Promise(function(e){Promise.resolve().then(function(){s=void 0,e(o())})})),s}),destroy:function(){p(),d=!0}};if(!eI(e,t))return c;function p(){l.forEach(function(e){return e()}),l=[]}return c.setOptions(r).then(function(e){!d&&r.onFirstUpdate&&r.onFirstUpdate(e)}),c}}var ej=eK(),eM=eK({defaultModifiers:[em,eD,ef,G,eB,eL,eO,ed,eP]}),eN=eK({defaultModifiers:[em,eD,ef,G]});n(p,u),n(p,K);let eV=new Map,eF={set(e,t,r){eV.has(e)||eV.set(e,new Map);let i=eV.get(e);i.has(t)||0===i.size?i.set(t,r):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(e,t)=>eV.has(e)&&eV.get(e).get(t)||null,remove(e,t){if(!eV.has(e))return;let r=eV.get(e);r.delete(t),0===r.size&&eV.delete(e)}},eG="transitionend",eq=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),e),e$=e=>null==e?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),ez=e=>{e.dispatchEvent(new Event(eG))},eX=e=>!!e&&"object"==typeof e&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),eH=e=>eX(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(eq(e)):null,eZ=e=>{if(!eX(e)||0===e.getClientRects().length)return!1;let t="visible"===getComputedStyle(e).getPropertyValue("visibility"),r=e.closest("details:not([open])");if(!r)return t;if(r!==e){let t=e.closest("summary");if(t&&t.parentNode!==r||null===t)return!1}return t},eW=e=>!!(!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled"))||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),eY=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){let t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?eY(e.parentNode):null},eQ=()=>{},eJ=e=>{e.offsetHeight},e0=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,e1=[],e4=e=>{var t;t=()=>{let t=e0();if(t){let r=e.NAME,i=t.fn[r];t.fn[r]=e.jQueryInterface,t.fn[r].Constructor=e,t.fn[r].noConflict=()=>(t.fn[r]=i,e.jQueryInterface)}},"loading"===document.readyState?(e1.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of e1)e()}),e1.push(t)):t()},e5=(e,t=[],r=e)=>"function"==typeof e?e.call(...t):r,e2=(e,t,r=!0)=>{if(!r)return void e5(e);let i=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:r}=window.getComputedStyle(e),i=Number.parseFloat(t),o=Number.parseFloat(r);return i||o?(t=t.split(",")[0],r=r.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(r))*1e3):0})(t)+5,o=!1,n=({target:r})=>{r===t&&(o=!0,t.removeEventListener(eG,n),e5(e))};t.addEventListener(eG,n),setTimeout(()=>{o||ez(t)},i)},e3=(e,t,r,i)=>{let o=e.length,n=e.indexOf(t);return -1===n?!r&&i?e[o-1]:e[0]:(n+=r?1:-1,i&&(n=(n+o)%o),e[Math.max(0,Math.min(n,o-1))])},e7=/[^.]*(?=\..*)\.|.*/,e6=/\..*/,e9=/::\d+$/,e8={},te=1,tt={mouseenter:"mouseover",mouseleave:"mouseout"},tr=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ti(e,t){return t&&`${t}::${te++}`||e.uidEvent||te++}function to(e){let t=ti(e);return e.uidEvent=t,e8[t]=e8[t]||{},e8[t]}function tn(e,t,r=null){return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===r)}function ts(e,t,r){let i="string"==typeof t,o=td(e);return tr.has(o)||(o=e),[i,i?r:t||r,o]}function ta(e,t,r,i,o){var n,s;if("string"!=typeof t||!e)return;let[a,l,d]=ts(t,r,i);if(t in tt){let e;e=l,l=function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}}let c=to(e),p=c[d]||(c[d]={}),u=tn(p,l,a?r:null);if(u){u.oneOff=u.oneOff&&o;return}let f=ti(l,t.replace(e7,"")),h=a?(n=l,function t(i){let o=e.querySelectorAll(r);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(let a of o)if(a===s)return tp(i,{delegateTarget:s}),t.oneOff&&tc.off(e,i.type,r,n),n.apply(s,[i])}):(s=l,function t(r){return tp(r,{delegateTarget:e}),t.oneOff&&tc.off(e,r.type,s),s.apply(e,[r])});h.delegationSelector=a?r:null,h.callable=l,h.oneOff=o,h.uidEvent=f,p[f]=h,e.addEventListener(d,h,a)}function tl(e,t,r,i,o){let n=tn(t[r],i,o);n&&(e.removeEventListener(r,n,!!o),delete t[r][n.uidEvent])}function td(e){return tt[e=e.replace(e6,"")]||e}let tc={on(e,t,r,i){ta(e,t,r,i,!1)},one(e,t,r,i){ta(e,t,r,i,!0)},off(e,t,r,i){if("string"!=typeof t||!e)return;let[o,n,s]=ts(t,r,i),a=s!==t,l=to(e),d=l[s]||{},c=t.startsWith(".");if(void 0!==n){if(!Object.keys(d).length)return;tl(e,l,s,n,o?r:null);return}if(c)for(let r of Object.keys(l)){var p=t.slice(1);for(let[t,i]of Object.entries(l[r]||{}))t.includes(p)&&tl(e,l,r,i.callable,i.delegationSelector)}for(let[r,i]of Object.entries(d)){let o=r.replace(e9,"");(!a||t.includes(o))&&tl(e,l,s,i.callable,i.delegationSelector)}},trigger(e,t,r){if("string"!=typeof t||!e)return null;let i=e0(),o=td(t),n=null,s=!0,a=!0,l=!1;t!==o&&i&&(n=i.Event(t,r),i(e).trigger(n),s=!n.isPropagationStopped(),a=!n.isImmediatePropagationStopped(),l=n.isDefaultPrevented());let d=tp(new Event(t,{bubbles:s,cancelable:!0}),r);return l&&d.preventDefault(),a&&e.dispatchEvent(d),d.defaultPrevented&&n&&n.preventDefault(),d}};function tp(e,t={}){for(let[r,i]of Object.entries(t))try{e[r]=i}catch(t){Object.defineProperty(e,r,{configurable:!0,get:()=>i})}return e}function tu(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function tf(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}let th={setDataAttribute(e,t,r){e.setAttribute(`data-bs-${tf(t)}`,r)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${tf(t)}`)},getDataAttributes(e){if(!e)return{};let t={};for(let r of Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"))){let i=r.replace(/^bs/,"");t[i=i.charAt(0).toLowerCase()+i.slice(1)]=tu(e.dataset[r])}return t},getDataAttribute:(e,t)=>tu(e.getAttribute(`data-bs-${tf(t)}`))};class tm{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let r=eX(t)?th.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof r?r:{},...eX(t)?th.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let[r,i]of Object.entries(t)){let t=e[r],o=eX(t)?"element":e$(t);if(!new RegExp(i).test(o))throw TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${i}".`)}}}class ty extends tm{constructor(e,t){if(super(),!(e=eH(e)))return;this._element=e,this._config=this._getConfig(t),eF.set(this._element,this.constructor.DATA_KEY,this)}dispose(){for(let e of(eF.remove(this._element,this.constructor.DATA_KEY),tc.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this)))this[e]=null}_queueCallback(e,t,r=!0){e2(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return eF.get(eH(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}let tg=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let r=e.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),t=r&&"#"!==r?r.trim():null}return t?t.split(",").map(e=>eq(e)).join(","):null},tb={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){let r=[],i=e.parentNode.closest(t);for(;i;)r.push(i),i=i.parentNode.closest(t);return r},prev(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return[r];r=r.previousElementSibling}return[]},next(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return[r];r=r.nextElementSibling}return[]},focusableChildren(e){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(e=>!eW(e)&&eZ(e))},getSelectorFromElement(e){let t=tg(e);return t&&tb.findOne(t)?t:null},getElementFromSelector(e){let t=tg(e);return t?tb.findOne(t):null},getMultipleElementsFromSelector(e){let t=tg(e);return t?tb.find(t):[]}},tv=(e,t="hide")=>{let r=`click.dismiss${e.EVENT_KEY}`,i=e.NAME;tc.on(document,r,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),eW(this))return;let o=tb.getElementFromSelector(this)||this.closest(`.${i}`);e.getOrCreateInstance(o)[t]()})},tE=".bs.alert",tR=`close${tE}`,tA=`closed${tE}`;class t_ extends ty{static get NAME(){return"alert"}close(){if(tc.trigger(this._element,tR).defaultPrevented)return;this._element.classList.remove("show");let e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),tc.trigger(this._element,tA),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=t_.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e](this)}})}}tv(t_,"close"),e4(t_);let tT='[data-bs-toggle="button"]',tw="click.bs.button.data-api";class tC extends ty{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){let t=tC.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}tc.on(document,tw,tT,e=>{e.preventDefault();let t=e.target.closest(tT);tC.getOrCreateInstance(t).toggle()}),e4(tC);let tS=".bs.swipe",tL=`touchstart${tS}`,tk=`touchmove${tS}`,tx=`touchend${tS}`,tP=`pointerdown${tS}`,tB=`pointerup${tS}`,tD={endCallback:null,leftCallback:null,rightCallback:null},tO={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class tU extends tm{constructor(e,t){if(super(),this._element=e,!e||!tU.isSupported())return;this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents()}static get Default(){return tD}static get DefaultType(){return tO}static get NAME(){return"swipe"}dispose(){tc.off(this._element,tS)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),e5(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=40)return;let t=e/this._deltaX;this._deltaX=0,t&&e5(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(tc.on(this._element,tP,e=>this._start(e)),tc.on(this._element,tB,e=>this._end(e)),this._element.classList.add("pointer-event")):(tc.on(this._element,tL,e=>this._start(e)),tc.on(this._element,tk,e=>this._move(e)),tc.on(this._element,tx,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}let tI=".bs.carousel",tK=".data-api",tj="next",tM="prev",tN="left",tV="right",tF=`slide${tI}`,tG=`slid${tI}`,tq=`keydown${tI}`,t$=`mouseenter${tI}`,tz=`mouseleave${tI}`,tX=`dragstart${tI}`,tH=`load${tI}${tK}`,tZ=`click${tI}${tK}`,tW="carousel",tY="active",tQ=".active",tJ=".carousel-item",t0=tQ+tJ,t1={ArrowLeft:tV,ArrowRight:tN},t4={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},t5={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class t2 extends ty{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=tb.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===tW&&this.cycle()}static get Default(){return t4}static get DefaultType(){return t5}static get NAME(){return"carousel"}next(){this._slide(tj)}nextWhenVisible(){!document.hidden&&eZ(this._element)&&this.next()}prev(){this._slide(tM)}pause(){this._isSliding&&ez(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void tc.one(this._element,tG,()=>this.cycle());this.cycle()}}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void tc.one(this._element,tG,()=>this.to(e));let r=this._getItemIndex(this._getActive());r===e||this._slide(e>r?tj:tM,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&tc.on(this._element,tq,e=>this._keydown(e)),"hover"===this._config.pause&&(tc.on(this._element,t$,()=>this.pause()),tc.on(this._element,tz,()=>this._maybeEnableCycle())),this._config.touch&&tU.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let e of tb.find(".carousel-item img",this._element))tc.on(e,tX,e=>e.preventDefault());let e=()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))};this._swipeHelper=new tU(this._element,{leftCallback:()=>this._slide(this._directionToOrder(tN)),rightCallback:()=>this._slide(this._directionToOrder(tV)),endCallback:e})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=t1[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=tb.findOne(tQ,this._indicatorsElement);t.classList.remove(tY),t.removeAttribute("aria-current");let r=tb.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(tY),r.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let r=this._getActive(),i=e===tj,o=t||e3(this._getItems(),r,i,this._config.wrap);if(o===r)return;let n=this._getItemIndex(o),s=t=>tc.trigger(this._element,t,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:n});if(s(tF).defaultPrevented||!r||!o)return;let a=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(n),this._activeElement=o;let l=i?"carousel-item-start":"carousel-item-end",d=i?"carousel-item-next":"carousel-item-prev";o.classList.add(d),eJ(o),r.classList.add(l),o.classList.add(l);let c=()=>{o.classList.remove(l,d),o.classList.add(tY),r.classList.remove(tY,d,l),this._isSliding=!1,s(tG)};this._queueCallback(c,r,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return tb.findOne(t0,this._element)}_getItems(){return tb.find(tJ,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return"rtl"===document.documentElement.dir?e===tN?tM:tj:e===tN?tj:tM}_orderToDirection(e){return"rtl"===document.documentElement.dir?e===tM?tN:tV:e===tM?tV:tN}static jQueryInterface(e){return this.each(function(){let t=t2.getOrCreateInstance(this,e);if("number"==typeof e)return void t.to(e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}tc.on(document,tZ,"[data-bs-slide], [data-bs-slide-to]",function(e){let t=tb.getElementFromSelector(this);if(!t||!t.classList.contains(tW))return;e.preventDefault();let r=t2.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");if(i){r.to(i),r._maybeEnableCycle();return}if("next"===th.getDataAttribute(this,"slide")){r.next(),r._maybeEnableCycle();return}r.prev(),r._maybeEnableCycle()}),tc.on(window,tH,()=>{for(let e of tb.find('[data-bs-ride="carousel"]'))t2.getOrCreateInstance(e)}),e4(t2);let t3=".bs.collapse",t7=`show${t3}`,t6=`shown${t3}`,t9=`hide${t3}`,t8=`hidden${t3}`,re=`click${t3}.data-api`,rt="show",rr="collapse",ri="collapsing",ro=`:scope .${rr} .${rr}`,rn='[data-bs-toggle="collapse"]',rs={parent:null,toggle:!0},ra={parent:"(null|element)",toggle:"boolean"};class rl extends ty{constructor(e,t){for(let r of(super(e,t),this._isTransitioning=!1,this._triggerArray=[],tb.find(rn))){let e=tb.getSelectorFromElement(r),t=tb.find(e).filter(e=>e===this._element);null!==e&&t.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return rs}static get DefaultType(){return ra}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>rl.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning||tc.trigger(this._element,t7).defaultPrevented)return;for(let t of e)t.hide();let t=this._getDimension();this._element.classList.remove(rr),this._element.classList.add(ri),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(ri),this._element.classList.add(rr,rt),this._element.style[t]="",tc.trigger(this._element,t6)},i=t[0].toUpperCase()+t.slice(1),o=`scroll${i}`;this._queueCallback(r,this._element,!0),this._element.style[t]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||tc.trigger(this._element,t9).defaultPrevented)return;let e=this._getDimension();for(let t of(this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,eJ(this._element),this._element.classList.add(ri),this._element.classList.remove(rr,rt),this._triggerArray)){let e=tb.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;let t=()=>{this._isTransitioning=!1,this._element.classList.remove(ri),this._element.classList.add(rr),tc.trigger(this._element,t8)};this._element.style[e]="",this._queueCallback(t,this._element,!0)}_isShown(e=this._element){return e.classList.contains(rt)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=eH(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent)for(let e of this._getFirstLevelChildren(rn)){let t=tb.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(e){let t=tb.find(ro,this._config.parent);return tb.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let r of e)r.classList.toggle("collapsed",!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let r=rl.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===r[e])throw TypeError(`No method named "${e}"`);r[e]()}})}}tc.on(document,re,rn,function(e){for(let t of(("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault(),tb.getMultipleElementsFromSelector(this)))rl.getOrCreateInstance(t,{toggle:!1}).toggle()}),e4(rl);let rd="dropdown",rc=".bs.dropdown",rp=".data-api",ru="ArrowDown",rf=`hide${rc}`,rh=`hidden${rc}`,rm=`show${rc}`,ry=`shown${rc}`,rg=`click${rc}${rp}`,rb=`keydown${rc}${rp}`,rv=`keyup${rc}${rp}`,rE="show",rR='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',rA=`${rR}.${rE}`,r_=".dropdown-menu",rT="rtl"===document.documentElement.dir?"top-end":"top-start",rw="rtl"===document.documentElement.dir?"top-start":"top-end",rC="rtl"===document.documentElement.dir?"bottom-end":"bottom-start",rS="rtl"===document.documentElement.dir?"bottom-start":"bottom-end",rL="rtl"===document.documentElement.dir?"left-start":"right-start",rk="rtl"===document.documentElement.dir?"right-start":"left-start",rx={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},rP={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class rB extends ty{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=tb.next(this._element,r_)[0]||tb.prev(this._element,r_)[0]||tb.findOne(r_,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return rx}static get DefaultType(){return rP}static get NAME(){return rd}toggle(){return this._isShown()?this.hide():this.show()}show(){if(eW(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!tc.trigger(this._element,rm,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let e of[].concat(...document.body.children))tc.on(e,"mouseover",eQ);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(rE),this._element.classList.add(rE),tc.trigger(this._element,ry,e)}}hide(){if(eW(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!tc.trigger(this._element,rf,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))tc.off(e,"mouseover",eQ);this._popper&&this._popper.destroy(),this._menu.classList.remove(rE),this._element.classList.remove(rE),this._element.setAttribute("aria-expanded","false"),th.removeDataAttribute(this._menu,"popper"),tc.trigger(this._element,rh,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!eX(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw TypeError(`${rd.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===p)throw TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;"parent"===this._config.reference?e=this._parent:eX(this._config.reference)?e=eH(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=p.createPopper(e,this._menu,t)}_isShown(){return this._menu.classList.contains(rE)}_getPlacement(){let e=this._parent;if(e.classList.contains("dropend"))return rL;if(e.classList.contains("dropstart"))return rk;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";let t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?rw:rT:t?rS:rC}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(th.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...e5(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){let r=tb.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>eZ(e));r.length&&e3(r,t,e===ru,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=rB.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2!==e.button&&("keyup"!==e.type||"Tab"===e.key))for(let t of tb.find(rA)){let r=rB.getInstance(t);if(!r||!1===r._config.autoClose)continue;let i=e.composedPath(),o=i.includes(r._menu);if(i.includes(r._element)||"inside"===r._config.autoClose&&!o||"outside"===r._config.autoClose&&o||r._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let n={relatedTarget:r._element};"click"===e.type&&(n.clickEvent=e),r._completeHide(n)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),r="Escape"===e.key,i=["ArrowUp",ru].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();let o=this.matches(rR)?this:tb.prev(this,rR)[0]||tb.next(this,rR)[0]||tb.findOne(rR,e.delegateTarget.parentNode),n=rB.getOrCreateInstance(o);if(i){e.stopPropagation(),n.show(),n._selectMenuItem(e);return}n._isShown()&&(e.stopPropagation(),n.hide(),o.focus())}}tc.on(document,rb,rR,rB.dataApiKeydownHandler),tc.on(document,rb,r_,rB.dataApiKeydownHandler),tc.on(document,rg,rB.clearMenus),tc.on(document,rv,rB.clearMenus),tc.on(document,rg,rR,function(e){e.preventDefault(),rB.getOrCreateInstance(this).toggle()}),e4(rB);let rD="backdrop",rO="show",rU=`mousedown.bs.${rD}`,rI={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},rK={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class rj extends tm{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return rI}static get DefaultType(){return rK}static get NAME(){return rD}show(e){if(!this._config.isVisible)return void e5(e);this._append();let t=this._getElement();this._config.isAnimated&&eJ(t),t.classList.add(rO),this._emulateAnimation(()=>{e5(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove(rO),this._emulateAnimation(()=>{this.dispose(),e5(e)})):e5(e)}dispose(){this._isAppended&&(tc.off(this._element,rU),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=eH(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),tc.on(e,rU,()=>{e5(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){e2(e,this._getElement(),this._config.isAnimated)}}let rM=".bs.focustrap",rN=`focusin${rM}`,rV=`keydown.tab${rM}`,rF="backward",rG={autofocus:!0,trapElement:null},rq={autofocus:"boolean",trapElement:"element"};class r$ extends tm{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return rG}static get DefaultType(){return rq}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),tc.off(document,rM),tc.on(document,rN,e=>this._handleFocusin(e)),tc.on(document,rV,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,tc.off(document,rM))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let r=tb.focusableChildren(t);0===r.length?t.focus():this._lastTabNavDirection===rF?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?rF:"forward")}}let rz=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",rX=".sticky-top",rH="padding-right",rZ="margin-right";class rW{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,rH,t=>t+e),this._setElementAttributes(rz,rH,t=>t+e),this._setElementAttributes(rX,rZ,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,rH),this._resetElementAttributes(rz,rH),this._resetElementAttributes(rX,rZ)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){let i=this.getWidth(),o=e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+i)return;this._saveInitialAttribute(e,t);let o=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${r(Number.parseFloat(o))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,t){let r=e.style.getPropertyValue(t);r&&th.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{let r=th.getDataAttribute(e,t);null===r?e.style.removeProperty(t):(th.removeDataAttribute(e,t),e.style.setProperty(t,r))})}_applyManipulationCallback(e,t){if(eX(e))return void t(e);for(let r of tb.find(e,this._element))t(r)}}let rY=".bs.modal",rQ=`hide${rY}`,rJ=`hidePrevented${rY}`,r0=`hidden${rY}`,r1=`show${rY}`,r4=`shown${rY}`,r5=`resize${rY}`,r2=`click.dismiss${rY}`,r3=`mousedown.dismiss${rY}`,r7=`keydown.dismiss${rY}`,r6=`click${rY}.data-api`,r9="modal-open",r8="show",ie="modal-static",it={backdrop:!0,focus:!0,keyboard:!0},ir={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ii extends ty{constructor(e,t){super(e,t),this._dialog=tb.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new rW,this._addEventListeners()}static get Default(){return it}static get DefaultType(){return ir}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||tc.trigger(this._element,r1,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(r9),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||tc.trigger(this._element,rQ).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(r8),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){tc.off(window,rY),tc.off(this._dialog,rY),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new rj({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new r$({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=tb.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),eJ(this._element),this._element.classList.add(r8);let r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,tc.trigger(this._element,r4,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){tc.on(this._element,r7,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),tc.on(window,r5,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),tc.on(this._element,r3,e=>{tc.one(this._element,r2,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(r9),this._resetAdjustments(),this._scrollBar.reset(),tc.trigger(this._element,r0)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(tc.trigger(this._element,rJ).defaultPrevented)return;let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(ie)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(ie),this._queueCallback(()=>{this._element.classList.remove(ie),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){let e="rtl"===document.documentElement.dir?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!r&&e){let e="rtl"===document.documentElement.dir?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let r=ii.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===r[e])throw TypeError(`No method named "${e}"`);r[e](t)}})}}tc.on(document,r6,'[data-bs-toggle="modal"]',function(e){let t=tb.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),tc.one(t,r1,e=>{e.defaultPrevented||tc.one(t,r0,()=>{eZ(this)&&this.focus()})});let r=tb.findOne(".modal.show");r&&ii.getInstance(r).hide(),ii.getOrCreateInstance(t).toggle(this)}),tv(ii),e4(ii);let io=".bs.offcanvas",is=".data-api",ia=`load${io}${is}`,il="show",id="showing",ic="hiding",ip=".offcanvas.show",iu=`show${io}`,ih=`shown${io}`,im=`hide${io}`,iy=`hidePrevented${io}`,ig=`hidden${io}`,ib=`resize${io}`,iv=`click${io}${is}`,iE=`keydown.dismiss${io}`,iR={backdrop:!0,keyboard:!0,scroll:!1},iA={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class i_ extends ty{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return iR}static get DefaultType(){return iA}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||tc.trigger(this._element,iu,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new rW().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(id);let t=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(il),this._element.classList.remove(id),tc.trigger(this._element,ih,{relatedTarget:e})};this._queueCallback(t,this._element,!0)}hide(){if(!this._isShown||tc.trigger(this._element,im).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ic),this._backdrop.hide();let e=()=>{this._element.classList.remove(il,ic),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new rW().reset(),tc.trigger(this._element,ig)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=()=>{"static"===this._config.backdrop?tc.trigger(this._element,iy):this.hide()},t=!!this._config.backdrop;return new rj({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new r$({trapElement:this._element})}_addEventListeners(){tc.on(this._element,iE,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();tc.trigger(this._element,iy)}})}static jQueryInterface(e){return this.each(function(){let t=i_.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e](this)}})}}tc.on(document,iv,'[data-bs-toggle="offcanvas"]',function(e){let t=tb.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),eW(this))return;tc.one(t,ig,()=>{eZ(this)&&this.focus()});let r=tb.findOne(ip);r&&r!==t&&i_.getInstance(r).hide(),i_.getOrCreateInstance(t).toggle(this)}),tc.on(window,ia,()=>{for(let e of tb.find(ip))i_.getOrCreateInstance(e).show()}),tc.on(window,ib,()=>{for(let e of tb.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&i_.getOrCreateInstance(e).hide()}),tv(i_),e4(i_);let iT={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},iw=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),iC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,iS=(e,t)=>{let r=e.nodeName.toLowerCase();return t.includes(r)?!iw.has(r)||!!iC.test(e.nodeValue):t.filter(e=>e instanceof RegExp).some(e=>e.test(r))},iL={allowList:iT,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ik={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ix={entry:"(string|element|function|null)",selector:"(string|element)"};class iP extends tm{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return iL}static get DefaultType(){return ik}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){let e=document.createElement("div");for(let[t,r]of(e.innerHTML=this._maybeSanitize(this._config.template),Object.entries(this._config.content)))this._setContent(e,r,t);let t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},ix)}_setContent(e,t,r){let i=tb.findOne(r,e);if(i){if(!(t=this._resolvePossibleFunction(t)))return void i.remove();if(eX(t))return void this._putElementInTemplate(eH(t),i);if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function(e,t,r){if(!e.length)return e;if(r&&"function"==typeof r)return r(e);let i=new window.DOMParser().parseFromString(e,"text/html");for(let e of[].concat(...i.body.querySelectorAll("*"))){let r=e.nodeName.toLowerCase();if(!Object.keys(t).includes(r)){e.remove();continue}let i=[].concat(...e.attributes),o=[].concat(t["*"]||[],t[r]||[]);for(let t of i)iS(t,o)||e.removeAttribute(t.nodeName)}return i.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return e5(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}let iB=new Set(["sanitize","allowList","sanitizeFn"]),iD="fade",iO="show",iU=".modal",iI="hide.bs.modal",iK="hover",ij="focus",iM="click",iN={AUTO:"auto",TOP:"top",RIGHT:"rtl"===document.documentElement.dir?"left":"right",BOTTOM:"bottom",LEFT:"rtl"===document.documentElement.dir?"right":"left"},iV={allowList:iT,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},iF={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class iG extends ty{constructor(e,t){if(void 0===p)throw TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return iV}static get DefaultType(){return iF}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),tc.off(this._element.closest(iU),iI,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=tc.trigger(this._element,this.constructor.eventName("show")),t=(eY(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();let r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));let{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),tc.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(r),r.classList.add(iO),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))tc.on(e,"mouseover",eQ);let o=()=>{tc.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||tc.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;if(this._getTipElement().classList.remove(iO),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))tc.off(e,"mouseover",eQ);this._activeTrigger[iM]=!1,this._activeTrigger[ij]=!1,this._activeTrigger[iK]=!1,this._isHovered=null;let e=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),tc.trigger(this._element,this.constructor.eventName("hidden")))};this._queueCallback(e,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(iD,iO),t.classList.add(`bs-${this.constructor.NAME}-auto`);let r=(e=>{do e+=Math.floor(1e6*Math.random());while(document.getElementById(e))return e})(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(iD),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new iP({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(iD)}_isShown(){return this.tip&&this.tip.classList.contains(iO)}_createPopper(e){let t=iN[e5(this._config.placement,[this,e,this._element]).toUpperCase()];return p.createPopper(this._element,e,this._getPopperConfig(t))}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return e5(e,[this._element,this._element])}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...e5(this._config.popperConfig,[void 0,t])}}_setListeners(){for(let e of this._config.trigger.split(" "))if("click"===e)tc.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger[iM]=!(t._isShown()&&t._activeTrigger[iM]),t.toggle()});else if("manual"!==e){let t=e===iK?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),r=e===iK?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");tc.on(this._element,t,this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?ij:iK]=!0,t._enter()}),tc.on(this._element,r,this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?ij:iK]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},tc.on(this._element.closest(iU),iI,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=th.getDataAttributes(this._element);for(let e of Object.keys(t))iB.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:eH(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let t=iG.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}}e4(iG);let iq={...iG.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},i$={...iG.DefaultType,content:"(null|string|element|function)"};class iz extends iG{static get Default(){return iq}static get DefaultType(){return i$}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=iz.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}}e4(iz);let iX=".bs.scrollspy",iH=`activate${iX}`,iZ=`click${iX}`,iW=`load${iX}.data-api`,iY="active",iQ="[href]",iJ=".nav-link",i0=`${iJ}, .nav-item > ${iJ}, .list-group-item`,i1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},i4={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class i5 extends ty{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return i1}static get DefaultType(){return i4}static get NAME(){return"scrollspy"}refresh(){for(let e of(this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver(),this._observableSections.values()))this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=eH(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(tc.off(this._config.target,iZ),tc.on(this._config.target,iZ,iQ,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo)return void r.scrollTo({top:i,behavior:"smooth"});r.scrollTop=i}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){let t=e=>this._targetLinks.get(`#${e.target.id}`),r=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},i=(this._rootElement||document.documentElement).scrollTop,o=i>=this._previousScrollData.parentScrollTop;for(let n of(this._previousScrollData.parentScrollTop=i,e)){if(!n.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(n));continue}let e=n.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&e){if(r(n),!i)return;continue}o||e||r(n)}}_initializeTargetsAndObservables(){for(let e of(this._targetLinks=new Map,this._observableSections=new Map,tb.find(iQ,this._config.target))){if(!e.hash||eW(e))continue;let t=tb.findOne(decodeURI(e.hash),this._element);eZ(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(iY),this._activateParents(e),tc.trigger(this._element,iH,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))return void tb.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(iY);for(let t of tb.parents(e,".nav, .list-group"))for(let e of tb.prev(t,i0))e.classList.add(iY)}_clearActiveClass(e){for(let t of(e.classList.remove(iY),tb.find(`${iQ}.${iY}`,e)))t.classList.remove(iY)}static jQueryInterface(e){return this.each(function(){let t=i5.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}tc.on(window,iW,()=>{for(let e of tb.find('[data-bs-spy="scroll"]'))i5.getOrCreateInstance(e)}),e4(i5);let i2=".bs.tab",i3=`hide${i2}`,i7=`hidden${i2}`,i6=`show${i2}`,i9=`shown${i2}`,i8=`click${i2}`,oe=`keydown${i2}`,ot=`load${i2}`,or="ArrowRight",oi="ArrowDown",oo="Home",on="active",os="fade",oa="show",ol=".dropdown-toggle",od=`:not(${ol})`,oc=`.nav-link${od}, .list-group-item${od}, [role="tab"]${od}`,op='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ou=`${oc}, ${op}`,of=`.${on}[data-bs-toggle="tab"], .${on}[data-bs-toggle="pill"], .${on}[data-bs-toggle="list"]`;class oh extends ty{constructor(e){if(super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),!this._parent)return;this._setInitialAttributes(this._parent,this._getChildren()),tc.on(this._element,oe,e=>this._keydown(e))}static get NAME(){return"tab"}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),r=t?tc.trigger(t,i3,{relatedTarget:e}):null;tc.trigger(e,i6,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(on),this._activate(tb.getElementFromSelector(e));let r=()=>{"tab"!==e.getAttribute("role")?e.classList.add(oa):(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),tc.trigger(e,i9,{relatedTarget:t}))};this._queueCallback(r,e,e.classList.contains(os))}_deactivate(e,t){if(!e)return;e.classList.remove(on),e.blur(),this._deactivate(tb.getElementFromSelector(e));let r=()=>{"tab"!==e.getAttribute("role")?e.classList.remove(oa):(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),tc.trigger(e,i7,{relatedTarget:t}))};this._queueCallback(r,e,e.classList.contains(os))}_keydown(e){let t;if(!["ArrowLeft",or,"ArrowUp",oi,oo,"End"].includes(e.key))return;e.stopPropagation(),e.preventDefault();let r=this._getChildren().filter(e=>!eW(e));if([oo,"End"].includes(e.key))t=r[e.key===oo?0:r.length-1];else{let i=[or,oi].includes(e.key);t=e3(r,e.target,i,!0)}t&&(t.focus({preventScroll:!0}),oh.getOrCreateInstance(t).show())}_getChildren(){return tb.find(ou,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){for(let r of(this._setAttributeIfNotExists(e,"role","tablist"),t))this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=tb.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){let r=this._getOuterElement(e);if(!r.classList.contains("dropdown"))return;let i=(e,i)=>{let o=tb.findOne(e,r);o&&o.classList.toggle(i,t)};i(ol,on),i(".dropdown-menu",oa),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(on)}_getInnerElement(e){return e.matches(ou)?e:tb.findOne(ou,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){let t=oh.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}tc.on(document,i8,op,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),eW(this)||oh.getOrCreateInstance(this).show()}),tc.on(window,ot,()=>{for(let e of tb.find(of))oh.getOrCreateInstance(e)}),e4(oh);let om=".bs.toast",oy=`mouseover${om}`,og=`mouseout${om}`,ob=`focusin${om}`,ov=`focusout${om}`,oE=`hide${om}`,oR=`hidden${om}`,oA=`show${om}`,o_=`shown${om}`,oT="hide",ow="show",oC="showing",oS={animation:"boolean",autohide:"boolean",delay:"number"},oL={animation:!0,autohide:!0,delay:5e3};class ok extends ty{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return oL}static get DefaultType(){return oS}static get NAME(){return"toast"}show(){if(tc.trigger(this._element,oA).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");let e=()=>{this._element.classList.remove(oC),tc.trigger(this._element,o_),this._maybeScheduleHide()};this._element.classList.remove(oT),eJ(this._element),this._element.classList.add(ow,oC),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||tc.trigger(this._element,oE).defaultPrevented)return;let e=()=>{this._element.classList.add(oT),this._element.classList.remove(oC,ow),tc.trigger(this._element,oR)};this._element.classList.add(oC),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ow),super.dispose()}isShown(){return this._element.classList.contains(ow)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();let r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){tc.on(this._element,oy,e=>this._onInteraction(e,!0)),tc.on(this._element,og,e=>this._onInteraction(e,!1)),tc.on(this._element,ob,e=>this._onInteraction(e,!0)),tc.on(this._element,ov,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=ok.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e](this)}})}}function ox(e){if(e)try{return JSON.parse(e)}catch{return e}}function oP(e,t,r,i){if(null==r||!1===r)return e.removeAttribute(t);let o=i?JSON.stringify(r):r;e.__updating[t]=!0,"true"===o&&(o=""),e.setAttribute(t,o),Promise.resolve().then(()=>delete e.__updating[t])}function oB(e){return null!=e&&("object"==typeof e||"function"==typeof e)}tv(ok),e4(ok);let oD=Symbol("solid-proxy"),oO="function"==typeof Proxy,oU={equals:(e,t)=>e===t},oI=o0,oK={owned:null,cleanups:null,context:null,owner:null};var oj=null;let oM=null,oN=null,oV=null,oF=0;function oG(e,t){let r={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},oU,t):oU).equals||void 0};return[oH.bind(r),e=>("function"==typeof e&&(e=e(r.value)),oZ(r,e))]}function oq(e,t,r){oW(oY(e,t,!1,1))}function o$(e,t,r){oI=o1;let i=oY(e,t,!1,1);i.user=!0,oV?oV.push(i):oW(i)}function oz(e,t,r){r=r?Object.assign({},oU,r):oU;let i=oY(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=r.equals||void 0,oW(i),oH.bind(i)}function oX(e){if(null===oM)return e();let t=oM;oM=null;try{return e()}finally{oM=t}}function oH(){if(this.sources&&this.state)if(1===this.state)oW(this);else{let e=oN;oN=null,oJ(()=>o4(this),!1),oN=e}if(oM){let e=this.observers?this.observers.length:0;oM.sources?(oM.sources.push(this),oM.sourceSlots.push(e)):(oM.sources=[this],oM.sourceSlots=[e]),this.observers?(this.observers.push(oM),this.observerSlots.push(oM.sources.length-1)):(this.observers=[oM],this.observerSlots=[oM.sources.length-1])}return this.value}function oZ(e,t,r){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&oJ(()=>{for(let t=0;t<e.observers.length;t+=1){let r=e.observers[t];r.state||(r.pure?oN.push(r):oV.push(r),r.observers&&function e(t){for(let r=0;r<t.observers.length;r+=1){let i=t.observers[r];i.state||(i.state=2,i.pure?oN.push(i):oV.push(i),i.observers&&e(i))}}(r)),r.state=1}if(oN.length>1e6)throw oN=[],Error()},!1)),t}function oW(e){if(!e.fn)return;o5(e);let t=oF;!function(e,t,r){let i,o=oj,n=oM;oM=oj=e;try{i=e.fn(t)}catch(t){return e.pure&&(e.state=1,e.owned&&e.owned.forEach(o5),e.owned=null),e.updatedAt=r+1,o2(t)}finally{oM=n,oj=o}(!e.updatedAt||e.updatedAt<=r)&&(null!=e.updatedAt&&"observers"in e?oZ(e,i):e.value=i,e.updatedAt=r)}(e,e.value,t)}function oY(e,t,r,i=1,o){let n={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:oj,context:oj?oj.context:null,pure:r};return null===oj||oj!==oK&&(oj.owned?oj.owned.push(n):oj.owned=[n]),n}function oQ(e){if(0===e.state)return;if(2===e.state)return o4(e);if(e.suspense&&oX(e.suspense.inFallback))return e.suspense.effects.push(e);let t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<oF);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(1===(e=t[r]).state)oW(e);else if(2===e.state){let r=oN;oN=null,oJ(()=>o4(e,t[0]),!1),oN=r}}function oJ(e,t){if(oN)return e();let r=!1;t||(oN=[]),oV?r=!0:oV=[],oF++;try{let t=e();return function(e){if(oN&&(o0(oN),oN=null),e)return;let t=oV;oV=null,t.length&&oJ(()=>oI(t),!1)}(r),t}catch(e){r||(oV=null),oN=null,o2(e)}}function o0(e){for(let t=0;t<e.length;t++)oQ(e[t])}function o1(e){let t,r=0;for(t=0;t<e.length;t++){let i=e[t];i.user?e[r++]=i:oQ(i)}for(t=0;t<r;t++)oQ(e[t])}function o4(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){let i=e.sources[r];if(i.sources){let e=i.state;1===e?i!==t&&(!i.updatedAt||i.updatedAt<oF)&&oQ(i):2===e&&o4(i,t)}}}function o5(e){let t;if(e.sources)for(;e.sources.length;){let t=e.sources.pop(),r=e.sourceSlots.pop(),i=t.observers;if(i&&i.length){let e=i.pop(),o=t.observerSlots.pop();r<i.length&&(e.sourceSlots[o]=r,i[r]=e,t.observerSlots[r]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)o5(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)o5(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function o2(e,t=oj){throw e instanceof Error?e:Error("string"==typeof e?e:"Unknown error",{cause:e})}function o3(e,t){return oX(()=>e(t||{}))}function o7(){return!0}let o6={get:(e,t,r)=>t===oD?r:e.get(t),has:(e,t)=>t===oD||e.has(t),set:o7,deleteProperty:o7,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:o7,deleteProperty:o7}),ownKeys:e=>e.keys()};function o9(e){return(e="function"==typeof e?e():e)?e:{}}function o8(){for(let e=0,t=this.length;e<t;++e){let t=this[e]();if(void 0!==t)return t}}let ne="_$DX_DELEGATE";function nt(e,t,r){let i,o=()=>{let t;return(i||((t=document.createElement("template")).innerHTML=e,i=t.content.firstChild)).cloneNode(!0)};return o.cloneNode=o,o}function nr(e,t=window.document){let r=t[ne]||(t[ne]=new Set);for(let i=0,o=e.length;i<o;i++){let o=e[i];r.has(o)||(r.add(o),t.addEventListener(o,na))}}function ni(e,t,r){null==r?e.removeAttribute(t):e.setAttribute(t,r)}function no(e,t){null==t?e.removeAttribute("class"):e.className=t}function nn(e,t,r){return oX(()=>e(t,r))}function ns(e,t,r,i){if(void 0===r||i||(i=[]),"function"!=typeof t)return nl(e,t,i,r);oq(i=>nl(e,t(),i,r),i)}function na(e){let t=e.target,r=`$$${e.type}`,i=e.target,o=e.currentTarget,n=t=>Object.defineProperty(e,"target",{configurable:!0,value:t}),s=()=>{let i=t[r];if(i&&!t.disabled){let o=t[`${r}Data`];if(void 0!==o?i.call(t,o,e):i.call(t,e),e.cancelBubble)return}return t.host&&"string"!=typeof t.host&&!t.host._$host&&t.contains(e.target)&&n(t.host),!0},a=()=>{for(;s()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>t||document}),e.composedPath){let r=e.composedPath();n(r[0]);for(let e=0;e<r.length-2&&(t=r[e],s());e++){if(t._$host){t=t._$host,a();break}if(t.parentNode===o)break}}else a();n(i)}function nl(e,t,r,i,o){for(;"function"==typeof r;)r=r();if(t===r)return r;let n=typeof t,s=void 0!==i;if(e=s&&r[0]&&r[0].parentNode||e,"string"===n||"number"===n){if("number"===n&&(t=t.toString())===r)return r;if(s){let o=r[0];o&&3===o.nodeType?o.data!==t&&(o.data=t):o=document.createTextNode(t),r=nc(e,r,i,o)}else r=""!==r&&"string"==typeof r?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===n)r=nc(e,r,i);else{if("function"===n)return oq(()=>{let o=t();for(;"function"==typeof o;)o=o();r=nl(e,o,r,i)}),()=>r;if(Array.isArray(t)){let n=[],a=r&&Array.isArray(r);if(function e(t,r,i,o){let n=!1;for(let s=0,a=r.length;s<a;s++){let a=r[s],l=i&&i[t.length],d;if(null!=a&&!0!==a&&!1!==a)if("object"==(d=typeof a)&&a.nodeType)t.push(a);else if(Array.isArray(a))n=e(t,a,l)||n;else if("function"===d)if(o){for(;"function"==typeof a;)a=a();n=e(t,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||n}else t.push(a),n=!0;else{let e=String(a);l&&3===l.nodeType&&l.data===e?t.push(l):t.push(document.createTextNode(e))}}return n}(n,t,r,o))return oq(()=>r=nl(e,n,r,i,!0)),()=>r;if(0===n.length){if(r=nc(e,r,i),s)return r}else a?0===r.length?nd(e,n,i):function(e,t,r){let i=r.length,o=t.length,n=i,s=0,a=0,l=t[o-1].nextSibling,d=null;for(;s<o||a<n;){if(t[s]===r[a]){s++,a++;continue}for(;t[o-1]===r[n-1];)o--,n--;if(o===s){let t=n<i?a?r[a-1].nextSibling:r[n-a]:l;for(;a<n;)e.insertBefore(r[a++],t)}else if(n===a)for(;s<o;)d&&d.has(t[s])||t[s].remove(),s++;else if(t[s]===r[n-1]&&r[a]===t[o-1]){let i=t[--o].nextSibling;e.insertBefore(r[a++],t[s++].nextSibling),e.insertBefore(r[--n],i),t[o]=r[n]}else{if(!d){d=new Map;let e=a;for(;e<n;)d.set(r[e],e++)}let i=d.get(t[s]);if(null!=i)if(a<i&&i<n){let l=s,c=1,p;for(;++l<o&&l<n&&null!=(p=d.get(t[l]))&&p===i+c;)c++;if(c>i-a){let o=t[s];for(;a<i;)e.insertBefore(r[a++],o)}else e.replaceChild(r[a++],t[s++])}else s++;else t[s++].remove()}}}(e,r,n):(r&&nc(e),nd(e,n));r=n}else if(t.nodeType){if(Array.isArray(r)){if(s)return r=nc(e,r,i,t);nc(e,r,null,t)}else null!=r&&""!==r&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);r=t}}return r}function nd(e,t,r=null){for(let i=0,o=t.length;i<o;i++)e.insertBefore(t[i],r)}function nc(e,t,r,i){if(void 0===r)return e.textContent="";let o=i||document.createTextNode("");if(t.length){let i=!1;for(let n=t.length-1;n>=0;n--){let s=t[n];if(o!==s){let t=s.parentNode===e;i||n?t&&s.remove():t?e.replaceChild(o,s):e.insertBefore(o,r)}else i=!0}}else e.insertBefore(o,r);return[o]}var np="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof c?c:"u">typeof self?self:{};function nu(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}),r}var nf={},nh={},nm={};Object.defineProperty(nm,"__esModule",{value:!0}),nm.DisallowedDomainError=nm.UnsupportedDomainError=nm.ReservedHandleError=nm.InvalidHandleError=nm.isValidTld=nm.isValidHandle=nm.normalizeAndEnsureValidHandle=nm.normalizeHandle=nm.ensureValidHandleRegex=nm.ensureValidHandle=nm.DISALLOWED_TLDS=nm.INVALID_HANDLE=void 0,nm.INVALID_HANDLE="handle.invalid",nm.DISALLOWED_TLDS=[".local",".arpa",".invalid",".localhost",".internal",".example",".alt",".onion"],nm.ensureValidHandle=e=>{if(!/^[a-zA-Z0-9.-]*$/.test(e))throw new ny("Disallowed characters in handle (ASCII letters, digits, dashes, periods only)");if(e.length>253)throw new ny("Handle is too long (253 chars max)");let t=e.split(".");if(t.length<2)throw new ny("Handle domain needs at least two parts");for(let e=0;e<t.length;e++){let r=t[e];if(r.length<1)throw new ny("Handle parts can not be empty");if(r.length>63)throw new ny("Handle part too long (max 63 chars)");if(r.endsWith("-")||r.startsWith("-"))throw new ny("Handle parts can not start or end with hyphens");if(e+1===t.length&&!/^[a-zA-Z]/.test(r))throw new ny("Handle final component (TLD) must start with ASCII letter")}},nm.ensureValidHandleRegex=e=>{if(!/^([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?$/.test(e))throw new ny("Handle didn't validate via regex");if(e.length>253)throw new ny("Handle is too long (253 chars max)")},nm.normalizeHandle=e=>e.toLowerCase(),nm.normalizeAndEnsureValidHandle=e=>{let t=(0,nm.normalizeHandle)(e);return(0,nm.ensureValidHandle)(t),t},nm.isValidHandle=e=>{try{(0,nm.ensureValidHandle)(e)}catch(e){if(e instanceof ny)return!1;throw e}return!0},nm.isValidTld=e=>!nm.DISALLOWED_TLDS.some(t=>e.endsWith(t));class ny extends Error{}nm.InvalidHandleError=ny,nm.ReservedHandleError=class extends Error{},nm.UnsupportedDomainError=class extends Error{},nm.DisallowedDomainError=class extends Error{};var ng={};Object.defineProperty(ng,"__esModule",{value:!0}),ng.InvalidDidError=ng.ensureValidDidRegex=ng.ensureValidDid=void 0,ng.ensureValidDid=e=>{if(!e.startsWith("did:"))throw new nb('DID requires "did:" prefix');if(!/^[a-zA-Z0-9._:%-]*$/.test(e))throw new nb("Disallowed characters in DID (ASCII letters, digits, and a couple other characters only)");let{length:t,1:r}=e.split(":");if(t<3)throw new nb("DID requires prefix, method, and method-specific content");if(!/^[a-z]+$/.test(r))throw new nb("DID method must be lower-case letters");if(e.endsWith(":")||e.endsWith("%"))throw new nb('DID can not end with ":" or "%"');if(e.length>2048)throw new nb("DID is too long (2048 chars max)")},ng.ensureValidDidRegex=e=>{if(!/^did:[a-z]+:[a-zA-Z0-9._:%-]*[a-zA-Z0-9._-]$/.test(e))throw new nb("DID didn't validate via regex");if(e.length>2048)throw new nb("DID is too long (2048 chars max)")};class nb extends Error{}ng.InvalidDidError=nb;var nv={};Object.defineProperty(nv,"__esModule",{value:!0}),nv.InvalidNsidError=nv.ensureValidNsidRegex=nv.ensureValidNsid=nv.NSID=void 0;class nE{static parse(e){return new nE(e)}static create(e,t){return new nE([...e.split(".").reverse(),t].join("."))}static isValid(e){try{return nE.parse(e),!0}catch{return!1}}constructor(e){Object.defineProperty(this,"segments",{enumerable:!0,configurable:!0,writable:!0,value:[]}),(0,nv.ensureValidNsid)(e),this.segments=e.split(".")}get authority(){return this.segments.slice(0,this.segments.length-1).reverse().join(".")}get name(){return this.segments.at(this.segments.length-1)}toString(){return this.segments.join(".")}}nv.NSID=nE,nv.ensureValidNsid=e=>{if(!/^[a-zA-Z0-9.-]*$/.test(e))throw new nR("Disallowed characters in NSID (ASCII letters, digits, dashes, periods only)");if(e.length>317)throw new nR("NSID is too long (317 chars max)");let t=e.split(".");if(t.length<3)throw new nR("NSID needs at least three parts");for(let e=0;e<t.length;e++){let r=t[e];if(r.length<1)throw new nR("NSID parts can not be empty");if(r.length>63)throw new nR("NSID part too long (max 63 chars)");if(r.endsWith("-")||r.startsWith("-"))throw new nR("NSID parts can not start or end with hyphen");if(/^[0-9]/.test(r)&&0===e)throw new nR("NSID first part may not start with a digit");if(!/^[a-zA-Z]+$/.test(r)&&e+1===t.length)throw new nR("NSID name part must be only letters")}},nv.ensureValidNsidRegex=e=>{if(!/^[a-zA-Z]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(\.[a-zA-Z]([a-zA-Z]{0,61}[a-zA-Z])?)$/.test(e))throw new nR("NSID didn't validate via regex");if(e.length>317)throw new nR("NSID is too long (317 chars max)")};class nR extends Error{}nv.InvalidNsidError=nR;var nA={},n_={};Object.defineProperty(n_,"__esModule",{value:!0}),n_.ensureValidAtUriRegex=n_.ensureValidAtUri=void 0,n_.ensureValidAtUri=e=>{let t=e.split("#");if(t.length>2)throw Error('ATURI can have at most one "#", separating fragment out');let r=t[1]||null;if(e=t[0],!/^[a-zA-Z0-9._~:@!$&')(*+,;=%/-]*$/.test(e))throw Error("Disallowed characters in ATURI (ASCII)");let i=e.split("/");if(i.length>=3&&("at:"!==i[0]||0!==i[1].length))throw Error('ATURI must start with "at://"');if(i.length<3)throw Error("ATURI requires at least method and authority sections");try{i[2].startsWith("did:")?(0,ng.ensureValidDid)(i[2]):(0,nm.ensureValidHandle)(i[2])}catch{throw Error("ATURI authority must be a valid handle or DID")}if(i.length>=4){if(0===i[3].length)throw Error("ATURI can not have a slash after authority without a path segment");try{(0,nv.ensureValidNsid)(i[3])}catch{throw Error("ATURI requires first path segment (if supplied) to be valid NSID")}}if(i.length>=5&&0===i[4].length)throw Error("ATURI can not have a slash after collection, unless record key is provided");if(i.length>=6)throw Error("ATURI path can have at most two parts, and no trailing slash");if(t.length>=2&&null==r)throw Error("ATURI fragment must be non-empty and start with slash");if(null!=r){if(0===r.length||"/"!==r[0])throw Error("ATURI fragment must be non-empty and start with slash");if(!/^\/[a-zA-Z0-9._~:@!$&')(*+,;=%[\]/-]*$/.test(r))throw Error("Disallowed characters in ATURI fragment (ASCII)")}if(e.length>8192)throw Error("ATURI is far too long")},n_.ensureValidAtUriRegex=e=>{let t=e.match(/^at:\/\/(?<authority>[a-zA-Z0-9._:%-]+)(\/(?<collection>[a-zA-Z0-9-.]+)(\/(?<rkey>[a-zA-Z0-9._~:@!$&%')(*+,;=-]+))?)?(#(?<fragment>\/[a-zA-Z0-9._~:@!$&%')(*+,;=\-[\]/\\]*))?$/);if(!t||!t.groups)throw Error("ATURI didn't validate via regex");let r=t.groups;try{(0,nm.ensureValidHandleRegex)(r.authority)}catch{try{(0,ng.ensureValidDidRegex)(r.authority)}catch{throw Error("ATURI authority must be a valid handle or DID")}}if(r.collection)try{(0,nv.ensureValidNsidRegex)(r.collection)}catch{throw Error("ATURI collection path segment must be a valid NSID")}if(e.length>8192)throw Error("ATURI is far too long")},function(e){var t=np&&np.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),r=np&&np.__exportStar||function(e,r){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(r,i)||t(r,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.AtUri=e.ATP_URI_REGEX=void 0,r(n_,e),e.ATP_URI_REGEX=/^(at:\/\/)?((?:did:[a-z0-9:%-]+)|(?:[a-z0-9][a-z0-9.:-]*))(\/[^?#\s]*)?(\?[^#\s]+)?(#[^\s]+)?$/i;let i=/^(\/[^?#\s]*)?(\?[^#\s]+)?(#[^\s]+)?$/i;class o{constructor(e,t){let r;if(Object.defineProperty(this,"hash",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"host",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathname",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"searchParams",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t){if(!(r=n(t)))throw Error(`Invalid at uri: ${t}`);let o=function(e){let t=i.exec(e);if(t)return{hash:t[3]||"",pathname:t[1]||"",searchParams:new URLSearchParams(t[2]||"")}}(e);if(!o)throw Error(`Invalid path: ${e}`);Object.assign(r,o)}else if(!(r=n(e)))throw Error(`Invalid at uri: ${e}`);this.hash=r.hash,this.host=r.host,this.pathname=r.pathname,this.searchParams=r.searchParams}static make(e,t,r){let i=e;return t&&(i+="/"+t),r&&(i+="/"+r),new o(i)}get protocol(){return"at:"}get origin(){return`at://${this.host}`}get hostname(){return this.host}set hostname(e){this.host=e}get search(){return this.searchParams.toString()}set search(e){this.searchParams=new URLSearchParams(e)}get collection(){return this.pathname.split("/").filter(Boolean)[0]||""}set collection(e){let t=this.pathname.split("/").filter(Boolean);t[0]=e,this.pathname=t.join("/")}get rkey(){return this.pathname.split("/").filter(Boolean)[1]||""}set rkey(e){let t=this.pathname.split("/").filter(Boolean);t[0]||(t[0]="undefined"),t[1]=e,this.pathname=t.join("/")}get href(){return this.toString()}toString(){let e=this.pathname||"/";e.startsWith("/")||(e=`/${e}`);let t=this.searchParams.toString();t&&!t.startsWith("?")&&(t=`?${t}`);let r=this.hash;return r&&!r.startsWith("#")&&(r=`#${r}`),`at://${this.host}${e}${t}${r}`}}function n(t){let r=e.ATP_URI_REGEX.exec(t);if(r)return{hash:r[5]||"",host:r[2]||"",pathname:r[3]||"",searchParams:new URLSearchParams(r[4]||"")}}e.AtUri=o}(nA);var nT={};Object.defineProperty(nT,"__esModule",{value:!0}),nT.InvalidTidError=nT.isValidTid=nT.ensureValidTid=void 0,nT.ensureValidTid=e=>{if(13!==e.length)throw new nw("TID must be 13 characters");if(!/^[234567abcdefghij][234567abcdefghijklmnopqrstuvwxyz]{12}$/.test(e))throw new nw("TID syntax not valid (regex)")},nT.isValidTid=e=>{try{(0,nT.ensureValidTid)(e)}catch(e){if(e instanceof nw)return!1;throw e}return!0};class nw extends Error{}nT.InvalidTidError=nw;var nC={};Object.defineProperty(nC,"__esModule",{value:!0}),nC.InvalidRecordKeyError=nC.isValidRecordKey=nC.ensureValidRecordKey=void 0,nC.ensureValidRecordKey=e=>{if(e.length>512||e.length<1)throw new nS("record key must be 1 to 512 characters");if(!/^[a-zA-Z0-9_~.:-]{1,512}$/.test(e))throw new nS("record key syntax not valid (regex)");if("."===e||".."===e)throw new nS('record key can not be "." or ".."')},nC.isValidRecordKey=e=>{try{(0,nC.ensureValidRecordKey)(e)}catch(e){if(e instanceof nS)return!1;throw e}return!0};class nS extends Error{}nC.InvalidRecordKeyError=nS;var nL={};Object.defineProperty(nL,"__esModule",{value:!0}),nL.InvalidDatetimeError=nL.normalizeDatetimeAlways=nL.normalizeDatetime=nL.isValidDatetime=nL.ensureValidDatetime=void 0,nL.ensureValidDatetime=e=>{let t=new Date(e);if(isNaN(t.getTime()))throw new nk("datetime did not parse as ISO 8601");if(t.toISOString().startsWith("-"))throw new nk("datetime normalized to a negative time");if(!/^[0-9]{4}-[01][0-9]-[0-3][0-9]T[0-2][0-9]:[0-6][0-9]:[0-6][0-9](.[0-9]{1,20})?(Z|([+-][0-2][0-9]:[0-5][0-9]))$/.test(e))throw new nk("datetime didn't validate via regex");if(e.length>64)throw new nk("datetime is too long (64 chars max)");if(e.endsWith("-00:00"))throw new nk('datetime can not use "-00:00" for UTC timezone');if(e.startsWith("000"))throw new nk("datetime so close to year zero not allowed")},nL.isValidDatetime=e=>{try{(0,nL.ensureValidDatetime)(e)}catch(e){if(e instanceof nk)return!1;throw e}return!0},nL.normalizeDatetime=e=>{if((0,nL.isValidDatetime)(e)){let t=new Date(e).toISOString();if((0,nL.isValidDatetime)(t))return t}if(!/.*(([+-]\d\d:?\d\d)|[a-zA-Z])$/.test(e)){let t=new Date(e+"Z");if(!isNaN(t.getTime())){let e=t.toISOString();if((0,nL.isValidDatetime)(e))return e}}let t=new Date(e);if(isNaN(t.getTime()))throw new nk("datetime did not parse as any timestamp format");let r=t.toISOString();if((0,nL.isValidDatetime)(r))return r;throw new nk("datetime normalized to invalid timestamp string")},nL.normalizeDatetimeAlways=e=>{try{return(0,nL.normalizeDatetime)(e)}catch(e){if(e instanceof nk)return new Date(0).toISOString();throw e}};class nk extends Error{}nL.InvalidDatetimeError=nk,nZ=np&&np.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),nW=np&&np.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||nZ(t,e,r)},Object.defineProperty(nh,"__esModule",{value:!0}),nW(nm,nh),nW(ng,nh),nW(nv,nh),nW(nA,nh),nW(nT,nh),nW(nC,nh),nW(nL,nh);var nx={},nP={},nB={},nD={},nO={},nU={},nI={};Object.defineProperty(nI,"__esModule",{value:!0}),nI.getParsedType=nI.ZodParsedType=nI.objectUtil=nI.util=void 0,(nJ=nY||(nI.util=nY={})).assertEqual=e=>e,nJ.assertIs=function(e){},nJ.assertNever=function(e){throw Error()},nJ.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},nJ.getValidEnumValues=e=>{let t=nJ.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let i of t)r[i]=e[i];return nJ.objectValues(r)},nJ.objectValues=e=>nJ.objectKeys(e).map(function(t){return e[t]}),nJ.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},nJ.find=(e,t)=>{for(let r of e)if(t(r))return r},nJ.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,nJ.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},nJ.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(nQ||(nI.objectUtil=nQ={})).mergeShapes=(e,t)=>({...e,...t}),nI.ZodParsedType=nY.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),nI.getParsedType=e=>{switch(typeof e){case"undefined":return nI.ZodParsedType.undefined;case"string":return nI.ZodParsedType.string;case"number":return isNaN(e)?nI.ZodParsedType.nan:nI.ZodParsedType.number;case"boolean":return nI.ZodParsedType.boolean;case"function":return nI.ZodParsedType.function;case"bigint":return nI.ZodParsedType.bigint;case"symbol":return nI.ZodParsedType.symbol;case"object":return Array.isArray(e)?nI.ZodParsedType.array:null===e?nI.ZodParsedType.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?nI.ZodParsedType.promise:"u">typeof Map&&e instanceof Map?nI.ZodParsedType.map:"u">typeof Set&&e instanceof Set?nI.ZodParsedType.set:"u">typeof Date&&e instanceof Date?nI.ZodParsedType.date:nI.ZodParsedType.object;default:return nI.ZodParsedType.unknown}};var nK={};Object.defineProperty(nK,"__esModule",{value:!0}),nK.ZodError=nK.quotelessJson=nK.ZodIssueCode=void 0,nK.ZodIssueCode=nI.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),nK.quotelessJson=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class nj extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(i);else if("invalid_return_type"===o.code)i(o.returnTypeError);else if("invalid_arguments"===o.code)i(o.argumentsError);else if(0===o.path.length)r._errors.push(t(o));else{let e=r,i=0;for(;i<o.path.length;){let r=o.path[i];i===o.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(o))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof nj))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nI.util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}nK.ZodError=nj,nj.create=e=>new nj(e),Object.defineProperty(nU,"__esModule",{value:!0}),nU.default=(e,t)=>{let r;switch(e.code){case nK.ZodIssueCode.invalid_type:r=e.received===nI.ZodParsedType.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case nK.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,nI.util.jsonStringifyReplacer)}`;break;case nK.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${nI.util.joinValues(e.keys,", ")}`;break;case nK.ZodIssueCode.invalid_union:r="Invalid input";break;case nK.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${nI.util.joinValues(e.options)}`;break;case nK.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${nI.util.joinValues(e.options)}, received '${e.received}'`;break;case nK.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case nK.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case nK.ZodIssueCode.invalid_date:r="Invalid date";break;case nK.ZodIssueCode.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:nI.util.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case nK.ZodIssueCode.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case nK.ZodIssueCode.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case nK.ZodIssueCode.custom:r="Invalid input";break;case nK.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case nK.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case nK.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=t.defaultError,nI.util.assertNever(e)}return{message:r}};var nM=np&&np.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nO,"__esModule",{value:!0}),nO.getErrorMap=nO.setErrorMap=nO.defaultErrorMap=void 0;let nN=nM(nU);nO.defaultErrorMap=nN.default;let nV=nN.default;nO.setErrorMap=function(e){nV=e},nO.getErrorMap=function(){return nV};var nF={},nG=np&&np.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nF,"__esModule",{value:!0}),nF.isAsync=nF.isValid=nF.isDirty=nF.isAborted=nF.OK=nF.DIRTY=nF.INVALID=nF.ParseStatus=nF.addIssueToContext=nF.EMPTY_PATH=nF.makeIssue=void 0;let nq=nG(nU);nF.makeIssue=e=>{let{data:t,path:r,errorMaps:i,issueData:o}=e,n=[...r,...o.path||[]],s={...o,path:n};if(void 0!==o.message)return{...o,path:n,message:o.message};let a="";for(let e of i.filter(e=>!!e).slice().reverse())a=e(s,{data:t,defaultError:a}).message;return{...o,path:n,message:a}},nF.EMPTY_PATH=[],nF.addIssueToContext=function(e,t){let r=(0,nO.getErrorMap)(),i=(0,nF.makeIssue)({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===nq.default?void 0:nq.default].filter(e=>!!e)});e.common.issues.push(i)};class n${constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return nF.INVALID;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return n$.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:o}=i;if("aborted"===t.status||"aborted"===o.status)return nF.INVALID;"dirty"===t.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"!==t.value&&("u">typeof o.value||i.alwaysSet)&&(r[t.value]=o.value)}return{status:e.value,value:r}}}nF.ParseStatus=n$,nF.INVALID=Object.freeze({status:"aborted"}),nF.DIRTY=e=>({status:"dirty",value:e}),nF.OK=e=>({status:"valid",value:e}),nF.isAborted=e=>"aborted"===e.status,nF.isDirty=e=>"dirty"===e.status,nF.isValid=e=>"valid"===e.status,nF.isAsync=e=>"u">typeof Promise&&e instanceof Promise;var nz={};Object.defineProperty(nz,"__esModule",{value:!0});var nX={},nH={};Object.defineProperty(nH,"__esModule",{value:!0}),nH.errorUtil=void 0,(n0=n1||(nH.errorUtil=n1={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},n0.toString=e=>"string"==typeof e?e:e?.message;var nZ,nW,nY,nQ,nJ,n0,n1,n4,n5,n2=np&&np.__classPrivateFieldGet||function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},n3=np&&np.__classPrivateFieldSet||function(e,t,r,i,o){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!o)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(e,r):o?o.value=r:t.set(e,r),r};Object.defineProperty(nX,"__esModule",{value:!0}),nX.boolean=nX.bigint=nX.array=nX.any=nX.coerce=nX.ZodFirstPartyTypeKind=nX.late=nX.ZodSchema=nX.Schema=nX.custom=nX.ZodReadonly=nX.ZodPipeline=nX.ZodBranded=nX.BRAND=nX.ZodNaN=nX.ZodCatch=nX.ZodDefault=nX.ZodNullable=nX.ZodOptional=nX.ZodTransformer=nX.ZodEffects=nX.ZodPromise=nX.ZodNativeEnum=nX.ZodEnum=nX.ZodLiteral=nX.ZodLazy=nX.ZodFunction=nX.ZodSet=nX.ZodMap=nX.ZodRecord=nX.ZodTuple=nX.ZodIntersection=nX.ZodDiscriminatedUnion=nX.ZodUnion=nX.ZodObject=nX.ZodArray=nX.ZodVoid=nX.ZodNever=nX.ZodUnknown=nX.ZodAny=nX.ZodNull=nX.ZodUndefined=nX.ZodSymbol=nX.ZodDate=nX.ZodBoolean=nX.ZodBigInt=nX.ZodNumber=nX.ZodString=nX.datetimeRegex=nX.ZodType=void 0,nX.NEVER=nX.void=nX.unknown=nX.union=nX.undefined=nX.tuple=nX.transformer=nX.symbol=nX.string=nX.strictObject=nX.set=nX.record=nX.promise=nX.preprocess=nX.pipeline=nX.ostring=nX.optional=nX.onumber=nX.oboolean=nX.object=nX.number=nX.nullable=nX.null=nX.never=nX.nativeEnum=nX.nan=nX.map=nX.literal=nX.lazy=nX.intersection=nX.instanceof=nX.function=nX.enum=nX.effect=nX.discriminatedUnion=nX.date=void 0;class n7{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let n6=(e,t)=>{if((0,nF.isValid)(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new nK.ZodError(e.common.issues);return this._error=t,this._error}}};function n9(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:o}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:o}:{errorMap:(t,o)=>{var n,s;let{message:a}=e;return"invalid_enum_value"===t.code?{message:a??o.defaultError}:typeof o.data>"u"?{message:null!=(n=a??i)?n:o.defaultError}:"invalid_type"!==t.code?{message:o.defaultError}:{message:null!=(s=a??r)?s:o.defaultError}},description:o}}class n8{get description(){return this._def.description}_getType(e){return(0,nI.getParsedType)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,nI.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new nF.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,nI.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if((0,nF.isAsync)(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let i={common:{issues:[],async:null!=(r=t?.async)&&r,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,nI.getParsedType)(e)},o=this._parseSync({data:e,path:i.path,parent:i});return n6(i,o)}"~validate"(e){var t,r;let i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,nI.getParsedType)(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:i});return(0,nF.isValid)(t)?{value:t.value}:{issues:i.common.issues}}catch(e){null!=(r=null==(t=e?.message)?void 0:t.toLowerCase())&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(e=>(0,nF.isValid)(e)?{value:e.value}:{issues:i.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,nI.getParsedType)(e)},i=this._parse({data:e,path:r.path,parent:r});return n6(r,await ((0,nF.isAsync)(i)?i:Promise.resolve(i)))}refine(e,t){return this._refinement((r,i)=>{let o=e(r),n=()=>i.addIssue({code:nK.ZodIssueCode.custom,..."string"==typeof t||typeof t>"u"?{message:t}:"function"==typeof t?t(r):t});return"u">typeof Promise&&o instanceof Promise?o.then(e=>!!e||(n(),!1)):!!o||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new sX({schema:this,typeName:bL.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return sH.create(this,this._def)}nullable(){return sZ.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return sx.create(this)}promise(){return sz.create(this,this._def)}or(e){return sB.create([this,e],this._def)}and(e){return sU.create(this,e,this._def)}transform(e){return new sX({...n9(this._def),schema:this,typeName:bL.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new sW({...n9(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:bL.ZodDefault})}brand(){return new sJ({typeName:bL.ZodBranded,type:this,...n9(this._def)})}catch(e){return new sY({...n9(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:bL.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return s0.create(this,e)}readonly(){return s1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}nX.ZodType=n8,nX.Schema=n8,nX.ZodSchema=n8;let se=/^c[^\s-]{8,}$/i,st=/^[0-9a-z]+$/,sr=/^[0-9A-HJKMNP-TV-Z]{26}$/i,si=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,so=/^[a-z0-9_-]{21}$/i,sn=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ss=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sa=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sc=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,sp=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,su=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sf=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sh="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",sm=RegExp(`^${sh}$`);function sy(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function sg(e){let t=`${sh}T${sy(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}nX.datetimeRegex=sg;class sb extends n8{_parse(e){let r;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==nI.ZodParsedType.string){let t=this._getOrReturnCtx(e);return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.string,received:t.parsedType}),nF.INVALID}let i=new nF.ParseStatus;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if("max"===l.kind)e.data.length>l.value&&(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if("length"===l.kind){let t=e.data.length>l.value,o=e.data.length<l.value;(t||o)&&(r=this._getOrReturnCtx(e,r),t?(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):o&&(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if("email"===l.kind)sa.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"email",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty());else if("emoji"===l.kind)t||(t=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),t.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"emoji",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty());else if("uuid"===l.kind)si.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"uuid",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty());else if("nanoid"===l.kind)so.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"nanoid",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty());else if("cuid"===l.kind)se.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"cuid",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty());else if("cuid2"===l.kind)st.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"cuid2",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty());else if("ulid"===l.kind)sr.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"ulid",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty());else if("url"===l.kind)try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"url",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty()}else{var o,n,s,a;"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"regex",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):"datetime"===l.kind?sg(l).test(e.data)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.invalid_string,validation:"datetime",message:l.message}),i.dirty()):"date"===l.kind?sm.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.invalid_string,validation:"date",message:l.message}),i.dirty()):"time"===l.kind?RegExp(`^${sy(l)}$`).test(e.data)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.invalid_string,validation:"time",message:l.message}),i.dirty()):"duration"===l.kind?ss.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"duration",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty()):"ip"===l.kind?(o=e.data,("v4"===(n=l.version)||!n)&&sl.test(o)||("v6"===n||!n)&&sc.test(o)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"ip",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty())):"jwt"===l.kind?function(e,t){if(!sn.test(e))return!1;try{let[r]=e.split("."),i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(i));return!("object"!=typeof o||null===o||!o.typ||!o.alg||t&&o.alg!==t)}catch{return!1}}(e.data,l.alg)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"jwt",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty()):"cidr"===l.kind?(s=e.data,("v4"===(a=l.version)||!a)&&sd.test(s)||("v6"===a||!a)&&sp.test(s)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"cidr",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty())):"base64"===l.kind?su.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"base64",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty()):"base64url"===l.kind?sf.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,nF.addIssueToContext)(r,{validation:"base64url",code:nK.ZodIssueCode.invalid_string,message:l.message}),i.dirty()):nI.util.assertNever(l)}return{status:i.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:nK.ZodIssueCode.invalid_string,...nH.errorUtil.errToObj(r)})}_addCheck(e){return new sb({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...nH.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...nH.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...nH.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...nH.errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...nH.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...nH.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...nH.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...nH.errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...nH.errorUtil.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...nH.errorUtil.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...nH.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...nH.errorUtil.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...nH.errorUtil.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:null!=(t=e?.offset)&&t,local:null!=(r=e?.local)&&r,...nH.errorUtil.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...nH.errorUtil.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...nH.errorUtil.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...nH.errorUtil.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...nH.errorUtil.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...nH.errorUtil.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...nH.errorUtil.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...nH.errorUtil.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...nH.errorUtil.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...nH.errorUtil.errToObj(t)})}nonempty(e){return this.min(1,nH.errorUtil.errToObj(e))}trim(){return new sb({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new sb({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new sb({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}nX.ZodString=sb,sb.create=e=>{var t;return new sb({checks:[],typeName:bL.ZodString,coerce:null!=(t=e?.coerce)&&t,...n9(e)})};class sv extends n8{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==nI.ZodParsedType.number){let t=this._getOrReturnCtx(e);return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.number,received:t.parsedType}),nF.INVALID}let r=new nF.ParseStatus;for(let i of this._def.checks)"int"===i.kind?nI.util.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,o=r>i?r:i;return parseInt(e.toFixed(o).replace(".",""))%parseInt(t.toFixed(o).replace(".",""))/Math.pow(10,o)}(e.data,i.value)&&(t=this._getOrReturnCtx(e,t),(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.not_finite,message:i.message}),r.dirty()):nI.util.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,nH.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,nH.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,nH.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,nH.errorUtil.toString(t))}setLimit(e,t,r,i){return new sv({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:nH.errorUtil.toString(i)}]})}_addCheck(e){return new sv({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:nH.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:nH.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:nH.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:nH.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:nH.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:nH.errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:nH.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:nH.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:nH.errorUtil.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&nI.util.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}nX.ZodNumber=sv,sv.create=e=>new sv({checks:[],typeName:bL.ZodNumber,coerce:e?.coerce||!1,...n9(e)});class sE extends n8{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==nI.ZodParsedType.bigint)return this._getInvalidInput(e);let r=new nF.ParseStatus;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):nI.util.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.bigint,received:t.parsedType}),nF.INVALID}gte(e,t){return this.setLimit("min",e,!0,nH.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,nH.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,nH.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,nH.errorUtil.toString(t))}setLimit(e,t,r,i){return new sE({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:nH.errorUtil.toString(i)}]})}_addCheck(e){return new sE({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:nH.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:nH.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:nH.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:nH.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:nH.errorUtil.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}nX.ZodBigInt=sE,sE.create=e=>{var t;return new sE({checks:[],typeName:bL.ZodBigInt,coerce:null!=(t=e?.coerce)&&t,...n9(e)})};class sR extends n8{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==nI.ZodParsedType.boolean){let t=this._getOrReturnCtx(e);return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.boolean,received:t.parsedType}),nF.INVALID}return(0,nF.OK)(e.data)}}nX.ZodBoolean=sR,sR.create=e=>new sR({typeName:bL.ZodBoolean,coerce:e?.coerce||!1,...n9(e)});class sA extends n8{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==nI.ZodParsedType.date){let t=this._getOrReturnCtx(e);return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.date,received:t.parsedType}),nF.INVALID}if(isNaN(e.data.getTime())){let t=this._getOrReturnCtx(e);return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_date}),nF.INVALID}let r=new nF.ParseStatus;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(t=this._getOrReturnCtx(e,t),(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(t=this._getOrReturnCtx(e,t),(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):nI.util.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new sA({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:nH.errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:nH.errorUtil.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}nX.ZodDate=sA,sA.create=e=>new sA({checks:[],coerce:e?.coerce||!1,typeName:bL.ZodDate,...n9(e)});class s_ extends n8{_parse(e){if(this._getType(e)!==nI.ZodParsedType.symbol){let t=this._getOrReturnCtx(e);return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.symbol,received:t.parsedType}),nF.INVALID}return(0,nF.OK)(e.data)}}nX.ZodSymbol=s_,s_.create=e=>new s_({typeName:bL.ZodSymbol,...n9(e)});class sT extends n8{_parse(e){if(this._getType(e)!==nI.ZodParsedType.undefined){let t=this._getOrReturnCtx(e);return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.undefined,received:t.parsedType}),nF.INVALID}return(0,nF.OK)(e.data)}}nX.ZodUndefined=sT,sT.create=e=>new sT({typeName:bL.ZodUndefined,...n9(e)});class sw extends n8{_parse(e){if(this._getType(e)!==nI.ZodParsedType.null){let t=this._getOrReturnCtx(e);return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.null,received:t.parsedType}),nF.INVALID}return(0,nF.OK)(e.data)}}nX.ZodNull=sw,sw.create=e=>new sw({typeName:bL.ZodNull,...n9(e)});class sC extends n8{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,nF.OK)(e.data)}}nX.ZodAny=sC,sC.create=e=>new sC({typeName:bL.ZodAny,...n9(e)});class sS extends n8{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,nF.OK)(e.data)}}nX.ZodUnknown=sS,sS.create=e=>new sS({typeName:bL.ZodUnknown,...n9(e)});class sL extends n8{_parse(e){let t=this._getOrReturnCtx(e);return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.never,received:t.parsedType}),nF.INVALID}}nX.ZodNever=sL,sL.create=e=>new sL({typeName:bL.ZodNever,...n9(e)});class sk extends n8{_parse(e){if(this._getType(e)!==nI.ZodParsedType.undefined){let t=this._getOrReturnCtx(e);return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.void,received:t.parsedType}),nF.INVALID}return(0,nF.OK)(e.data)}}nX.ZodVoid=sk,sk.create=e=>new sk({typeName:bL.ZodVoid,...n9(e)});class sx extends n8{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==nI.ZodParsedType.array)return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.array,received:t.parsedType}),nF.INVALID;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,o=t.data.length<i.exactLength.value;(e||o)&&((0,nF.addIssueToContext)(t,{code:e?nK.ZodIssueCode.too_big:nK.ZodIssueCode.too_small,minimum:o?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&((0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&((0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new n7(t,e,t.path,r)))).then(e=>nF.ParseStatus.mergeArray(r,e));let o=[...t.data].map((e,r)=>i.type._parseSync(new n7(t,e,t.path,r)));return nF.ParseStatus.mergeArray(r,o)}get element(){return this._def.type}min(e,t){return new sx({...this._def,minLength:{value:e,message:nH.errorUtil.toString(t)}})}max(e,t){return new sx({...this._def,maxLength:{value:e,message:nH.errorUtil.toString(t)}})}length(e,t){return new sx({...this._def,exactLength:{value:e,message:nH.errorUtil.toString(t)}})}nonempty(e){return this.min(1,e)}}nX.ZodArray=sx,sx.create=(e,t)=>new sx({type:e,minLength:null,maxLength:null,exactLength:null,typeName:bL.ZodArray,...n9(t)});class sP extends n8{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=nI.util.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==nI.ZodParsedType.object){let t=this._getOrReturnCtx(e);return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.object,received:t.parsedType}),nF.INVALID}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),n=[];if(!(this._def.catchall instanceof sL&&"strip"===this._def.unknownKeys))for(let e in r.data)o.includes(e)||n.push(e);let s=[];for(let e of o){let t=i[e],o=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new n7(r,o,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof sL){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&((0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.unrecognized_keys,keys:n}),t.dirty());else if("strip"!==e)throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new n7(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>nF.ParseStatus.mergeObjectSync(t,e)):nF.ParseStatus.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return nH.errorUtil.errToObj,new sP({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var i,o,n,s;let a=null!=(n=null==(o=(i=this._def).errorMap)?void 0:o.call(i,t,r).message)?n:r.defaultError;return"unrecognized_keys"===t.code?{message:null!=(s=nH.errorUtil.errToObj(e).message)?s:a}:{message:a}}}:{}})}strip(){return new sP({...this._def,unknownKeys:"strip"})}passthrough(){return new sP({...this._def,unknownKeys:"passthrough"})}extend(e){return new sP({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new sP({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:bL.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new sP({...this._def,catchall:e})}pick(e){let t={};return nI.util.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new sP({...this._def,shape:()=>t})}omit(e){let t={};return nI.util.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new sP({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(!(t instanceof sP))return t instanceof sx?new sx({...t._def,type:e(t.element)}):t instanceof sH?sH.create(e(t.unwrap())):t instanceof sZ?sZ.create(e(t.unwrap())):t instanceof sI?sI.create(t.items.map(t=>e(t))):t;{let r={};for(let i in t.shape){let o=t.shape[i];r[i]=sH.create(e(o))}return new sP({...t._def,shape:()=>r})}}(this)}partial(e){let t={};return nI.util.objectKeys(this.shape).forEach(r=>{let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new sP({...this._def,shape:()=>t})}required(e){let t={};return nI.util.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof sH;)e=e._def.innerType;t[r]=e}}),new sP({...this._def,shape:()=>t})}keyof(){return sG(nI.util.objectKeys(this.shape))}}nX.ZodObject=sP,sP.create=(e,t)=>new sP({shape:()=>e,unknownKeys:"strip",catchall:sL.create(),typeName:bL.ZodObject,...n9(t)}),sP.strictCreate=(e,t)=>new sP({shape:()=>e,unknownKeys:"strict",catchall:sL.create(),typeName:bL.ZodObject,...n9(t)}),sP.lazycreate=(e,t)=>new sP({shape:e,unknownKeys:"strip",catchall:sL.create(),typeName:bL.ZodObject,...n9(t)});class sB extends n8{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new nK.ZodError(e.ctx.common.issues));return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_union,unionErrors:r}),nF.INVALID});{let e,i=[];for(let o of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=o._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let o=i.map(e=>new nK.ZodError(e));return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_union,unionErrors:o}),nF.INVALID}}get options(){return this._def.options}}nX.ZodUnion=sB,sB.create=(e,t)=>new sB({options:e,typeName:bL.ZodUnion,...n9(t)});let sD=e=>e instanceof sV?sD(e.schema):e instanceof sX?sD(e.innerType()):e instanceof sF?[e.value]:e instanceof sq?e.options:e instanceof s$?nI.util.objectValues(e.enum):e instanceof sW?sD(e._def.innerType):e instanceof sT?[void 0]:e instanceof sw?[null]:e instanceof sH?[void 0,...sD(e.unwrap())]:e instanceof sZ?[null,...sD(e.unwrap())]:e instanceof sJ||e instanceof s1?sD(e.unwrap()):e instanceof sY?sD(e._def.innerType):[];class sO extends n8{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==nI.ZodParsedType.object)return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.object,received:t.parsedType}),nF.INVALID;let r=this.discriminator,i=t.data[r],o=this.optionsMap.get(i);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):((0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),nF.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=sD(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of t){if(i.has(o))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,r)}}return new sO({typeName:bL.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...n9(r)})}}nX.ZodDiscriminatedUnion=sO;class sU extends n8{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if((0,nF.isAborted)(e)||(0,nF.isAborted)(i))return nF.INVALID;let o=function e(t,r){let i=(0,nI.getParsedType)(t),o=(0,nI.getParsedType)(r);if(t===r)return{valid:!0,data:t};if(i===nI.ZodParsedType.object&&o===nI.ZodParsedType.object){let i=nI.util.objectKeys(r),o=nI.util.objectKeys(t).filter(e=>-1!==i.indexOf(e)),n={...t,...r};for(let i of o){let o=e(t[i],r[i]);if(!o.valid)return{valid:!1};n[i]=o.data}return{valid:!0,data:n}}if(i!==nI.ZodParsedType.array||o!==nI.ZodParsedType.array)return i===nI.ZodParsedType.date&&o===nI.ZodParsedType.date&&+t==+r?{valid:!0,data:t}:{valid:!1};{if(t.length!==r.length)return{valid:!1};let i=[];for(let o=0;o<t.length;o++){let n=e(t[o],r[o]);if(!n.valid)return{valid:!1};i.push(n.data)}return{valid:!0,data:i}}}(e.value,i.value);return o.valid?(((0,nF.isDirty)(e)||(0,nF.isDirty)(i))&&t.dirty(),{status:t.value,value:o.data}):((0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.invalid_intersection_types}),nF.INVALID)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}nX.ZodIntersection=sU,sU.create=(e,t,r)=>new sU({left:e,right:t,typeName:bL.ZodIntersection,...n9(r)});class sI extends n8{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nI.ZodParsedType.array)return(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.array,received:r.parsedType}),nF.INVALID;if(r.data.length<this._def.items.length)return(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nF.INVALID;!this._def.rest&&r.data.length>this._def.items.length&&((0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new n7(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>nF.ParseStatus.mergeArray(t,e)):nF.ParseStatus.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new sI({...this._def,rest:e})}}nX.ZodTuple=sI,sI.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new sI({items:e,typeName:bL.ZodTuple,rest:null,...n9(t)})};class sK extends n8{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nI.ZodParsedType.object)return(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.object,received:r.parsedType}),nF.INVALID;let i=[],o=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:o._parse(new n7(r,e,r.path,e)),value:n._parse(new n7(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?nF.ParseStatus.mergeObjectAsync(t,i):nF.ParseStatus.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new sK(t instanceof n8?{keyType:e,valueType:t,typeName:bL.ZodRecord,...n9(r)}:{keyType:sb.create(),valueType:e,typeName:bL.ZodRecord,...n9(t)})}}nX.ZodRecord=sK;class sj extends n8{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nI.ZodParsedType.map)return(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.map,received:r.parsedType}),nF.INVALID;let i=this._def.keyType,o=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new n7(r,e,r.path,[n,"key"])),value:o._parse(new n7(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,o=await r.value;if("aborted"===i.status||"aborted"===o.status)return nF.INVALID;("dirty"===i.status||"dirty"===o.status)&&t.dirty(),e.set(i.value,o.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,o=r.value;if("aborted"===i.status||"aborted"===o.status)return nF.INVALID;("dirty"===i.status||"dirty"===o.status)&&t.dirty(),e.set(i.value,o.value)}return{status:t.value,value:e}}}}nX.ZodMap=sj,sj.create=(e,t,r)=>new sj({valueType:t,keyType:e,typeName:bL.ZodMap,...n9(r)});class sM extends n8{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nI.ZodParsedType.set)return(0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.set,received:r.parsedType}),nF.INVALID;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&((0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&((0,nF.addIssueToContext)(r,{code:nK.ZodIssueCode.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let o=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return nF.INVALID;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>o._parse(new n7(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new sM({...this._def,minSize:{value:e,message:nH.errorUtil.toString(t)}})}max(e,t){return new sM({...this._def,maxSize:{value:e,message:nH.errorUtil.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}nX.ZodSet=sM,sM.create=(e,t)=>new sM({valueType:e,minSize:null,maxSize:null,typeName:bL.ZodSet,...n9(t)});class sN extends n8{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==nI.ZodParsedType.function)return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.function,received:t.parsedType}),nF.INVALID;function r(e,r){return(0,nF.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,nO.getErrorMap)(),nO.defaultErrorMap].filter(e=>!!e),issueData:{code:nK.ZodIssueCode.invalid_arguments,argumentsError:r}})}function i(e,r){return(0,nF.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,nO.getErrorMap)(),nO.defaultErrorMap].filter(e=>!!e),issueData:{code:nK.ZodIssueCode.invalid_return_type,returnTypeError:r}})}let o={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof sz){let e=this;return(0,nF.OK)(async function(...t){let s=new nK.ZodError([]),a=await e._def.args.parseAsync(t,o).catch(e=>{throw s.addIssue(r(t,e)),s}),l=await Reflect.apply(n,this,a);return await e._def.returns._def.type.parseAsync(l,o).catch(e=>{throw s.addIssue(i(l,e)),s})})}{let e=this;return(0,nF.OK)(function(...t){let s=e._def.args.safeParse(t,o);if(!s.success)throw new nK.ZodError([r(t,s.error)]);let a=Reflect.apply(n,this,s.data),l=e._def.returns.safeParse(a,o);if(!l.success)throw new nK.ZodError([i(a,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new sN({...this._def,args:sI.create(e).rest(sS.create())})}returns(e){return new sN({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new sN({args:e||sI.create([]).rest(sS.create()),returns:t||sS.create(),typeName:bL.ZodFunction,...n9(r)})}}nX.ZodFunction=sN;class sV extends n8{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}nX.ZodLazy=sV,sV.create=(e,t)=>new sV({getter:e,typeName:bL.ZodLazy,...n9(t)});class sF extends n8{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return(0,nF.addIssueToContext)(t,{received:t.data,code:nK.ZodIssueCode.invalid_literal,expected:this._def.value}),nF.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}function sG(e,t){return new sq({values:e,typeName:bL.ZodEnum,...n9(t)})}nX.ZodLiteral=sF,sF.create=(e,t)=>new sF({value:e,typeName:bL.ZodLiteral,...n9(t)});class sq extends n8{constructor(){super(...arguments),n4.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,nF.addIssueToContext)(t,{expected:nI.util.joinValues(r),received:t.parsedType,code:nK.ZodIssueCode.invalid_type}),nF.INVALID}if(n2(this,n4,"f")||n3(this,n4,new Set(this._def.values),"f"),!n2(this,n4,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,nF.addIssueToContext)(t,{received:t.data,code:nK.ZodIssueCode.invalid_enum_value,options:r}),nF.INVALID}return(0,nF.OK)(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return sq.create(e,{...this._def,...t})}exclude(e,t=this._def){return sq.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}nX.ZodEnum=sq,n4=new WeakMap,sq.create=sG;class s$ extends n8{constructor(){super(...arguments),n5.set(this,void 0)}_parse(e){let t=nI.util.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==nI.ZodParsedType.string&&r.parsedType!==nI.ZodParsedType.number){let e=nI.util.objectValues(t);return(0,nF.addIssueToContext)(r,{expected:nI.util.joinValues(e),received:r.parsedType,code:nK.ZodIssueCode.invalid_type}),nF.INVALID}if(n2(this,n5,"f")||n3(this,n5,new Set(nI.util.getValidEnumValues(this._def.values)),"f"),!n2(this,n5,"f").has(e.data)){let e=nI.util.objectValues(t);return(0,nF.addIssueToContext)(r,{received:r.data,code:nK.ZodIssueCode.invalid_enum_value,options:e}),nF.INVALID}return(0,nF.OK)(e.data)}get enum(){return this._def.values}}nX.ZodNativeEnum=s$,n5=new WeakMap,s$.create=(e,t)=>new s$({values:e,typeName:bL.ZodNativeEnum,...n9(t)});class sz extends n8{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==nI.ZodParsedType.promise&&!1===t.common.async)return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.promise,received:t.parsedType}),nF.INVALID;let r=t.parsedType===nI.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,nF.OK)(r.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}nX.ZodPromise=sz,sz.create=(e,t)=>new sz({type:e,typeName:bL.ZodPromise,...n9(t)});class sX extends n8{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===bL.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:e=>{(0,nF.addIssueToContext)(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===i.type){let e=i.transform(r.data,o);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return nF.INVALID;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?nF.INVALID:"dirty"===i.status||"dirty"===t.value?(0,nF.DIRTY)(i.value):i});{if("aborted"===t.value)return nF.INVALID;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?nF.INVALID:"dirty"===i.status||"dirty"===t.value?(0,nF.DIRTY)(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,o);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?nF.INVALID:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?nF.INVALID:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>(0,nF.isValid)(e)?Promise.resolve(i.transform(e.value,o)).then(e=>({status:t.value,value:e})):e);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!(0,nF.isValid)(e))return e;let n=i.transform(e.value,o);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}nI.util.assertNever(i)}}nX.ZodEffects=sX,nX.ZodTransformer=sX,sX.create=(e,t,r)=>new sX({schema:e,typeName:bL.ZodEffects,effect:t,...n9(r)}),sX.createWithPreprocess=(e,t,r)=>new sX({schema:t,effect:{type:"preprocess",transform:e},typeName:bL.ZodEffects,...n9(r)});class sH extends n8{_parse(e){return this._getType(e)===nI.ZodParsedType.undefined?(0,nF.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nX.ZodOptional=sH,sH.create=(e,t)=>new sH({innerType:e,typeName:bL.ZodOptional,...n9(t)});class sZ extends n8{_parse(e){return this._getType(e)===nI.ZodParsedType.null?(0,nF.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nX.ZodNullable=sZ,sZ.create=(e,t)=>new sZ({innerType:e,typeName:bL.ZodNullable,...n9(t)});class sW extends n8{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===nI.ZodParsedType.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}nX.ZodDefault=sW,sW.create=(e,t)=>new sW({innerType:e,typeName:bL.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...n9(t)});class sY extends n8{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return(0,nF.isAsync)(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new nK.ZodError(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new nK.ZodError(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}nX.ZodCatch=sY,sY.create=(e,t)=>new sY({innerType:e,typeName:bL.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...n9(t)});class sQ extends n8{_parse(e){if(this._getType(e)!==nI.ZodParsedType.nan){let t=this._getOrReturnCtx(e);return(0,nF.addIssueToContext)(t,{code:nK.ZodIssueCode.invalid_type,expected:nI.ZodParsedType.nan,received:t.parsedType}),nF.INVALID}return{status:"valid",value:e.data}}}nX.ZodNaN=sQ,sQ.create=e=>new sQ({typeName:bL.ZodNaN,...n9(e)}),nX.BRAND=Symbol("zod_brand");class sJ extends n8{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}nX.ZodBranded=sJ;class s0 extends n8{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?nF.INVALID:"dirty"===e.status?(t.dirty(),(0,nF.DIRTY)(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?nF.INVALID:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new s0({in:e,out:t,typeName:bL.ZodPipeline})}}nX.ZodPipeline=s0;class s1 extends n8{_parse(e){let t=this._def.innerType._parse(e),r=e=>((0,nF.isValid)(e)&&(e.value=Object.freeze(e.value)),e);return(0,nF.isAsync)(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function s4(e,t={},r){return e?sC.create().superRefine((i,o)=>{var n,s;if(!e(i)){let e="function"==typeof t?t(i):"string"==typeof t?{message:t}:t,a=null==(s=null!=(n=e.fatal)?n:r)||s,l="string"==typeof e?{message:e}:e;o.addIssue({code:"custom",...l,fatal:a})}}):sC.create()}nX.ZodReadonly=s1,s1.create=(e,t)=>new s1({innerType:e,typeName:bL.ZodReadonly,...n9(t)}),nX.custom=s4,nX.late={object:sP.lazycreate},(bs=bL||(nX.ZodFirstPartyTypeKind=bL={})).ZodString="ZodString",bs.ZodNumber="ZodNumber",bs.ZodNaN="ZodNaN",bs.ZodBigInt="ZodBigInt",bs.ZodBoolean="ZodBoolean",bs.ZodDate="ZodDate",bs.ZodSymbol="ZodSymbol",bs.ZodUndefined="ZodUndefined",bs.ZodNull="ZodNull",bs.ZodAny="ZodAny",bs.ZodUnknown="ZodUnknown",bs.ZodNever="ZodNever",bs.ZodVoid="ZodVoid",bs.ZodArray="ZodArray",bs.ZodObject="ZodObject",bs.ZodUnion="ZodUnion",bs.ZodDiscriminatedUnion="ZodDiscriminatedUnion",bs.ZodIntersection="ZodIntersection",bs.ZodTuple="ZodTuple",bs.ZodRecord="ZodRecord",bs.ZodMap="ZodMap",bs.ZodSet="ZodSet",bs.ZodFunction="ZodFunction",bs.ZodLazy="ZodLazy",bs.ZodLiteral="ZodLiteral",bs.ZodEnum="ZodEnum",bs.ZodEffects="ZodEffects",bs.ZodNativeEnum="ZodNativeEnum",bs.ZodOptional="ZodOptional",bs.ZodNullable="ZodNullable",bs.ZodDefault="ZodDefault",bs.ZodCatch="ZodCatch",bs.ZodPromise="ZodPromise",bs.ZodBranded="ZodBranded",bs.ZodPipeline="ZodPipeline",bs.ZodReadonly="ZodReadonly",nX.instanceof=(e,t={message:`Input not instance of ${e.name}`})=>s4(t=>t instanceof e,t);let s5=sb.create;nX.string=s5;let s2=sv.create;nX.number=s2,nX.nan=sQ.create,nX.bigint=sE.create;let s3=sR.create;nX.boolean=s3,nX.date=sA.create,nX.symbol=s_.create,nX.undefined=sT.create,nX.null=sw.create,nX.any=sC.create,nX.unknown=sS.create,nX.never=sL.create,nX.void=sk.create,nX.array=sx.create,nX.object=sP.create,nX.strictObject=sP.strictCreate,nX.union=sB.create,nX.discriminatedUnion=sO.create,nX.intersection=sU.create,nX.tuple=sI.create,nX.record=sK.create,nX.map=sj.create,nX.set=sM.create,nX.function=sN.create,nX.lazy=sV.create,nX.literal=sF.create,nX.enum=sq.create,nX.nativeEnum=s$.create,nX.promise=sz.create;let s7=sX.create;nX.effect=s7,nX.transformer=s7,nX.optional=sH.create,nX.nullable=sZ.create,nX.preprocess=sX.createWithPreprocess,nX.pipeline=s0.create,nX.ostring=()=>s5().optional(),nX.onumber=()=>s2().optional(),nX.oboolean=()=>s3().optional(),nX.coerce={string:e=>sb.create({...e,coerce:!0}),number:e=>sv.create({...e,coerce:!0}),boolean:e=>sR.create({...e,coerce:!0}),bigint:e=>sE.create({...e,coerce:!0}),date:e=>sA.create({...e,coerce:!0})},nX.NEVER=nF.INVALID,ba=np&&np.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),bl=np&&np.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||ba(t,e,r)},Object.defineProperty(nD,"__esModule",{value:!0}),bl(nO,nD),bl(nF,nD),bl(nz,nD),bl(nI,nD),bl(nX,nD),bl(nK,nD),bd=np&&np.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),bc=np&&np.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bp=np&&np.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&bd(t,e,r);return bc(t,e),t},bu=np&&np.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||bd(t,e,r)},Object.defineProperty(nB,"__esModule",{value:!0}),nB.z=void 0,nB.z=r=bp(nD),bu(nD,nB),nB.default=r;var s6={};Object.defineProperty(s6,"__esModule",{value:!0}),s6.toLexUri=function(e,t){if(e.split("#").length>2)throw Error("Uri can only have one hash segment");if(e.startsWith("lex:"))return e;if(e.startsWith("#")){if(!t)throw Error(`Unable to resolve uri without anchor: ${e}`);return`${t}${e}`}return`lex:${e}`},s6.toConcreteTypes=function(e,t){return"ref"===t.type?[e.getDefOrThrow(t.ref)]:"union"===t.type?t.refs.map(t=>e.getDefOrThrow(t)).flat():[t]},s6.requiredPropertiesRefinement=function(e,t){if(void 0!==e.required){if(!Array.isArray(e.required))return void t.addIssue({code:nB.z.ZodIssueCode.invalid_type,received:typeof e.required,expected:"array"});if(void 0===e.properties){e.required.length>0&&t.addIssue({code:nB.z.ZodIssueCode.custom,message:"Required fields defined but no properties defined"});return}for(let r of e.required)void 0===e.properties[r]&&t.addIssue({code:nB.z.ZodIssueCode.custom,message:`Required field "${r}" not defined`})}},Object.defineProperty(nP,"__esModule",{value:!0}),nP.LexiconDefNotFoundError=nP.InvalidLexiconError=nP.ValidationError=nP.discriminatedObject=nP.lexiconDoc=nP.lexUserType=nP.lexRecord=nP.lexXrpcSubscription=nP.lexXrpcProcedure=nP.lexXrpcQuery=nP.lexXrpcError=nP.lexXrpcSubscriptionMessage=nP.lexXrpcBody=nP.lexXrpcParameters=nP.lexObject=nP.lexToken=nP.lexPrimitiveArray=nP.lexArray=nP.lexBlob=nP.lexRefVariant=nP.lexRefUnion=nP.lexRef=nP.lexIpldType=nP.lexCidLink=nP.lexBytes=nP.lexPrimitive=nP.lexUnknown=nP.lexString=nP.lexStringFormat=nP.lexInteger=nP.lexBoolean=void 0,nP.isValidLexiconDoc=function(e){return nP.lexiconDoc.safeParse(e).success},nP.isObj=function(e){return null!==e&&"object"==typeof e},nP.hasProp=function(e,t){return t in e},nP.isDiscriminatedObject=function(e){return nP.discriminatedObject.safeParse(e).success},nP.parseLexiconDoc=function(e){return nP.lexiconDoc.parse(e),e},nP.lexBoolean=nB.z.object({type:nB.z.literal("boolean"),description:nB.z.string().optional(),default:nB.z.boolean().optional(),const:nB.z.boolean().optional()}).strict(),nP.lexInteger=nB.z.object({type:nB.z.literal("integer"),description:nB.z.string().optional(),default:nB.z.number().int().optional(),minimum:nB.z.number().int().optional(),maximum:nB.z.number().int().optional(),enum:nB.z.number().int().array().optional(),const:nB.z.number().int().optional()}).strict(),nP.lexStringFormat=nB.z.enum(["datetime","uri","at-uri","did","handle","at-identifier","nsid","cid","language","tid","record-key"]),nP.lexString=nB.z.object({type:nB.z.literal("string"),format:nP.lexStringFormat.optional(),description:nB.z.string().optional(),default:nB.z.string().optional(),minLength:nB.z.number().int().optional(),maxLength:nB.z.number().int().optional(),minGraphemes:nB.z.number().int().optional(),maxGraphemes:nB.z.number().int().optional(),enum:nB.z.string().array().optional(),const:nB.z.string().optional(),knownValues:nB.z.string().array().optional()}).strict(),nP.lexUnknown=nB.z.object({type:nB.z.literal("unknown"),description:nB.z.string().optional()}).strict(),nP.lexPrimitive=nB.z.discriminatedUnion("type",[nP.lexBoolean,nP.lexInteger,nP.lexString,nP.lexUnknown]),nP.lexBytes=nB.z.object({type:nB.z.literal("bytes"),description:nB.z.string().optional(),maxLength:nB.z.number().optional(),minLength:nB.z.number().optional()}).strict(),nP.lexCidLink=nB.z.object({type:nB.z.literal("cid-link"),description:nB.z.string().optional()}).strict(),nP.lexIpldType=nB.z.discriminatedUnion("type",[nP.lexBytes,nP.lexCidLink]),nP.lexRef=nB.z.object({type:nB.z.literal("ref"),description:nB.z.string().optional(),ref:nB.z.string()}).strict(),nP.lexRefUnion=nB.z.object({type:nB.z.literal("union"),description:nB.z.string().optional(),refs:nB.z.string().array(),closed:nB.z.boolean().optional()}).strict(),nP.lexRefVariant=nB.z.discriminatedUnion("type",[nP.lexRef,nP.lexRefUnion]),nP.lexBlob=nB.z.object({type:nB.z.literal("blob"),description:nB.z.string().optional(),accept:nB.z.string().array().optional(),maxSize:nB.z.number().optional()}).strict(),nP.lexArray=nB.z.object({type:nB.z.literal("array"),description:nB.z.string().optional(),items:nB.z.discriminatedUnion("type",[nP.lexBoolean,nP.lexInteger,nP.lexString,nP.lexUnknown,nP.lexBytes,nP.lexCidLink,nP.lexRef,nP.lexRefUnion,nP.lexBlob]),minLength:nB.z.number().int().optional(),maxLength:nB.z.number().int().optional()}).strict(),nP.lexPrimitiveArray=nP.lexArray.merge(nB.z.object({items:nP.lexPrimitive}).strict()),nP.lexToken=nB.z.object({type:nB.z.literal("token"),description:nB.z.string().optional()}).strict(),nP.lexObject=nB.z.object({type:nB.z.literal("object"),description:nB.z.string().optional(),required:nB.z.string().array().optional(),nullable:nB.z.string().array().optional(),properties:nB.z.record(nB.z.discriminatedUnion("type",[nP.lexArray,nP.lexBoolean,nP.lexInteger,nP.lexString,nP.lexUnknown,nP.lexBytes,nP.lexCidLink,nP.lexRef,nP.lexRefUnion,nP.lexBlob]))}).strict().superRefine(s6.requiredPropertiesRefinement),nP.lexXrpcParameters=nB.z.object({type:nB.z.literal("params"),description:nB.z.string().optional(),required:nB.z.string().array().optional(),properties:nB.z.record(nB.z.discriminatedUnion("type",[nP.lexPrimitiveArray,nP.lexBoolean,nP.lexInteger,nP.lexString,nP.lexUnknown]))}).strict().superRefine(s6.requiredPropertiesRefinement),nP.lexXrpcBody=nB.z.object({description:nB.z.string().optional(),encoding:nB.z.string(),schema:nB.z.union([nP.lexRefVariant,nP.lexObject]).optional()}).strict(),nP.lexXrpcSubscriptionMessage=nB.z.object({description:nB.z.string().optional(),schema:nB.z.union([nP.lexRefVariant,nP.lexObject]).optional()}).strict(),nP.lexXrpcError=nB.z.object({name:nB.z.string(),description:nB.z.string().optional()}).strict(),nP.lexXrpcQuery=nB.z.object({type:nB.z.literal("query"),description:nB.z.string().optional(),parameters:nP.lexXrpcParameters.optional(),output:nP.lexXrpcBody.optional(),errors:nP.lexXrpcError.array().optional()}).strict(),nP.lexXrpcProcedure=nB.z.object({type:nB.z.literal("procedure"),description:nB.z.string().optional(),parameters:nP.lexXrpcParameters.optional(),input:nP.lexXrpcBody.optional(),output:nP.lexXrpcBody.optional(),errors:nP.lexXrpcError.array().optional()}).strict(),nP.lexXrpcSubscription=nB.z.object({type:nB.z.literal("subscription"),description:nB.z.string().optional(),parameters:nP.lexXrpcParameters.optional(),message:nP.lexXrpcSubscriptionMessage.optional(),errors:nP.lexXrpcError.array().optional()}).strict(),nP.lexRecord=nB.z.object({type:nB.z.literal("record"),description:nB.z.string().optional(),key:nB.z.string().optional(),record:nP.lexObject}).strict(),nP.lexUserType=nB.z.custom(e=>{if(!(!e||"object"!=typeof e)&&void 0!==e.type)switch(e.type){case"record":return nP.lexRecord.parse(e);case"query":return nP.lexXrpcQuery.parse(e);case"procedure":return nP.lexXrpcProcedure.parse(e);case"subscription":return nP.lexXrpcSubscription.parse(e);case"blob":return nP.lexBlob.parse(e);case"array":return nP.lexArray.parse(e);case"token":return nP.lexToken.parse(e);case"object":return nP.lexObject.parse(e);case"boolean":return nP.lexBoolean.parse(e);case"integer":return nP.lexInteger.parse(e);case"string":return nP.lexString.parse(e);case"bytes":return nP.lexBytes.parse(e);case"cid-link":return nP.lexCidLink.parse(e);case"unknown":return nP.lexUnknown.parse(e)}},e=>e&&"object"==typeof e?void 0===e.type?{message:"Must have a type",fatal:!0}:"string"!=typeof e.type?{message:"Type property must be a string",fatal:!0}:{message:`Invalid type: ${e.type} must be one of: record, query, procedure, subscription, blob, array, token, object, boolean, integer, string, bytes, cid-link, unknown`,fatal:!0}:{message:"Must be an object",fatal:!0}),nP.lexiconDoc=nB.z.object({lexicon:nB.z.literal(1),id:nB.z.string().refine(e=>nh.NSID.isValid(e),{message:"Must be a valid NSID"}),revision:nB.z.number().optional(),description:nB.z.string().optional(),defs:nB.z.record(nP.lexUserType)}).strict().superRefine((e,t)=>{for(let r in e.defs){let i=e.defs[r];"main"!==r&&("record"===i.type||"procedure"===i.type||"query"===i.type||"subscription"===i.type)&&t.addIssue({code:nB.z.ZodIssueCode.custom,message:"Records, procedures, queries, and subscriptions must be the main definition."})}}),nP.discriminatedObject=nB.z.object({$type:nB.z.string()}),nP.ValidationError=class extends Error{},nP.InvalidLexiconError=class extends Error{},nP.LexiconDefNotFoundError=class extends Error{};var s9={},s8={},ae={},at={},ar={},ai={},ao={};Object.defineProperty(ao,"__esModule",{value:!0}),ao.isObject=ao.assure=ao.create=ao.is=void 0,ao.is=(e,t)=>t.safeParse(e).success,ao.create=e=>t=>e.safeParse(t).success,ao.assure=(e,t)=>e.parse(t),ao.isObject=e=>"object"==typeof e&&null!==e;var an={};Object.defineProperty(an,"__esModule",{value:!0}),an.parseIntWithFallback=an.dedupeStrs=an.range=an.chunkArray=an.errHasMsg=an.isErrnoException=an.asyncFilter=an.s32decode=an.s32encode=an.streamToBuffer=an.flattenUint8Arrays=an.bailableWait=an.wait=an.jitter=an.omit=an.noUndefinedVals=void 0,an.noUndefinedVals=e=>(Object.keys(e).forEach(t=>{void 0===e[t]&&delete e[t]}),e),an.omit=function(e,t){return e&&Object.fromEntries(Object.entries(e).filter(e=>!t.includes(e[0])))},an.jitter=e=>Math.round((Math.random()-.5)*e*2),an.wait=e=>new Promise(t=>setTimeout(t,e)),an.bailableWait=e=>{let t,r=new Promise(r=>{let i=setTimeout(r,e);t=()=>{clearTimeout(i),r()}});return{bail:t,wait:()=>r}},an.flattenUint8Arrays=e=>{let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{t.set(e,r),r+=e.length}),t},i=async e=>{let t=[];for await(let r of e)t.push(r);return(0,an.flattenUint8Arrays)(t)},an.streamToBuffer=i,an.s32encode=e=>{let t="";for(;e;){let r=e%32;e=Math.floor(e/32),t="234567abcdefghijklmnopqrstuvwxyz".charAt(r)+t}return t},an.s32decode=e=>{let t=0;for(let r of e)t=32*t+"234567abcdefghijklmnopqrstuvwxyz".indexOf(r);return t},an.asyncFilter=async(e,t)=>{let r=await Promise.all(e.map(e=>t(e)));return e.filter((e,t)=>r[t])},an.isErrnoException=e=>!!e&&e.code,an.errHasMsg=(e,t)=>!!e&&"object"==typeof e&&e.message===t,an.chunkArray=(e,t)=>e.reduce((e,r,i)=>{let o=Math.floor(i/t);return e[o]||(e[o]=[]),e[o].push(r),e},[]),an.range=e=>{let t=[];for(let r=0;r<e;r++)t.push(r);return t},an.dedupeStrs=e=>[...new Set(e)],an.parseIntWithFallback=(e,t)=>{let r=parseInt(e||"",10);return isNaN(r)?t:r};var as={};Object.defineProperty(as,"__esModule",{value:!0}),as.mapDefined=as.keyBy=void 0,as.keyBy=(e,t)=>e.reduce((e,r)=>(e[r[t]]=r,e),{}),as.mapDefined=(e,t)=>{let r=[];for(let i of e){let e=t(i);void 0!==e&&r.push(e)}return r};var aa={};Object.defineProperty(aa,"__esModule",{value:!0}),aa.handleAllSettledErrors=aa.AsyncBufferFullError=aa.AsyncBuffer=aa.allComplete=aa.createDeferrables=aa.createDeferrable=aa.readFromGenerator=void 0,aa.readFromGenerator=async(e,t,r=Promise.resolve(),i=Number.MAX_SAFE_INTEGER)=>{let o=[],n,s=!1,a=async()=>{if(await t(o.at(-1)))return!0;let e=(0,an.bailableWait)(20);return await e.wait(),n=e.bail,!s&&await a()},l=new Promise(e=>{r.then(()=>{a().then(()=>e())})});try{for(;o.length<i;){let t=await Promise.race([e.next(),l]);if(!t||t.done)break;o.push(t.value)}}finally{s=!0,n&&n()}return o},aa.createDeferrable=()=>{let e,t=new Promise(t=>{e=()=>t()});return{resolve:e,complete:t}},aa.createDeferrables=e=>{let t=[];for(let r=0;r<e;r++)t.push((0,aa.createDeferrable)());return t},aa.allComplete=async e=>{await Promise.all(e.map(e=>e.complete))},aa.AsyncBuffer=class{constructor(e){Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"buffer",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"promise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolve",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"toThrow",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.promise=Promise.resolve(),this.resolve=()=>null,this.resetPromise()}get curr(){return this.buffer}get size(){return this.buffer.length}get isClosed(){return this.closed}resetPromise(){this.promise=new Promise(e=>this.resolve=e)}push(e){this.buffer.push(e),this.resolve()}pushMany(e){e.forEach(e=>this.buffer.push(e)),this.resolve()}async *events(){for(;;){if(this.closed&&0===this.buffer.length){if(this.toThrow)throw this.toThrow;return}if(await this.promise,this.toThrow)throw this.toThrow;if(this.maxSize&&this.size>this.maxSize)throw new al(this.maxSize);let[e,...t]=this.buffer;e?(this.buffer=t,yield e):this.resetPromise()}}throw(e){this.toThrow=e,this.closed=!0,this.resolve()}close(){this.closed=!0,this.resolve()}};class al extends Error{constructor(e){super(`ReachedMaxBufferSize: ${e}`)}}aa.AsyncBufferFullError=al,aa.handleAllSettledErrors=e=>{let t=e.filter(ad).map(e=>e.reason);if(0!==t.length)throw 1===t.length?t[0]:AggregateError(t,"Multiple errors: "+t.map(e=>e?.message).join(`
`))};let ad=e=>"rejected"===e.status;var ac={};Object.defineProperty(ac,"__esModule",{value:!0}),ac.TID=void 0;let ap=0,au=0,af=null;function ah(e){return e.replaceAll("-","")}class am{constructor(e){Object.defineProperty(this,"str",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let t=ah(e);if(13!==t.length)throw Error(`Poorly formatted TID: ${t.length} length`);this.str=t}static next(e){let t=Math.max(Date.now(),ap);t===ap&&au++,ap=t;let r=1e3*t+au;null===af&&(af=Math.floor(32*Math.random()));let i=am.fromTime(r,af);return!e||i.newerThan(e)?i:am.fromTime(e.timestamp()+1,af)}static nextStr(e){return am.next(e?new am(e):void 0).toString()}static fromTime(e,t){return new am(`${(0,an.s32encode)(e)}${(0,an.s32encode)(t).padStart(2,"2")}`)}static fromStr(e){return new am(e)}static oldestFirst(e,t){return e.compareTo(t)}static newestFirst(e,t){return t.compareTo(e)}static is(e){return 13===ah(e).length}timestamp(){return(0,an.s32decode)(this.str.slice(0,11))}clockid(){return(0,an.s32decode)(this.str.slice(11,13))}formatted(){let e=this.toString();return`${e.slice(0,4)}-${e.slice(4,7)}-${e.slice(7,11)}-${e.slice(11,13)}`}toString(){return this.str}compareTo(e){return this.str>e.str?1:this.str<e.str?-1:0}equals(e){return this.str===e.str}newerThan(e){return this.compareTo(e)>0}olderThan(e){return 0>this.compareTo(e)}}ac.TID=am,ac.default=am;var ay={};function ag(e,t,r){t=t||[],r=r||0;for(var i=r;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,ag.bytes=r-i+1,t}function ab(e,t){var r,i=0,t=t||0,o=0,n=t,s=e.length;do{if(n>=s)throw ab.bytes=0,RangeError("Could not decode varint");r=e[n++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128)return ab.bytes=n-t,i}var av=function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10};let aE=(e,t=0)=>[ab(e,t),ab.bytes],aR=(e,t,r=0)=>(ag(e,t,r),t),aA=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class a_{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}var aT=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<e.length;o++){var n=e.charAt(o),s=n.charCodeAt(0);if(255!==r[s])throw TypeError(n+" is ambiguous");r[s]=o}var a=e.length,l=e.charAt(0),d=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function p(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var i=0,o=0;e[t]===l;)i++,t++;for(var n=(e.length-t)*d+1>>>0,s=new Uint8Array(n);e[t];){var c=r[e.charCodeAt(t)];if(255===c)return;for(var p=0,u=n-1;(0!==c||p<o)&&-1!==u;u--,p++)c+=a*s[u]>>>0,s[u]=c%256>>>0,c=c/256>>>0;if(0!==c)throw Error("Non-zero carry");o=p,t++}if(" "!==e[t]){for(var f=n-o;f!==n&&0===s[f];)f++;for(var h=new Uint8Array(i+(n-f)),m=i;f!==n;)h[m++]=s[f++];return h}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,o=0,n=t.length;o!==n&&0===t[o];)o++,r++;for(var s=(n-o)*c+1>>>0,d=new Uint8Array(s);o!==n;){for(var p=t[o],u=0,f=s-1;(0!==p||u<i)&&-1!==f;f--,u++)p+=256*d[f]>>>0,d[f]=p%a>>>0,p=p/a>>>0;if(0!==p)throw Error("Non-zero carry");i=u,o++}for(var h=s-i;h!==s&&0===d[h];)h++;for(var m=l.repeat(r);h<s;++h)m+=e.charAt(d[h]);return m},decodeUnsafe:p,decode:function(e){var r=p(e);if(r)return r;throw Error(`Non-${t} character`)}}};class aw{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class aC{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return aL(this,e)}}class aS{constructor(e){this.decoders=e}or(e){return aL(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let aL=(e,t)=>new aS({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class ak{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new aw(e,t,r),this.decoder=new aC(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let ax=({name:e,prefix:t,encode:r,decode:i})=>new ak(e,t,r,i),aP=({prefix:e,name:t,alphabet:r})=>{let{encode:i,decode:o}=aT(r,t);return ax({prefix:e,name:t,encode:i,decode:e=>aA(o(e))})},aB=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>ax({prefix:t,name:e,encode:e=>((e,t,r)=>{let i="="===t[t.length-1],o=(1<<r)-1,n="",s=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],s+=8;s>r;)s-=r,n+=t[o&a>>s];if(s&&(n+=t[o&a<<r-s]),i)for(;n.length*r&7;)n+="=";return n})(e,i,r),decode:t=>((e,t,r,i)=>{let o={};for(let e=0;e<t.length;++e)o[t[e]]=e;let n=e.length;for(;"="===e[n-1];)--n;let s=new Uint8Array(n*r/8|0),a=0,l=0,d=0;for(let t=0;t<n;++t){let n=o[e[t]];if(void 0===n)throw SyntaxError(`Non-${i} character`);l=l<<r|n,(a+=r)>=8&&(a-=8,s[d++]=255&l>>a)}if(a>=r||255&l<<8-a)throw SyntaxError("Unexpected end of data");return s})(t,i,r,e)}),aD=aP({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),aO=Object.freeze(Object.defineProperty({__proto__:null,base58btc:aD,base58flickr:aP({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},Symbol.toStringTag,{value:"Module"})),aU=aB({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),aI=aB({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),aK=aB({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),aj=aB({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),aM=aB({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),aN=aB({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),aV=Object.freeze(Object.defineProperty({__proto__:null,base32:aU,base32hex:aM,base32hexpad:aB({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:aB({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32hexupper:aN,base32pad:aK,base32padupper:aj,base32upper:aI,base32z:aB({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},Symbol.toStringTag,{value:"Module"}));class aF{constructor(e,t,r,i){this.code=t,this.version=e,this.multihash=r,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:aY,byteLength:aY,code:aW,version:aW,multihash:aW,bytes:aW,_baseCache:aY,asCID:aY})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==az)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==aX)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return aF.createV0(t)}}toV1(){switch(this.version){case 0:{let e,t,r,i,{code:o,digest:n}=this.multihash,s=(e=n.byteLength,i=new Uint8Array((r=(t=av(o))+av(e))+e),aR(o,i,0),aR(e,i,t),i.set(n,r),new a_(o,e,n,i));return aF.createV1(this.code,s)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){let t,r;return e&&this.code===e.code&&this.version===e.version&&((t=this.multihash)===(r=e.multihash)||t.code===r.code&&t.size===r.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(t.bytes,r.bytes))}toString(e){let{bytes:t,version:r,_baseCache:i}=this;return 0===r?aq(t,i,e||aD.encoder):a$(t,i,e||aU.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return aQ(/^0\.0/,aJ),!!(e&&(e[aZ]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof aF)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:i,bytes:o}=e;return new aF(t,r,i,o||aH(t,r,i.bytes))}if(null==e||!0!==e[aZ])return null;{let{version:t,multihash:r,code:i}=e,o=(e=>{let t=aA(e),[r,i]=aE(t),[o,n]=aE(t.subarray(i)),s=t.subarray(i+n);if(s.byteLength!==o)throw Error("Incorrect length");return new a_(r,o,s,t)})(r);return aF.create(t,i,o)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t!==az)throw Error(`Version 0 CID must use dag-pb (code: ${az}) block encoding`);return new aF(e,t,r,r.bytes);case 1:{let i=aH(e,t,r.bytes);return new aF(e,t,r,i)}default:throw Error("Invalid version")}}static createV0(e){return aF.create(0,az,e)}static createV1(e,t){return aF.create(1,e,t)}static decode(e){let[t,r]=aF.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=aF.inspectBytes(e),r=t.size-t.multihashSize,i=aA(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw Error("Incorrect length");let o=i.subarray(t.multihashSize-t.digestSize),n=new a_(t.multihashCode,t.digestSize,o,i);return[0===t.version?aF.createV0(n):aF.createV1(t.codec,n),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,i]=aE(e.subarray(t));return t+=i,r},i=r(),o=az;if(18===i?(i=0,t=0):1===i&&(o=r()),0!==i&&1!==i)throw RangeError(`Invalid CID version ${i}`);let n=t,s=r(),a=r(),l=t+a;return{version:i,codec:o,multihashCode:s,digestSize:a,multihashSize:l-n,size:l}}static parse(e,t){let[r,i]=aG(e,t),o=aF.decode(i);return o._baseCache.set(r,e),o}}let aG=(e,t)=>{switch(e[0]){case"Q":{let r=t||aD;return[aD.prefix,r.decode(`${aD.prefix}${e}`)]}case aD.prefix:{let r=t||aD;return[aD.prefix,r.decode(e)]}case aU.prefix:{let r=t||aU;return[aU.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},aq=(e,t,r)=>{let{prefix:i}=r;if(i!==aD.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(i);if(null!=o)return o;{let o=r.encode(e).slice(1);return t.set(i,o),o}},a$=(e,t,r)=>{let{prefix:i}=r,o=t.get(i);if(null!=o)return o;{let o=r.encode(e);return t.set(i,o),o}},az=112,aX=18,aH=(e,t,r)=>{let i=av(e),o=i+av(t),n=new Uint8Array(o+r.byteLength);return aR(e,n,0),aR(t,n,i),n.set(r,o),n},aZ=Symbol.for("@ipld/js-cid/CID"),aW={writable:!1,configurable:!1,enumerable:!0},aY={writable:!1,enumerable:!1,configurable:!1},aQ=(e,t)=>{if(e.test("0.0.0-dev"))console.warn(t);else throw Error(t)},aJ=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,a0=nu(Object.freeze(Object.defineProperty({__proto__:null,CID:aF},Symbol.toStringTag,{value:"Module"}))),a1=Object.freeze(Object.defineProperty({__proto__:null,identity:ax({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)})},Symbol.toStringTag,{value:"Module"})),a4=Object.freeze(Object.defineProperty({__proto__:null,base2:aB({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})},Symbol.toStringTag,{value:"Module"})),a5=Object.freeze(Object.defineProperty({__proto__:null,base8:aB({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})},Symbol.toStringTag,{value:"Module"})),a2=Object.freeze(Object.defineProperty({__proto__:null,base10:aP({prefix:"9",name:"base10",alphabet:"0123456789"})},Symbol.toStringTag,{value:"Module"})),a3=Object.freeze(Object.defineProperty({__proto__:null,base16:aB({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:aB({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})},Symbol.toStringTag,{value:"Module"})),a7=Object.freeze(Object.defineProperty({__proto__:null,base36:aP({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:aP({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})},Symbol.toStringTag,{value:"Module"})),a6=Object.freeze(Object.defineProperty({__proto__:null,base64:aB({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad:aB({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:aB({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:aB({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},Symbol.toStringTag,{value:"Module"})),a9=Array.from(""),a8=a9.reduce((e,t,r)=>(e[r]=t,e),[]),le=a9.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),lt=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:ax({prefix:"",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=a8[t],"")},decode:function(e){let t=[];for(let r of e){let e=le[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;let lr={...a1,...a4,...a5,...a2,...a3,...aV,...a7,...aO,...a6,...lt};function li(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}let lo=li("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),ln=li("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=new Uint8Array((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),ls={utf8:lo,"utf-8":lo,hex:lr.base16,latin1:ln,ascii:ln,binary:ln,...lr},la=nu(Object.freeze(Object.defineProperty({__proto__:null,compare:function(e,t){for(let r=0;r<e.byteLength;r++){if(e[r]<t[r])return -1;if(e[r]>t[r])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0},concat:function(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=new Uint8Array(t),i=0;for(let t of e)r.set(t,i),i+=t.length;return r},equals:function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},fromString:function(e,t="utf8"){let r=ls[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return r.decoder.decode(`${r.prefix}${e}`)},toString:function(e,t="utf8"){let r=ls[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return r.encoder.encode(e).substring(1)},xor:function(e,t){if(e.length!==t.length)throw Error("Inputs should have the same length");let r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e[i]^t[i];return r}},Symbol.toStringTag,{value:"Module"})));bf=np&&np.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),bh=np&&np.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bm=np&&np.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&bf(t,e,r);return bh(t,e),t},Object.defineProperty(ay,"__esModule",{value:!0}),ay.ipldEquals=ay.ipldToJson=ay.jsonToIpld=void 0,o=bm(la),ay.jsonToIpld=e=>{if(Array.isArray(e))return e.map(e=>(0,ay.jsonToIpld)(e));if(e&&"object"==typeof e){if("string"==typeof e.$link&&1===Object.keys(e).length)return a0.CID.parse(e.$link);if("string"==typeof e.$bytes&&1===Object.keys(e).length)return o.fromString(e.$bytes,"base64");let t={};for(let r of Object.keys(e))t[r]=(0,ay.jsonToIpld)(e[r]);return t}return e},ay.ipldToJson=e=>{if(Array.isArray(e))return e.map(e=>(0,ay.ipldToJson)(e));if(e&&"object"==typeof e){if(e instanceof Uint8Array)return{$bytes:o.toString(e,"base64")};if(a0.CID.asCID(e))return{$link:e.toString()};let t={};for(let r of Object.keys(e))t[r]=(0,ay.ipldToJson)(e[r]);return t}return e},ay.ipldEquals=(e,t)=>{if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!(0,ay.ipldEquals)(e[r],t[r]))return!1;return!0}if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e instanceof Uint8Array&&t instanceof Uint8Array)return o.equals(e,t);if(a0.CID.asCID(e)&&a0.CID.asCID(t))return a0.CID.asCID(e)?.equals(a0.CID.asCID(t));if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r of Object.keys(e))if(!(0,ay.ipldEquals)(e[r],t[r]))return!1;return!0}return e===t};var ll={};function ld(e,t=100,r=1e3){var i,o;let n;return n=.15*(i=Math.min(Math.pow(2,e)*t,r)),i+(o=-n,Math.random()*(n-o)+o)}Object.defineProperty(ll,"__esModule",{value:!0}),ll.backoffMs=ll.retry=void 0,ll.retry=async function(e,t={}){let{maxRetries:r=3,retryable:i=()=>!0,getWaitMs:o=ld}=t,n=0,s;for(;!s;)try{return await e()}catch(t){let e=o(n);n<r&&null!==e&&i(t)?(n+=1,0!==e&&await (0,an.wait)(e)):s=t}throw s},ll.backoffMs=ld;var lc={};Object.defineProperty(lc,"__esModule",{value:!0}),lc.def=lc.schema=void 0,lc.schema={cid:nB.z.any().refine(e=>null!==a0.CID.asCID(e),{message:"Not a CID"}).transform(e=>a0.CID.asCID(e)),bytes:nB.z.instanceof(Uint8Array),string:nB.z.string(),array:nB.z.array(nB.z.unknown()),map:nB.z.record(nB.z.string(),nB.z.unknown()),unknown:nB.z.unknown()},lc.def={cid:{name:"cid",schema:lc.schema.cid},bytes:{name:"bytes",schema:lc.schema.bytes},string:{name:"string",schema:lc.schema.string},map:{name:"map",schema:lc.schema.map},unknown:{name:"unknown",schema:lc.schema.unknown}};var lp={};Object.defineProperty(lp,"__esModule",{value:!0}),lp.addHoursToDate=lp.lessThanAgoMs=lp.DAY=lp.HOUR=lp.MINUTE=lp.SECOND=void 0,lp.SECOND=1e3,lp.MINUTE=60*lp.SECOND,lp.HOUR=60*lp.MINUTE,lp.DAY=24*lp.HOUR,lp.lessThanAgoMs=(e,t)=>Date.now()<e.getTime()+t,lp.addHoursToDate=(e,t)=>{let r=t?new Date(t):new Date;return r.setHours(r.getHours()+e),r};var lu={},lf={},lh={},lm={};Object.defineProperty(lm,"__esModule",{value:!0}),lm.EXTENDED_PICTOGRAPHIC=lm.CLUSTER_BREAK=void 0,(by=lm.CLUSTER_BREAK||(lm.CLUSTER_BREAK={}))[by.CR=0]="CR",by[by.LF=1]="LF",by[by.CONTROL=2]="CONTROL",by[by.EXTEND=3]="EXTEND",by[by.REGIONAL_INDICATOR=4]="REGIONAL_INDICATOR",by[by.SPACINGMARK=5]="SPACINGMARK",by[by.L=6]="L",by[by.V=7]="V",by[by.T=8]="T",by[by.LV=9]="LV",by[by.LVT=10]="LVT",by[by.OTHER=11]="OTHER",by[by.PREPEND=12]="PREPEND",by[by.E_BASE=13]="E_BASE",by[by.E_MODIFIER=14]="E_MODIFIER",by[by.ZWJ=15]="ZWJ",by[by.GLUE_AFTER_ZWJ=16]="GLUE_AFTER_ZWJ",by[by.E_BASE_GAZ=17]="E_BASE_GAZ",lm.EXTENDED_PICTOGRAPHIC=101;var ly={};Object.defineProperty(ly,"__esModule",{value:!0}),ly.default=class{static isSurrogate(e,t){return 55296<=e.charCodeAt(t)&&56319>=e.charCodeAt(t)&&56320<=e.charCodeAt(t+1)&&57343>=e.charCodeAt(t+1)}static codePointAt(e,t){void 0===t&&(t=0);let r=e.charCodeAt(t);if(55296<=r&&r<=56319&&t<e.length-1){let i=e.charCodeAt(t+1);return 56320<=i&&i<=57343?(r-55296)*1024+(i-56320)+65536:r}if(56320<=r&&r<=57343&&t>=1){let i=e.charCodeAt(t-1);return 55296<=i&&i<=56319?(i-55296)*1024+(r-56320)+65536:r}return r}static shouldBreak(e,t,r,i,o,n){let s=[e].concat(t).concat([r]),a=[i].concat(o).concat([n]),l=s[s.length-2],d=s.lastIndexOf(lm.CLUSTER_BREAK.REGIONAL_INDICATOR);if(d>0&&s.slice(1,d).every(function(e){return e===lm.CLUSTER_BREAK.REGIONAL_INDICATOR})&&-1===[lm.CLUSTER_BREAK.PREPEND,lm.CLUSTER_BREAK.REGIONAL_INDICATOR].indexOf(l))return s.filter(function(e){return e===lm.CLUSTER_BREAK.REGIONAL_INDICATOR}).length%2==1?3:4;if(l===lm.CLUSTER_BREAK.CR&&r===lm.CLUSTER_BREAK.LF)return 0;if(l===lm.CLUSTER_BREAK.CONTROL||l===lm.CLUSTER_BREAK.CR||l===lm.CLUSTER_BREAK.LF||r===lm.CLUSTER_BREAK.CONTROL||r===lm.CLUSTER_BREAK.CR||r===lm.CLUSTER_BREAK.LF)return 1;if(l===lm.CLUSTER_BREAK.L&&(r===lm.CLUSTER_BREAK.L||r===lm.CLUSTER_BREAK.V||r===lm.CLUSTER_BREAK.LV||r===lm.CLUSTER_BREAK.LVT)||(l===lm.CLUSTER_BREAK.LV||l===lm.CLUSTER_BREAK.V)&&(r===lm.CLUSTER_BREAK.V||r===lm.CLUSTER_BREAK.T)||(l===lm.CLUSTER_BREAK.LVT||l===lm.CLUSTER_BREAK.T)&&r===lm.CLUSTER_BREAK.T||r===lm.CLUSTER_BREAK.EXTEND||r===lm.CLUSTER_BREAK.ZWJ||r===lm.CLUSTER_BREAK.SPACINGMARK||l===lm.CLUSTER_BREAK.PREPEND)return 0;let c=a.slice(0,-1).lastIndexOf(lm.EXTENDED_PICTOGRAPHIC);return -1!==c&&a[c]===lm.EXTENDED_PICTOGRAPHIC&&s.slice(c+1,-2).every(function(e){return e===lm.CLUSTER_BREAK.EXTEND})&&l===lm.CLUSTER_BREAK.ZWJ&&n===lm.EXTENDED_PICTOGRAPHIC?0:-1!==t.indexOf(lm.CLUSTER_BREAK.REGIONAL_INDICATOR)?2:+(l!==lm.CLUSTER_BREAK.REGIONAL_INDICATOR||r!==lm.CLUSTER_BREAK.REGIONAL_INDICATOR)}};var lg={};Object.defineProperty(lg,"__esModule",{value:!0});class lb{constructor(e,t){this._index=0,this._str=e,this._nextBreak=t}[Symbol.iterator](){return this}next(){let e;if((e=this._nextBreak(this._str,this._index))<this._str.length){let t=this._str.slice(this._index,e);return this._index=e,{value:t,done:!1}}if(this._index<this._str.length){let e=this._str.slice(this._index);return this._index=this._str.length,{value:e,done:!1}}return{value:void 0,done:!0}}}lg.default=lb;var lv=np&&np.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lh,"__esModule",{value:!0});let lE=lv(ly),lR=lv(lg);class lA{static nextBreak(e,t){if(void 0===t&&(t=0),t<0)return 0;if(t>=e.length-1)return e.length;let r=lE.default.codePointAt(e,t),i=lA.getGraphemeBreakProperty(r),o=lA.getEmojiProperty(r),n=[],s=[];for(let r=t+1;r<e.length;r++){if(lE.default.isSurrogate(e,r-1))continue;let t=lE.default.codePointAt(e,r),a=lA.getGraphemeBreakProperty(t),l=lA.getEmojiProperty(t);if(lE.default.shouldBreak(i,n,a,o,s,l))return r;n.push(a),s.push(l)}return e.length}splitGraphemes(e){let t=[],r=0,i;for(;(i=lA.nextBreak(e,r))<e.length;)t.push(e.slice(r,i)),r=i;return r<e.length&&t.push(e.slice(r)),t}iterateGraphemes(e){return new lR.default(e,lA.nextBreak)}countGraphemes(e){let t=0,r=0,i;for(;(i=lA.nextBreak(e,r))<e.length;)r=i,t++;return r<e.length&&t++,t}static getGraphemeBreakProperty(e){if(e<48905){if(e<44116){if(e<4141){if(e<2818){if(e<2363)if(e<1759){if(e<1471){if(e<127){if(e<11){if(e<10){if(0<=e&&e<=9)return lm.CLUSTER_BREAK.CONTROL}else if(10===e)return lm.CLUSTER_BREAK.LF}else if(e<13){if(11<=e&&e<=12)return lm.CLUSTER_BREAK.CONTROL}else if(e<14){if(13===e)return lm.CLUSTER_BREAK.CR}else if(14<=e&&e<=31)return lm.CLUSTER_BREAK.CONTROL}else if(e<768){if(e<173){if(127<=e&&e<=159)return lm.CLUSTER_BREAK.CONTROL}else if(173===e)return lm.CLUSTER_BREAK.CONTROL}else if(e<1155){if(768<=e&&e<=879)return lm.CLUSTER_BREAK.EXTEND}else if(e<1425){if(1155<=e&&e<=1161)return lm.CLUSTER_BREAK.EXTEND}else if(1425<=e&&e<=1469)return lm.CLUSTER_BREAK.EXTEND}else if(e<1552){if(e<1476){if(e<1473){if(1471===e)return lm.CLUSTER_BREAK.EXTEND}else if(1473<=e&&e<=1474)return lm.CLUSTER_BREAK.EXTEND}else if(e<1479){if(1476<=e&&e<=1477)return lm.CLUSTER_BREAK.EXTEND}else if(e<1536){if(1479===e)return lm.CLUSTER_BREAK.EXTEND}else if(1536<=e&&e<=1541)return lm.CLUSTER_BREAK.PREPEND}else if(e<1648){if(e<1564){if(1552<=e&&e<=1562)return lm.CLUSTER_BREAK.EXTEND}else if(e<1611){if(1564===e)return lm.CLUSTER_BREAK.CONTROL}else if(1611<=e&&e<=1631)return lm.CLUSTER_BREAK.EXTEND}else if(e<1750){if(1648===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<1757){if(1750<=e&&e<=1756)return lm.CLUSTER_BREAK.EXTEND}else if(1757===e)return lm.CLUSTER_BREAK.PREPEND}else if(e<2075){if(e<1840)if(e<1770){if(e<1767){if(1759<=e&&e<=1764)return lm.CLUSTER_BREAK.EXTEND}else if(1767<=e&&e<=1768)return lm.CLUSTER_BREAK.EXTEND}else if(e<1807){if(1770<=e&&e<=1773)return lm.CLUSTER_BREAK.EXTEND}else{if(1807===e)return lm.CLUSTER_BREAK.PREPEND;if(1809===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2027){if(e<1958){if(1840<=e&&e<=1866)return lm.CLUSTER_BREAK.EXTEND}else if(1958<=e&&e<=1968)return lm.CLUSTER_BREAK.EXTEND}else if(e<2045){if(2027<=e&&e<=2035)return lm.CLUSTER_BREAK.EXTEND}else if(e<2070){if(2045===e)return lm.CLUSTER_BREAK.EXTEND}else if(2070<=e&&e<=2073)return lm.CLUSTER_BREAK.EXTEND}else if(e<2200){if(e<2089){if(e<2085){if(2075<=e&&e<=2083)return lm.CLUSTER_BREAK.EXTEND}else if(2085<=e&&e<=2087)return lm.CLUSTER_BREAK.EXTEND}else if(e<2137){if(2089<=e&&e<=2093)return lm.CLUSTER_BREAK.EXTEND}else if(e<2192){if(2137<=e&&e<=2139)return lm.CLUSTER_BREAK.EXTEND}else if(2192<=e&&e<=2193)return lm.CLUSTER_BREAK.PREPEND}else if(e<2275){if(e<2250){if(2200<=e&&e<=2207)return lm.CLUSTER_BREAK.EXTEND}else if(e<2274){if(2250<=e&&e<=2273)return lm.CLUSTER_BREAK.EXTEND}else if(2274===e)return lm.CLUSTER_BREAK.PREPEND}else if(e<2307){if(2275<=e&&e<=2306)return lm.CLUSTER_BREAK.EXTEND}else{if(2307===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(2362===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2561){if(e<2434){if(e<2381){if(e<2366){if(2363===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(2364===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2369){if(2366<=e&&e<=2368)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<2377){if(2369<=e&&e<=2376)return lm.CLUSTER_BREAK.EXTEND}else if(2377<=e&&e<=2380)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<2385){if(e<2382){if(2381===e)return lm.CLUSTER_BREAK.EXTEND}else if(2382<=e&&e<=2383)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<2402){if(2385<=e&&e<=2391)return lm.CLUSTER_BREAK.EXTEND}else if(e<2433){if(2402<=e&&e<=2403)return lm.CLUSTER_BREAK.EXTEND}else if(2433===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2503){if(e<2494){if(e<2492){if(2434<=e&&e<=2435)return lm.CLUSTER_BREAK.SPACINGMARK}else if(2492===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2495){if(2494===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2497){if(2495<=e&&e<=2496)return lm.CLUSTER_BREAK.SPACINGMARK}else if(2497<=e&&e<=2500)return lm.CLUSTER_BREAK.EXTEND}else if(e<2519){if(e<2507){if(2503<=e&&e<=2504)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<2509){if(2507<=e&&e<=2508)return lm.CLUSTER_BREAK.SPACINGMARK}else if(2509===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2530){if(2519===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2558){if(2530<=e&&e<=2531)return lm.CLUSTER_BREAK.EXTEND}else if(2558===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2691){if(e<2631){if(e<2620){if(e<2563){if(2561<=e&&e<=2562)return lm.CLUSTER_BREAK.EXTEND}else if(2563===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<2622){if(2620===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2625){if(2622<=e&&e<=2624)return lm.CLUSTER_BREAK.SPACINGMARK}else if(2625<=e&&e<=2626)return lm.CLUSTER_BREAK.EXTEND}else if(e<2672){if(e<2635){if(2631<=e&&e<=2632)return lm.CLUSTER_BREAK.EXTEND}else if(e<2641){if(2635<=e&&e<=2637)return lm.CLUSTER_BREAK.EXTEND}else if(2641===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2677){if(2672<=e&&e<=2673)return lm.CLUSTER_BREAK.EXTEND}else if(e<2689){if(2677===e)return lm.CLUSTER_BREAK.EXTEND}else if(2689<=e&&e<=2690)return lm.CLUSTER_BREAK.EXTEND}else if(e<2761){if(e<2750){if(2691===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(2748===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2753){if(2750<=e&&e<=2752)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<2759){if(2753<=e&&e<=2757)return lm.CLUSTER_BREAK.EXTEND}else if(2759<=e&&e<=2760)return lm.CLUSTER_BREAK.EXTEND}else if(e<2786){if(e<2763){if(2761===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<2765){if(2763<=e&&e<=2764)return lm.CLUSTER_BREAK.SPACINGMARK}else if(2765===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2810){if(2786<=e&&e<=2787)return lm.CLUSTER_BREAK.EXTEND}else if(e<2817){if(2810<=e&&e<=2815)return lm.CLUSTER_BREAK.EXTEND}else if(2817===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3315){if(e<3076){if(e<2946){if(e<2887){if(e<2878){if(e<2876){if(2818<=e&&e<=2819)return lm.CLUSTER_BREAK.SPACINGMARK}else if(2876===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2880){if(2878<=e&&e<=2879)return lm.CLUSTER_BREAK.EXTEND}else if(e<2881){if(2880===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(2881<=e&&e<=2884)return lm.CLUSTER_BREAK.EXTEND}else if(e<2893){if(e<2891){if(2887<=e&&e<=2888)return lm.CLUSTER_BREAK.SPACINGMARK}else if(2891<=e&&e<=2892)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<2901){if(2893===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<2914){if(2901<=e&&e<=2903)return lm.CLUSTER_BREAK.EXTEND}else if(2914<=e&&e<=2915)return lm.CLUSTER_BREAK.EXTEND}else if(e<3014){if(e<3007){if(2946===e||3006===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3008){if(3007===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3009){if(3008===e)return lm.CLUSTER_BREAK.EXTEND}else if(3009<=e&&e<=3010)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3031){if(e<3018){if(3014<=e&&e<=3016)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3021){if(3018<=e&&e<=3020)return lm.CLUSTER_BREAK.SPACINGMARK}else if(3021===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3072){if(3031===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3073){if(3072===e)return lm.CLUSTER_BREAK.EXTEND}else if(3073<=e&&e<=3075)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3262){if(e<3146){if(e<3134){if(3076===e||3132===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3137){if(3134<=e&&e<=3136)return lm.CLUSTER_BREAK.EXTEND}else if(e<3142){if(3137<=e&&e<=3140)return lm.CLUSTER_BREAK.SPACINGMARK}else if(3142<=e&&e<=3144)return lm.CLUSTER_BREAK.EXTEND}else if(e<3201){if(e<3157){if(3146<=e&&e<=3149)return lm.CLUSTER_BREAK.EXTEND}else if(e<3170){if(3157<=e&&e<=3158)return lm.CLUSTER_BREAK.EXTEND}else if(3170<=e&&e<=3171)return lm.CLUSTER_BREAK.EXTEND}else if(e<3202){if(3201===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3260){if(3202<=e&&e<=3203)return lm.CLUSTER_BREAK.SPACINGMARK}else if(3260===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3270){if(e<3264){if(3262===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(3263===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3266){if(3264<=e&&e<=3265)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3267){if(3266===e)return lm.CLUSTER_BREAK.EXTEND}else if(3267<=e&&e<=3268)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3276){if(e<3271){if(3270===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3274){if(3271<=e&&e<=3272)return lm.CLUSTER_BREAK.SPACINGMARK}else if(3274<=e&&e<=3275)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3285){if(3276<=e&&e<=3277)return lm.CLUSTER_BREAK.EXTEND}else if(e<3298){if(3285<=e&&e<=3286)return lm.CLUSTER_BREAK.EXTEND}else if(3298<=e&&e<=3299)return lm.CLUSTER_BREAK.EXTEND}else if(e<3551){if(e<3406){if(e<3391){if(e<3330){if(e<3328){if(3315===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(3328<=e&&e<=3329)return lm.CLUSTER_BREAK.EXTEND}else if(e<3387){if(3330<=e&&e<=3331)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3390){if(3387<=e&&e<=3388)return lm.CLUSTER_BREAK.EXTEND}else if(3390===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3398){if(e<3393){if(3391<=e&&e<=3392)return lm.CLUSTER_BREAK.SPACINGMARK}else if(3393<=e&&e<=3396)return lm.CLUSTER_BREAK.EXTEND}else if(e<3402){if(3398<=e&&e<=3400)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3405){if(3402<=e&&e<=3404)return lm.CLUSTER_BREAK.SPACINGMARK}else if(3405===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3530){if(e<3426){if(3406===e)return lm.CLUSTER_BREAK.PREPEND;if(3415===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3457){if(3426<=e&&e<=3427)return lm.CLUSTER_BREAK.EXTEND}else if(e<3458){if(3457===e)return lm.CLUSTER_BREAK.EXTEND}else if(3458<=e&&e<=3459)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3538){if(e<3535){if(3530===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3536){if(3535===e)return lm.CLUSTER_BREAK.EXTEND}else if(3536<=e&&e<=3537)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3542){if(3538<=e&&e<=3540)return lm.CLUSTER_BREAK.EXTEND}else if(e<3544){if(3542===e)return lm.CLUSTER_BREAK.EXTEND}else if(3544<=e&&e<=3550)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3893){if(e<3655){if(e<3633){if(e<3570){if(3551===e)return lm.CLUSTER_BREAK.EXTEND}else if(3570<=e&&e<=3571)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3635){if(3633===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3636){if(3635===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(3636<=e&&e<=3642)return lm.CLUSTER_BREAK.EXTEND}else if(e<3764)if(e<3761){if(3655<=e&&e<=3662)return lm.CLUSTER_BREAK.EXTEND}else{if(3761===e)return lm.CLUSTER_BREAK.EXTEND;if(3763===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3784){if(3764<=e&&e<=3772)return lm.CLUSTER_BREAK.EXTEND}else if(e<3864){if(3784<=e&&e<=3790)return lm.CLUSTER_BREAK.EXTEND}else if(3864<=e&&e<=3865)return lm.CLUSTER_BREAK.EXTEND}else if(e<3967){if(e<3897){if(3893===e||3895===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3902){if(3897===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<3953){if(3902<=e&&e<=3903)return lm.CLUSTER_BREAK.SPACINGMARK}else if(3953<=e&&e<=3966)return lm.CLUSTER_BREAK.EXTEND}else if(e<3981){if(e<3968){if(3967===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<3974){if(3968<=e&&e<=3972)return lm.CLUSTER_BREAK.EXTEND}else if(3974<=e&&e<=3975)return lm.CLUSTER_BREAK.EXTEND}else if(e<3993){if(3981<=e&&e<=3991)return lm.CLUSTER_BREAK.EXTEND}else if(e<4038){if(3993<=e&&e<=4028)return lm.CLUSTER_BREAK.EXTEND}else if(4038===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<7204){if(e<6448){if(e<5938){if(e<4226){if(e<4157){if(e<4146){if(e<4145){if(4141<=e&&e<=4144)return lm.CLUSTER_BREAK.EXTEND}else if(4145===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<4153){if(4146<=e&&e<=4151)return lm.CLUSTER_BREAK.EXTEND}else if(e<4155){if(4153<=e&&e<=4154)return lm.CLUSTER_BREAK.EXTEND}else if(4155<=e&&e<=4156)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<4184){if(e<4182){if(4157<=e&&e<=4158)return lm.CLUSTER_BREAK.EXTEND}else if(4182<=e&&e<=4183)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<4190){if(4184<=e&&e<=4185)return lm.CLUSTER_BREAK.EXTEND}else if(e<4209){if(4190<=e&&e<=4192)return lm.CLUSTER_BREAK.EXTEND}else if(4209<=e&&e<=4212)return lm.CLUSTER_BREAK.EXTEND}else if(e<4352){if(e<4229){if(4226===e)return lm.CLUSTER_BREAK.EXTEND;if(4228===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<4237){if(4229<=e&&e<=4230)return lm.CLUSTER_BREAK.EXTEND}else if(4237===e||4253===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<4957){if(e<4448){if(4352<=e&&e<=4447)return lm.CLUSTER_BREAK.L}else if(e<4520){if(4448<=e&&e<=4519)return lm.CLUSTER_BREAK.V}else if(4520<=e&&e<=4607)return lm.CLUSTER_BREAK.T}else if(e<5906){if(4957<=e&&e<=4959)return lm.CLUSTER_BREAK.EXTEND}else if(e<5909){if(5906<=e&&e<=5908)return lm.CLUSTER_BREAK.EXTEND}else if(5909===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<6089){if(e<6070){if(e<5970){if(e<5940){if(5938<=e&&e<=5939)return lm.CLUSTER_BREAK.EXTEND}else if(5940===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<6002){if(5970<=e&&e<=5971)return lm.CLUSTER_BREAK.EXTEND}else if(e<6068){if(6002<=e&&e<=6003)return lm.CLUSTER_BREAK.EXTEND}else if(6068<=e&&e<=6069)return lm.CLUSTER_BREAK.EXTEND}else if(e<6078){if(e<6071){if(6070===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(6071<=e&&e<=6077)return lm.CLUSTER_BREAK.EXTEND}else if(e<6086){if(6078<=e&&e<=6085)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<6087){if(6086===e)return lm.CLUSTER_BREAK.EXTEND}else if(6087<=e&&e<=6088)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<6277)if(e<6155){if(e<6109){if(6089<=e&&e<=6099)return lm.CLUSTER_BREAK.EXTEND}else if(6109===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<6158){if(6155<=e&&e<=6157)return lm.CLUSTER_BREAK.EXTEND}else{if(6158===e)return lm.CLUSTER_BREAK.CONTROL;if(6159===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<6435){if(e<6313){if(6277<=e&&e<=6278)return lm.CLUSTER_BREAK.EXTEND}else if(e<6432){if(6313===e)return lm.CLUSTER_BREAK.EXTEND}else if(6432<=e&&e<=6434)return lm.CLUSTER_BREAK.EXTEND}else if(e<6439){if(6435<=e&&e<=6438)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<6441){if(6439<=e&&e<=6440)return lm.CLUSTER_BREAK.EXTEND}else if(6441<=e&&e<=6443)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<6971){if(e<6744)if(e<6681){if(e<6451){if(e<6450){if(6448<=e&&e<=6449)return lm.CLUSTER_BREAK.SPACINGMARK}else if(6450===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<6457){if(6451<=e&&e<=6456)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<6679){if(6457<=e&&e<=6459)return lm.CLUSTER_BREAK.EXTEND}else if(6679<=e&&e<=6680)return lm.CLUSTER_BREAK.EXTEND}else if(e<6741){if(e<6683){if(6681<=e&&e<=6682)return lm.CLUSTER_BREAK.SPACINGMARK}else if(6683===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<6742){if(6741===e)return lm.CLUSTER_BREAK.SPACINGMARK}else{if(6742===e)return lm.CLUSTER_BREAK.EXTEND;if(6743===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<6771){if(e<6754){if(e<6752){if(6744<=e&&e<=6750)return lm.CLUSTER_BREAK.EXTEND}else if(6752===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<6757){if(6754===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<6765){if(6757<=e&&e<=6764)return lm.CLUSTER_BREAK.EXTEND}else if(6765<=e&&e<=6770)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<6912){if(e<6783){if(6771<=e&&e<=6780)return lm.CLUSTER_BREAK.EXTEND}else if(e<6832){if(6783===e)return lm.CLUSTER_BREAK.EXTEND}else if(6832<=e&&e<=6862)return lm.CLUSTER_BREAK.EXTEND}else if(e<6916){if(6912<=e&&e<=6915)return lm.CLUSTER_BREAK.EXTEND}else if(e<6964){if(6916===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(6964<=e&&e<=6970)return lm.CLUSTER_BREAK.EXTEND}else if(e<7080){if(e<7019){if(e<6973){if(6971===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(6972===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<6978){if(6973<=e&&e<=6977)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<6979){if(6978===e)return lm.CLUSTER_BREAK.EXTEND}else if(6979<=e&&e<=6980)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<7073){if(e<7040){if(7019<=e&&e<=7027)return lm.CLUSTER_BREAK.EXTEND}else if(e<7042){if(7040<=e&&e<=7041)return lm.CLUSTER_BREAK.EXTEND}else if(7042===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<7074){if(7073===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<7078){if(7074<=e&&e<=7077)return lm.CLUSTER_BREAK.EXTEND}else if(7078<=e&&e<=7079)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<7144)if(e<7083){if(e<7082){if(7080<=e&&e<=7081)return lm.CLUSTER_BREAK.EXTEND}else if(7082===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<7142){if(7083<=e&&e<=7085)return lm.CLUSTER_BREAK.EXTEND}else{if(7142===e)return lm.CLUSTER_BREAK.EXTEND;if(7143===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<7150){if(e<7146){if(7144<=e&&e<=7145)return lm.CLUSTER_BREAK.EXTEND}else if(e<7149){if(7146<=e&&e<=7148)return lm.CLUSTER_BREAK.SPACINGMARK}else if(7149===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<7151){if(7150===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<7154){if(7151<=e&&e<=7153)return lm.CLUSTER_BREAK.EXTEND}else if(7154<=e&&e<=7155)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<43346){if(e<11647){if(e<7415){if(e<7380){if(e<7220){if(e<7212){if(7204<=e&&e<=7211)return lm.CLUSTER_BREAK.SPACINGMARK}else if(7212<=e&&e<=7219)return lm.CLUSTER_BREAK.EXTEND}else if(e<7222){if(7220<=e&&e<=7221)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<7376){if(7222<=e&&e<=7223)return lm.CLUSTER_BREAK.EXTEND}else if(7376<=e&&e<=7378)return lm.CLUSTER_BREAK.EXTEND}else if(e<7394){if(e<7393){if(7380<=e&&e<=7392)return lm.CLUSTER_BREAK.EXTEND}else if(7393===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<7405){if(7394<=e&&e<=7400)return lm.CLUSTER_BREAK.EXTEND}else if(7405===e||7412===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<8205)if(e<7616){if(e<7416){if(7415===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(7416<=e&&e<=7417)return lm.CLUSTER_BREAK.EXTEND}else if(e<8203){if(7616<=e&&e<=7679)return lm.CLUSTER_BREAK.EXTEND}else{if(8203===e)return lm.CLUSTER_BREAK.CONTROL;if(8204===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<8288){if(e<8206){if(8205===e)return lm.CLUSTER_BREAK.ZWJ}else if(e<8232){if(8206<=e&&e<=8207)return lm.CLUSTER_BREAK.CONTROL}else if(8232<=e&&e<=8238)return lm.CLUSTER_BREAK.CONTROL}else if(e<8400){if(8288<=e&&e<=8303)return lm.CLUSTER_BREAK.CONTROL}else if(e<11503){if(8400<=e&&e<=8432)return lm.CLUSTER_BREAK.EXTEND}else if(11503<=e&&e<=11505)return lm.CLUSTER_BREAK.EXTEND}else if(e<43043){if(e<42612){if(e<12330){if(e<11744){if(11647===e)return lm.CLUSTER_BREAK.EXTEND}else if(11744<=e&&e<=11775)return lm.CLUSTER_BREAK.EXTEND}else if(e<12441){if(12330<=e&&e<=12335)return lm.CLUSTER_BREAK.EXTEND}else if(e<42607){if(12441<=e&&e<=12442)return lm.CLUSTER_BREAK.EXTEND}else if(42607<=e&&e<=42610)return lm.CLUSTER_BREAK.EXTEND}else if(e<43010){if(e<42654){if(42612<=e&&e<=42621)return lm.CLUSTER_BREAK.EXTEND}else if(e<42736){if(42654<=e&&e<=42655)return lm.CLUSTER_BREAK.EXTEND}else if(42736<=e&&e<=42737)return lm.CLUSTER_BREAK.EXTEND}else if(e<43014){if(43010===e)return lm.CLUSTER_BREAK.EXTEND}else if(43014===e||43019===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<43188){if(e<43047){if(e<43045){if(43043<=e&&e<=43044)return lm.CLUSTER_BREAK.SPACINGMARK}else if(43045<=e&&e<=43046)return lm.CLUSTER_BREAK.EXTEND}else if(e<43052){if(43047===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<43136){if(43052===e)return lm.CLUSTER_BREAK.EXTEND}else if(43136<=e&&e<=43137)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<43263){if(e<43204){if(43188<=e&&e<=43203)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<43232){if(43204<=e&&e<=43205)return lm.CLUSTER_BREAK.EXTEND}else if(43232<=e&&e<=43249)return lm.CLUSTER_BREAK.EXTEND}else if(e<43302){if(43263===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<43335){if(43302<=e&&e<=43309)return lm.CLUSTER_BREAK.EXTEND}else if(43335<=e&&e<=43345)return lm.CLUSTER_BREAK.EXTEND}else if(e<43698){if(e<43493){if(e<43444)if(e<43392){if(e<43360){if(43346<=e&&e<=43347)return lm.CLUSTER_BREAK.SPACINGMARK}else if(43360<=e&&e<=43388)return lm.CLUSTER_BREAK.L}else if(e<43395){if(43392<=e&&e<=43394)return lm.CLUSTER_BREAK.EXTEND}else{if(43395===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(43443===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<43450){if(e<43446){if(43444<=e&&e<=43445)return lm.CLUSTER_BREAK.SPACINGMARK}else if(43446<=e&&e<=43449)return lm.CLUSTER_BREAK.EXTEND}else if(e<43452){if(43450<=e&&e<=43451)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<43454){if(43452<=e&&e<=43453)return lm.CLUSTER_BREAK.EXTEND}else if(43454<=e&&e<=43456)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<43573){if(e<43567){if(e<43561){if(43493===e)return lm.CLUSTER_BREAK.EXTEND}else if(43561<=e&&e<=43566)return lm.CLUSTER_BREAK.EXTEND}else if(e<43569){if(43567<=e&&e<=43568)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<43571){if(43569<=e&&e<=43570)return lm.CLUSTER_BREAK.EXTEND}else if(43571<=e&&e<=43572)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<43597){if(e<43587){if(43573<=e&&e<=43574)return lm.CLUSTER_BREAK.EXTEND}else if(43587===e||43596===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<43644){if(43597===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(43644===e||43696===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<44006){if(e<43756)if(e<43710){if(e<43703){if(43698<=e&&e<=43700)return lm.CLUSTER_BREAK.EXTEND}else if(43703<=e&&e<=43704)return lm.CLUSTER_BREAK.EXTEND}else if(e<43713){if(43710<=e&&e<=43711)return lm.CLUSTER_BREAK.EXTEND}else{if(43713===e)return lm.CLUSTER_BREAK.EXTEND;if(43755===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<43766){if(e<43758){if(43756<=e&&e<=43757)return lm.CLUSTER_BREAK.EXTEND}else if(e<43765){if(43758<=e&&e<=43759)return lm.CLUSTER_BREAK.SPACINGMARK}else if(43765===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<44003){if(43766===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<44005){if(44003<=e&&e<=44004)return lm.CLUSTER_BREAK.SPACINGMARK}else if(44005===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<44032)if(e<44009){if(e<44008){if(44006<=e&&e<=44007)return lm.CLUSTER_BREAK.SPACINGMARK}else if(44008===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<44012){if(44009<=e&&e<=44010)return lm.CLUSTER_BREAK.SPACINGMARK}else{if(44012===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(44013===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<44061){if(e<44033){if(44032===e)return lm.CLUSTER_BREAK.LV}else if(e<44060){if(44033<=e&&e<=44059)return lm.CLUSTER_BREAK.LVT}else if(44060===e)return lm.CLUSTER_BREAK.LV}else if(e<44088){if(44061<=e&&e<=44087)return lm.CLUSTER_BREAK.LVT}else if(e<44089){if(44088===e)return lm.CLUSTER_BREAK.LV}else if(44089<=e&&e<=44115)return lm.CLUSTER_BREAK.LVT}else if(e<46497){if(e<45293){if(e<44704){if(e<44397){if(e<44256){if(e<44173){if(e<44144){if(e<44117){if(44116===e)return lm.CLUSTER_BREAK.LV}else if(44117<=e&&e<=44143)return lm.CLUSTER_BREAK.LVT}else if(e<44145){if(44144===e)return lm.CLUSTER_BREAK.LV}else if(e<44172){if(44145<=e&&e<=44171)return lm.CLUSTER_BREAK.LVT}else if(44172===e)return lm.CLUSTER_BREAK.LV}else if(e<44201){if(e<44200){if(44173<=e&&e<=44199)return lm.CLUSTER_BREAK.LVT}else if(44200===e)return lm.CLUSTER_BREAK.LV}else if(e<44228){if(44201<=e&&e<=44227)return lm.CLUSTER_BREAK.LVT}else if(e<44229){if(44228===e)return lm.CLUSTER_BREAK.LV}else if(44229<=e&&e<=44255)return lm.CLUSTER_BREAK.LVT}else if(e<44313){if(e<44284){if(e<44257){if(44256===e)return lm.CLUSTER_BREAK.LV}else if(44257<=e&&e<=44283)return lm.CLUSTER_BREAK.LVT}else if(e<44285){if(44284===e)return lm.CLUSTER_BREAK.LV}else if(e<44312){if(44285<=e&&e<=44311)return lm.CLUSTER_BREAK.LVT}else if(44312===e)return lm.CLUSTER_BREAK.LV}else if(e<44368){if(e<44340){if(44313<=e&&e<=44339)return lm.CLUSTER_BREAK.LVT}else if(e<44341){if(44340===e)return lm.CLUSTER_BREAK.LV}else if(44341<=e&&e<=44367)return lm.CLUSTER_BREAK.LVT}else if(e<44369){if(44368===e)return lm.CLUSTER_BREAK.LV}else if(e<44396){if(44369<=e&&e<=44395)return lm.CLUSTER_BREAK.LVT}else if(44396===e)return lm.CLUSTER_BREAK.LV}else if(e<44537){if(e<44480){if(e<44425){if(e<44424){if(44397<=e&&e<=44423)return lm.CLUSTER_BREAK.LVT}else if(44424===e)return lm.CLUSTER_BREAK.LV}else if(e<44452){if(44425<=e&&e<=44451)return lm.CLUSTER_BREAK.LVT}else if(e<44453){if(44452===e)return lm.CLUSTER_BREAK.LV}else if(44453<=e&&e<=44479)return lm.CLUSTER_BREAK.LVT}else if(e<44508){if(e<44481){if(44480===e)return lm.CLUSTER_BREAK.LV}else if(44481<=e&&e<=44507)return lm.CLUSTER_BREAK.LVT}else if(e<44509){if(44508===e)return lm.CLUSTER_BREAK.LV}else if(e<44536){if(44509<=e&&e<=44535)return lm.CLUSTER_BREAK.LVT}else if(44536===e)return lm.CLUSTER_BREAK.LV}else if(e<44620){if(e<44565){if(e<44564){if(44537<=e&&e<=44563)return lm.CLUSTER_BREAK.LVT}else if(44564===e)return lm.CLUSTER_BREAK.LV}else if(e<44592){if(44565<=e&&e<=44591)return lm.CLUSTER_BREAK.LVT}else if(e<44593){if(44592===e)return lm.CLUSTER_BREAK.LV}else if(44593<=e&&e<=44619)return lm.CLUSTER_BREAK.LVT}else if(e<44649){if(e<44621){if(44620===e)return lm.CLUSTER_BREAK.LV}else if(e<44648){if(44621<=e&&e<=44647)return lm.CLUSTER_BREAK.LVT}else if(44648===e)return lm.CLUSTER_BREAK.LV}else if(e<44676){if(44649<=e&&e<=44675)return lm.CLUSTER_BREAK.LVT}else if(e<44677){if(44676===e)return lm.CLUSTER_BREAK.LV}else if(44677<=e&&e<=44703)return lm.CLUSTER_BREAK.LVT}else if(e<44985){if(e<44844){if(e<44761){if(e<44732){if(e<44705){if(44704===e)return lm.CLUSTER_BREAK.LV}else if(44705<=e&&e<=44731)return lm.CLUSTER_BREAK.LVT}else if(e<44733){if(44732===e)return lm.CLUSTER_BREAK.LV}else if(e<44760){if(44733<=e&&e<=44759)return lm.CLUSTER_BREAK.LVT}else if(44760===e)return lm.CLUSTER_BREAK.LV}else if(e<44789){if(e<44788){if(44761<=e&&e<=44787)return lm.CLUSTER_BREAK.LVT}else if(44788===e)return lm.CLUSTER_BREAK.LV}else if(e<44816){if(44789<=e&&e<=44815)return lm.CLUSTER_BREAK.LVT}else if(e<44817){if(44816===e)return lm.CLUSTER_BREAK.LV}else if(44817<=e&&e<=44843)return lm.CLUSTER_BREAK.LVT}else if(e<44901){if(e<44872){if(e<44845){if(44844===e)return lm.CLUSTER_BREAK.LV}else if(44845<=e&&e<=44871)return lm.CLUSTER_BREAK.LVT}else if(e<44873){if(44872===e)return lm.CLUSTER_BREAK.LV}else if(e<44900){if(44873<=e&&e<=44899)return lm.CLUSTER_BREAK.LVT}else if(44900===e)return lm.CLUSTER_BREAK.LV}else if(e<44956){if(e<44928){if(44901<=e&&e<=44927)return lm.CLUSTER_BREAK.LVT}else if(e<44929){if(44928===e)return lm.CLUSTER_BREAK.LV}else if(44929<=e&&e<=44955)return lm.CLUSTER_BREAK.LVT}else if(e<44957){if(44956===e)return lm.CLUSTER_BREAK.LV}else if(e<44984){if(44957<=e&&e<=44983)return lm.CLUSTER_BREAK.LVT}else if(44984===e)return lm.CLUSTER_BREAK.LV}else if(e<45152){if(e<45068){if(e<45013){if(e<45012){if(44985<=e&&e<=45011)return lm.CLUSTER_BREAK.LVT}else if(45012===e)return lm.CLUSTER_BREAK.LV}else if(e<45040){if(45013<=e&&e<=45039)return lm.CLUSTER_BREAK.LVT}else if(e<45041){if(45040===e)return lm.CLUSTER_BREAK.LV}else if(45041<=e&&e<=45067)return lm.CLUSTER_BREAK.LVT}else if(e<45097){if(e<45069){if(45068===e)return lm.CLUSTER_BREAK.LV}else if(e<45096){if(45069<=e&&e<=45095)return lm.CLUSTER_BREAK.LVT}else if(45096===e)return lm.CLUSTER_BREAK.LV}else if(e<45124){if(45097<=e&&e<=45123)return lm.CLUSTER_BREAK.LVT}else if(e<45125){if(45124===e)return lm.CLUSTER_BREAK.LV}else if(45125<=e&&e<=45151)return lm.CLUSTER_BREAK.LVT}else if(e<45209){if(e<45180){if(e<45153){if(45152===e)return lm.CLUSTER_BREAK.LV}else if(45153<=e&&e<=45179)return lm.CLUSTER_BREAK.LVT}else if(e<45181){if(45180===e)return lm.CLUSTER_BREAK.LV}else if(e<45208){if(45181<=e&&e<=45207)return lm.CLUSTER_BREAK.LVT}else if(45208===e)return lm.CLUSTER_BREAK.LV}else if(e<45264){if(e<45236){if(45209<=e&&e<=45235)return lm.CLUSTER_BREAK.LVT}else if(e<45237){if(45236===e)return lm.CLUSTER_BREAK.LV}else if(45237<=e&&e<=45263)return lm.CLUSTER_BREAK.LVT}else if(e<45265){if(45264===e)return lm.CLUSTER_BREAK.LV}else if(e<45292){if(45265<=e&&e<=45291)return lm.CLUSTER_BREAK.LVT}else if(45292===e)return lm.CLUSTER_BREAK.LV}else if(e<45908){if(e<45600){if(e<45433){if(e<45376){if(e<45321){if(e<45320){if(45293<=e&&e<=45319)return lm.CLUSTER_BREAK.LVT}else if(45320===e)return lm.CLUSTER_BREAK.LV}else if(e<45348){if(45321<=e&&e<=45347)return lm.CLUSTER_BREAK.LVT}else if(e<45349){if(45348===e)return lm.CLUSTER_BREAK.LV}else if(45349<=e&&e<=45375)return lm.CLUSTER_BREAK.LVT}else if(e<45404){if(e<45377){if(45376===e)return lm.CLUSTER_BREAK.LV}else if(45377<=e&&e<=45403)return lm.CLUSTER_BREAK.LVT}else if(e<45405){if(45404===e)return lm.CLUSTER_BREAK.LV}else if(e<45432){if(45405<=e&&e<=45431)return lm.CLUSTER_BREAK.LVT}else if(45432===e)return lm.CLUSTER_BREAK.LV}else if(e<45516){if(e<45461){if(e<45460){if(45433<=e&&e<=45459)return lm.CLUSTER_BREAK.LVT}else if(45460===e)return lm.CLUSTER_BREAK.LV}else if(e<45488){if(45461<=e&&e<=45487)return lm.CLUSTER_BREAK.LVT}else if(e<45489){if(45488===e)return lm.CLUSTER_BREAK.LV}else if(45489<=e&&e<=45515)return lm.CLUSTER_BREAK.LVT}else if(e<45545){if(e<45517){if(45516===e)return lm.CLUSTER_BREAK.LV}else if(e<45544){if(45517<=e&&e<=45543)return lm.CLUSTER_BREAK.LVT}else if(45544===e)return lm.CLUSTER_BREAK.LV}else if(e<45572){if(45545<=e&&e<=45571)return lm.CLUSTER_BREAK.LVT}else if(e<45573){if(45572===e)return lm.CLUSTER_BREAK.LV}else if(45573<=e&&e<=45599)return lm.CLUSTER_BREAK.LVT}else if(e<45741){if(e<45657){if(e<45628){if(e<45601){if(45600===e)return lm.CLUSTER_BREAK.LV}else if(45601<=e&&e<=45627)return lm.CLUSTER_BREAK.LVT}else if(e<45629){if(45628===e)return lm.CLUSTER_BREAK.LV}else if(e<45656){if(45629<=e&&e<=45655)return lm.CLUSTER_BREAK.LVT}else if(45656===e)return lm.CLUSTER_BREAK.LV}else if(e<45712){if(e<45684){if(45657<=e&&e<=45683)return lm.CLUSTER_BREAK.LVT}else if(e<45685){if(45684===e)return lm.CLUSTER_BREAK.LV}else if(45685<=e&&e<=45711)return lm.CLUSTER_BREAK.LVT}else if(e<45713){if(45712===e)return lm.CLUSTER_BREAK.LV}else if(e<45740){if(45713<=e&&e<=45739)return lm.CLUSTER_BREAK.LVT}else if(45740===e)return lm.CLUSTER_BREAK.LV}else if(e<45824){if(e<45769){if(e<45768){if(45741<=e&&e<=45767)return lm.CLUSTER_BREAK.LVT}else if(45768===e)return lm.CLUSTER_BREAK.LV}else if(e<45796){if(45769<=e&&e<=45795)return lm.CLUSTER_BREAK.LVT}else if(e<45797){if(45796===e)return lm.CLUSTER_BREAK.LV}else if(45797<=e&&e<=45823)return lm.CLUSTER_BREAK.LVT}else if(e<45853){if(e<45825){if(45824===e)return lm.CLUSTER_BREAK.LV}else if(e<45852){if(45825<=e&&e<=45851)return lm.CLUSTER_BREAK.LVT}else if(45852===e)return lm.CLUSTER_BREAK.LV}else if(e<45880){if(45853<=e&&e<=45879)return lm.CLUSTER_BREAK.LVT}else if(e<45881){if(45880===e)return lm.CLUSTER_BREAK.LV}else if(45881<=e&&e<=45907)return lm.CLUSTER_BREAK.LVT}else if(e<46189){if(e<46048){if(e<45965){if(e<45936){if(e<45909){if(45908===e)return lm.CLUSTER_BREAK.LV}else if(45909<=e&&e<=45935)return lm.CLUSTER_BREAK.LVT}else if(e<45937){if(45936===e)return lm.CLUSTER_BREAK.LV}else if(e<45964){if(45937<=e&&e<=45963)return lm.CLUSTER_BREAK.LVT}else if(45964===e)return lm.CLUSTER_BREAK.LV}else if(e<45993){if(e<45992){if(45965<=e&&e<=45991)return lm.CLUSTER_BREAK.LVT}else if(45992===e)return lm.CLUSTER_BREAK.LV}else if(e<46020){if(45993<=e&&e<=46019)return lm.CLUSTER_BREAK.LVT}else if(e<46021){if(46020===e)return lm.CLUSTER_BREAK.LV}else if(46021<=e&&e<=46047)return lm.CLUSTER_BREAK.LVT}else if(e<46105){if(e<46076){if(e<46049){if(46048===e)return lm.CLUSTER_BREAK.LV}else if(46049<=e&&e<=46075)return lm.CLUSTER_BREAK.LVT}else if(e<46077){if(46076===e)return lm.CLUSTER_BREAK.LV}else if(e<46104){if(46077<=e&&e<=46103)return lm.CLUSTER_BREAK.LVT}else if(46104===e)return lm.CLUSTER_BREAK.LV}else if(e<46160){if(e<46132){if(46105<=e&&e<=46131)return lm.CLUSTER_BREAK.LVT}else if(e<46133){if(46132===e)return lm.CLUSTER_BREAK.LV}else if(46133<=e&&e<=46159)return lm.CLUSTER_BREAK.LVT}else if(e<46161){if(46160===e)return lm.CLUSTER_BREAK.LV}else if(e<46188){if(46161<=e&&e<=46187)return lm.CLUSTER_BREAK.LVT}else if(46188===e)return lm.CLUSTER_BREAK.LV}else if(e<46356){if(e<46272){if(e<46217){if(e<46216){if(46189<=e&&e<=46215)return lm.CLUSTER_BREAK.LVT}else if(46216===e)return lm.CLUSTER_BREAK.LV}else if(e<46244){if(46217<=e&&e<=46243)return lm.CLUSTER_BREAK.LVT}else if(e<46245){if(46244===e)return lm.CLUSTER_BREAK.LV}else if(46245<=e&&e<=46271)return lm.CLUSTER_BREAK.LVT}else if(e<46301){if(e<46273){if(46272===e)return lm.CLUSTER_BREAK.LV}else if(e<46300){if(46273<=e&&e<=46299)return lm.CLUSTER_BREAK.LVT}else if(46300===e)return lm.CLUSTER_BREAK.LV}else if(e<46328){if(46301<=e&&e<=46327)return lm.CLUSTER_BREAK.LVT}else if(e<46329){if(46328===e)return lm.CLUSTER_BREAK.LV}else if(46329<=e&&e<=46355)return lm.CLUSTER_BREAK.LVT}else if(e<46413){if(e<46384){if(e<46357){if(46356===e)return lm.CLUSTER_BREAK.LV}else if(46357<=e&&e<=46383)return lm.CLUSTER_BREAK.LVT}else if(e<46385){if(46384===e)return lm.CLUSTER_BREAK.LV}else if(e<46412){if(46385<=e&&e<=46411)return lm.CLUSTER_BREAK.LVT}else if(46412===e)return lm.CLUSTER_BREAK.LV}else if(e<46468){if(e<46440){if(46413<=e&&e<=46439)return lm.CLUSTER_BREAK.LVT}else if(e<46441){if(46440===e)return lm.CLUSTER_BREAK.LV}else if(46441<=e&&e<=46467)return lm.CLUSTER_BREAK.LVT}else if(e<46469){if(46468===e)return lm.CLUSTER_BREAK.LV}else if(e<46496){if(46469<=e&&e<=46495)return lm.CLUSTER_BREAK.LVT}else if(46496===e)return lm.CLUSTER_BREAK.LV}else if(e<47701){if(e<47112){if(e<46804){if(e<46637){if(e<46580){if(e<46525){if(e<46524){if(46497<=e&&e<=46523)return lm.CLUSTER_BREAK.LVT}else if(46524===e)return lm.CLUSTER_BREAK.LV}else if(e<46552){if(46525<=e&&e<=46551)return lm.CLUSTER_BREAK.LVT}else if(e<46553){if(46552===e)return lm.CLUSTER_BREAK.LV}else if(46553<=e&&e<=46579)return lm.CLUSTER_BREAK.LVT}else if(e<46608){if(e<46581){if(46580===e)return lm.CLUSTER_BREAK.LV}else if(46581<=e&&e<=46607)return lm.CLUSTER_BREAK.LVT}else if(e<46609){if(46608===e)return lm.CLUSTER_BREAK.LV}else if(e<46636){if(46609<=e&&e<=46635)return lm.CLUSTER_BREAK.LVT}else if(46636===e)return lm.CLUSTER_BREAK.LV}else if(e<46720){if(e<46665){if(e<46664){if(46637<=e&&e<=46663)return lm.CLUSTER_BREAK.LVT}else if(46664===e)return lm.CLUSTER_BREAK.LV}else if(e<46692){if(46665<=e&&e<=46691)return lm.CLUSTER_BREAK.LVT}else if(e<46693){if(46692===e)return lm.CLUSTER_BREAK.LV}else if(46693<=e&&e<=46719)return lm.CLUSTER_BREAK.LVT}else if(e<46749){if(e<46721){if(46720===e)return lm.CLUSTER_BREAK.LV}else if(e<46748){if(46721<=e&&e<=46747)return lm.CLUSTER_BREAK.LVT}else if(46748===e)return lm.CLUSTER_BREAK.LV}else if(e<46776){if(46749<=e&&e<=46775)return lm.CLUSTER_BREAK.LVT}else if(e<46777){if(46776===e)return lm.CLUSTER_BREAK.LV}else if(46777<=e&&e<=46803)return lm.CLUSTER_BREAK.LVT}else if(e<46945){if(e<46861){if(e<46832){if(e<46805){if(46804===e)return lm.CLUSTER_BREAK.LV}else if(46805<=e&&e<=46831)return lm.CLUSTER_BREAK.LVT}else if(e<46833){if(46832===e)return lm.CLUSTER_BREAK.LV}else if(e<46860){if(46833<=e&&e<=46859)return lm.CLUSTER_BREAK.LVT}else if(46860===e)return lm.CLUSTER_BREAK.LV}else if(e<46916){if(e<46888){if(46861<=e&&e<=46887)return lm.CLUSTER_BREAK.LVT}else if(e<46889){if(46888===e)return lm.CLUSTER_BREAK.LV}else if(46889<=e&&e<=46915)return lm.CLUSTER_BREAK.LVT}else if(e<46917){if(46916===e)return lm.CLUSTER_BREAK.LV}else if(e<46944){if(46917<=e&&e<=46943)return lm.CLUSTER_BREAK.LVT}else if(46944===e)return lm.CLUSTER_BREAK.LV}else if(e<47028){if(e<46973){if(e<46972){if(46945<=e&&e<=46971)return lm.CLUSTER_BREAK.LVT}else if(46972===e)return lm.CLUSTER_BREAK.LV}else if(e<47e3){if(46973<=e&&e<=46999)return lm.CLUSTER_BREAK.LVT}else if(e<47001){if(47e3===e)return lm.CLUSTER_BREAK.LV}else if(47001<=e&&e<=47027)return lm.CLUSTER_BREAK.LVT}else if(e<47057){if(e<47029){if(47028===e)return lm.CLUSTER_BREAK.LV}else if(e<47056){if(47029<=e&&e<=47055)return lm.CLUSTER_BREAK.LVT}else if(47056===e)return lm.CLUSTER_BREAK.LV}else if(e<47084){if(47057<=e&&e<=47083)return lm.CLUSTER_BREAK.LVT}else if(e<47085){if(47084===e)return lm.CLUSTER_BREAK.LV}else if(47085<=e&&e<=47111)return lm.CLUSTER_BREAK.LVT}else if(e<47393){if(e<47252){if(e<47169){if(e<47140){if(e<47113){if(47112===e)return lm.CLUSTER_BREAK.LV}else if(47113<=e&&e<=47139)return lm.CLUSTER_BREAK.LVT}else if(e<47141){if(47140===e)return lm.CLUSTER_BREAK.LV}else if(e<47168){if(47141<=e&&e<=47167)return lm.CLUSTER_BREAK.LVT}else if(47168===e)return lm.CLUSTER_BREAK.LV}else if(e<47197){if(e<47196){if(47169<=e&&e<=47195)return lm.CLUSTER_BREAK.LVT}else if(47196===e)return lm.CLUSTER_BREAK.LV}else if(e<47224){if(47197<=e&&e<=47223)return lm.CLUSTER_BREAK.LVT}else if(e<47225){if(47224===e)return lm.CLUSTER_BREAK.LV}else if(47225<=e&&e<=47251)return lm.CLUSTER_BREAK.LVT}else if(e<47309){if(e<47280){if(e<47253){if(47252===e)return lm.CLUSTER_BREAK.LV}else if(47253<=e&&e<=47279)return lm.CLUSTER_BREAK.LVT}else if(e<47281){if(47280===e)return lm.CLUSTER_BREAK.LV}else if(e<47308){if(47281<=e&&e<=47307)return lm.CLUSTER_BREAK.LVT}else if(47308===e)return lm.CLUSTER_BREAK.LV}else if(e<47364){if(e<47336){if(47309<=e&&e<=47335)return lm.CLUSTER_BREAK.LVT}else if(e<47337){if(47336===e)return lm.CLUSTER_BREAK.LV}else if(47337<=e&&e<=47363)return lm.CLUSTER_BREAK.LVT}else if(e<47365){if(47364===e)return lm.CLUSTER_BREAK.LV}else if(e<47392){if(47365<=e&&e<=47391)return lm.CLUSTER_BREAK.LVT}else if(47392===e)return lm.CLUSTER_BREAK.LV}else if(e<47560){if(e<47476){if(e<47421){if(e<47420){if(47393<=e&&e<=47419)return lm.CLUSTER_BREAK.LVT}else if(47420===e)return lm.CLUSTER_BREAK.LV}else if(e<47448){if(47421<=e&&e<=47447)return lm.CLUSTER_BREAK.LVT}else if(e<47449){if(47448===e)return lm.CLUSTER_BREAK.LV}else if(47449<=e&&e<=47475)return lm.CLUSTER_BREAK.LVT}else if(e<47505){if(e<47477){if(47476===e)return lm.CLUSTER_BREAK.LV}else if(e<47504){if(47477<=e&&e<=47503)return lm.CLUSTER_BREAK.LVT}else if(47504===e)return lm.CLUSTER_BREAK.LV}else if(e<47532){if(47505<=e&&e<=47531)return lm.CLUSTER_BREAK.LVT}else if(e<47533){if(47532===e)return lm.CLUSTER_BREAK.LV}else if(47533<=e&&e<=47559)return lm.CLUSTER_BREAK.LVT}else if(e<47617){if(e<47588){if(e<47561){if(47560===e)return lm.CLUSTER_BREAK.LV}else if(47561<=e&&e<=47587)return lm.CLUSTER_BREAK.LVT}else if(e<47589){if(47588===e)return lm.CLUSTER_BREAK.LV}else if(e<47616){if(47589<=e&&e<=47615)return lm.CLUSTER_BREAK.LVT}else if(47616===e)return lm.CLUSTER_BREAK.LV}else if(e<47672){if(e<47644){if(47617<=e&&e<=47643)return lm.CLUSTER_BREAK.LVT}else if(e<47645){if(47644===e)return lm.CLUSTER_BREAK.LV}else if(47645<=e&&e<=47671)return lm.CLUSTER_BREAK.LVT}else if(e<47673){if(47672===e)return lm.CLUSTER_BREAK.LV}else if(e<47700){if(47673<=e&&e<=47699)return lm.CLUSTER_BREAK.LVT}else if(47700===e)return lm.CLUSTER_BREAK.LV}else if(e<48316){if(e<48008){if(e<47841){if(e<47784){if(e<47729){if(e<47728){if(47701<=e&&e<=47727)return lm.CLUSTER_BREAK.LVT}else if(47728===e)return lm.CLUSTER_BREAK.LV}else if(e<47756){if(47729<=e&&e<=47755)return lm.CLUSTER_BREAK.LVT}else if(e<47757){if(47756===e)return lm.CLUSTER_BREAK.LV}else if(47757<=e&&e<=47783)return lm.CLUSTER_BREAK.LVT}else if(e<47812){if(e<47785){if(47784===e)return lm.CLUSTER_BREAK.LV}else if(47785<=e&&e<=47811)return lm.CLUSTER_BREAK.LVT}else if(e<47813){if(47812===e)return lm.CLUSTER_BREAK.LV}else if(e<47840){if(47813<=e&&e<=47839)return lm.CLUSTER_BREAK.LVT}else if(47840===e)return lm.CLUSTER_BREAK.LV}else if(e<47924){if(e<47869){if(e<47868){if(47841<=e&&e<=47867)return lm.CLUSTER_BREAK.LVT}else if(47868===e)return lm.CLUSTER_BREAK.LV}else if(e<47896){if(47869<=e&&e<=47895)return lm.CLUSTER_BREAK.LVT}else if(e<47897){if(47896===e)return lm.CLUSTER_BREAK.LV}else if(47897<=e&&e<=47923)return lm.CLUSTER_BREAK.LVT}else if(e<47953){if(e<47925){if(47924===e)return lm.CLUSTER_BREAK.LV}else if(e<47952){if(47925<=e&&e<=47951)return lm.CLUSTER_BREAK.LVT}else if(47952===e)return lm.CLUSTER_BREAK.LV}else if(e<47980){if(47953<=e&&e<=47979)return lm.CLUSTER_BREAK.LVT}else if(e<47981){if(47980===e)return lm.CLUSTER_BREAK.LV}else if(47981<=e&&e<=48007)return lm.CLUSTER_BREAK.LVT}else if(e<48149){if(e<48065){if(e<48036){if(e<48009){if(48008===e)return lm.CLUSTER_BREAK.LV}else if(48009<=e&&e<=48035)return lm.CLUSTER_BREAK.LVT}else if(e<48037){if(48036===e)return lm.CLUSTER_BREAK.LV}else if(e<48064){if(48037<=e&&e<=48063)return lm.CLUSTER_BREAK.LVT}else if(48064===e)return lm.CLUSTER_BREAK.LV}else if(e<48120){if(e<48092){if(48065<=e&&e<=48091)return lm.CLUSTER_BREAK.LVT}else if(e<48093){if(48092===e)return lm.CLUSTER_BREAK.LV}else if(48093<=e&&e<=48119)return lm.CLUSTER_BREAK.LVT}else if(e<48121){if(48120===e)return lm.CLUSTER_BREAK.LV}else if(e<48148){if(48121<=e&&e<=48147)return lm.CLUSTER_BREAK.LVT}else if(48148===e)return lm.CLUSTER_BREAK.LV}else if(e<48232){if(e<48177){if(e<48176){if(48149<=e&&e<=48175)return lm.CLUSTER_BREAK.LVT}else if(48176===e)return lm.CLUSTER_BREAK.LV}else if(e<48204){if(48177<=e&&e<=48203)return lm.CLUSTER_BREAK.LVT}else if(e<48205){if(48204===e)return lm.CLUSTER_BREAK.LV}else if(48205<=e&&e<=48231)return lm.CLUSTER_BREAK.LVT}else if(e<48261){if(e<48233){if(48232===e)return lm.CLUSTER_BREAK.LV}else if(e<48260){if(48233<=e&&e<=48259)return lm.CLUSTER_BREAK.LVT}else if(48260===e)return lm.CLUSTER_BREAK.LV}else if(e<48288){if(48261<=e&&e<=48287)return lm.CLUSTER_BREAK.LVT}else if(e<48289){if(48288===e)return lm.CLUSTER_BREAK.LV}else if(48289<=e&&e<=48315)return lm.CLUSTER_BREAK.LVT}else if(e<48597){if(e<48456){if(e<48373){if(e<48344){if(e<48317){if(48316===e)return lm.CLUSTER_BREAK.LV}else if(48317<=e&&e<=48343)return lm.CLUSTER_BREAK.LVT}else if(e<48345){if(48344===e)return lm.CLUSTER_BREAK.LV}else if(e<48372){if(48345<=e&&e<=48371)return lm.CLUSTER_BREAK.LVT}else if(48372===e)return lm.CLUSTER_BREAK.LV}else if(e<48401){if(e<48400){if(48373<=e&&e<=48399)return lm.CLUSTER_BREAK.LVT}else if(48400===e)return lm.CLUSTER_BREAK.LV}else if(e<48428){if(48401<=e&&e<=48427)return lm.CLUSTER_BREAK.LVT}else if(e<48429){if(48428===e)return lm.CLUSTER_BREAK.LV}else if(48429<=e&&e<=48455)return lm.CLUSTER_BREAK.LVT}else if(e<48513){if(e<48484){if(e<48457){if(48456===e)return lm.CLUSTER_BREAK.LV}else if(48457<=e&&e<=48483)return lm.CLUSTER_BREAK.LVT}else if(e<48485){if(48484===e)return lm.CLUSTER_BREAK.LV}else if(e<48512){if(48485<=e&&e<=48511)return lm.CLUSTER_BREAK.LVT}else if(48512===e)return lm.CLUSTER_BREAK.LV}else if(e<48568){if(e<48540){if(48513<=e&&e<=48539)return lm.CLUSTER_BREAK.LVT}else if(e<48541){if(48540===e)return lm.CLUSTER_BREAK.LV}else if(48541<=e&&e<=48567)return lm.CLUSTER_BREAK.LVT}else if(e<48569){if(48568===e)return lm.CLUSTER_BREAK.LV}else if(e<48596){if(48569<=e&&e<=48595)return lm.CLUSTER_BREAK.LVT}else if(48596===e)return lm.CLUSTER_BREAK.LV}else if(e<48764){if(e<48680){if(e<48625){if(e<48624){if(48597<=e&&e<=48623)return lm.CLUSTER_BREAK.LVT}else if(48624===e)return lm.CLUSTER_BREAK.LV}else if(e<48652){if(48625<=e&&e<=48651)return lm.CLUSTER_BREAK.LVT}else if(e<48653){if(48652===e)return lm.CLUSTER_BREAK.LV}else if(48653<=e&&e<=48679)return lm.CLUSTER_BREAK.LVT}else if(e<48709){if(e<48681){if(48680===e)return lm.CLUSTER_BREAK.LV}else if(e<48708){if(48681<=e&&e<=48707)return lm.CLUSTER_BREAK.LVT}else if(48708===e)return lm.CLUSTER_BREAK.LV}else if(e<48736){if(48709<=e&&e<=48735)return lm.CLUSTER_BREAK.LVT}else if(e<48737){if(48736===e)return lm.CLUSTER_BREAK.LV}else if(48737<=e&&e<=48763)return lm.CLUSTER_BREAK.LVT}else if(e<48821){if(e<48792){if(e<48765){if(48764===e)return lm.CLUSTER_BREAK.LV}else if(48765<=e&&e<=48791)return lm.CLUSTER_BREAK.LVT}else if(e<48793){if(48792===e)return lm.CLUSTER_BREAK.LV}else if(e<48820){if(48793<=e&&e<=48819)return lm.CLUSTER_BREAK.LVT}else if(48820===e)return lm.CLUSTER_BREAK.LV}else if(e<48876){if(e<48848){if(48821<=e&&e<=48847)return lm.CLUSTER_BREAK.LVT}else if(e<48849){if(48848===e)return lm.CLUSTER_BREAK.LV}else if(48849<=e&&e<=48875)return lm.CLUSTER_BREAK.LVT}else if(e<48877){if(48876===e)return lm.CLUSTER_BREAK.LV}else if(e<48904){if(48877<=e&&e<=48903)return lm.CLUSTER_BREAK.LVT}else if(48904===e)return lm.CLUSTER_BREAK.LV}else if(e<53720){if(e<51312){if(e<50108){if(e<49493){if(e<49212){if(e<49045){if(e<48988){if(e<48933){if(e<48932){if(48905<=e&&e<=48931)return lm.CLUSTER_BREAK.LVT}else if(48932===e)return lm.CLUSTER_BREAK.LV}else if(e<48960){if(48933<=e&&e<=48959)return lm.CLUSTER_BREAK.LVT}else if(e<48961){if(48960===e)return lm.CLUSTER_BREAK.LV}else if(48961<=e&&e<=48987)return lm.CLUSTER_BREAK.LVT}else if(e<49016){if(e<48989){if(48988===e)return lm.CLUSTER_BREAK.LV}else if(48989<=e&&e<=49015)return lm.CLUSTER_BREAK.LVT}else if(e<49017){if(49016===e)return lm.CLUSTER_BREAK.LV}else if(e<49044){if(49017<=e&&e<=49043)return lm.CLUSTER_BREAK.LVT}else if(49044===e)return lm.CLUSTER_BREAK.LV}else if(e<49128){if(e<49073){if(e<49072){if(49045<=e&&e<=49071)return lm.CLUSTER_BREAK.LVT}else if(49072===e)return lm.CLUSTER_BREAK.LV}else if(e<49100){if(49073<=e&&e<=49099)return lm.CLUSTER_BREAK.LVT}else if(e<49101){if(49100===e)return lm.CLUSTER_BREAK.LV}else if(49101<=e&&e<=49127)return lm.CLUSTER_BREAK.LVT}else if(e<49157){if(e<49129){if(49128===e)return lm.CLUSTER_BREAK.LV}else if(e<49156){if(49129<=e&&e<=49155)return lm.CLUSTER_BREAK.LVT}else if(49156===e)return lm.CLUSTER_BREAK.LV}else if(e<49184){if(49157<=e&&e<=49183)return lm.CLUSTER_BREAK.LVT}else if(e<49185){if(49184===e)return lm.CLUSTER_BREAK.LV}else if(49185<=e&&e<=49211)return lm.CLUSTER_BREAK.LVT}else if(e<49352){if(e<49269){if(e<49240){if(e<49213){if(49212===e)return lm.CLUSTER_BREAK.LV}else if(49213<=e&&e<=49239)return lm.CLUSTER_BREAK.LVT}else if(e<49241){if(49240===e)return lm.CLUSTER_BREAK.LV}else if(e<49268){if(49241<=e&&e<=49267)return lm.CLUSTER_BREAK.LVT}else if(49268===e)return lm.CLUSTER_BREAK.LV}else if(e<49297){if(e<49296){if(49269<=e&&e<=49295)return lm.CLUSTER_BREAK.LVT}else if(49296===e)return lm.CLUSTER_BREAK.LV}else if(e<49324){if(49297<=e&&e<=49323)return lm.CLUSTER_BREAK.LVT}else if(e<49325){if(49324===e)return lm.CLUSTER_BREAK.LV}else if(49325<=e&&e<=49351)return lm.CLUSTER_BREAK.LVT}else if(e<49409){if(e<49380){if(e<49353){if(49352===e)return lm.CLUSTER_BREAK.LV}else if(49353<=e&&e<=49379)return lm.CLUSTER_BREAK.LVT}else if(e<49381){if(49380===e)return lm.CLUSTER_BREAK.LV}else if(e<49408){if(49381<=e&&e<=49407)return lm.CLUSTER_BREAK.LVT}else if(49408===e)return lm.CLUSTER_BREAK.LV}else if(e<49464){if(e<49436){if(49409<=e&&e<=49435)return lm.CLUSTER_BREAK.LVT}else if(e<49437){if(49436===e)return lm.CLUSTER_BREAK.LV}else if(49437<=e&&e<=49463)return lm.CLUSTER_BREAK.LVT}else if(e<49465){if(49464===e)return lm.CLUSTER_BREAK.LV}else if(e<49492){if(49465<=e&&e<=49491)return lm.CLUSTER_BREAK.LVT}else if(49492===e)return lm.CLUSTER_BREAK.LV}else if(e<49800){if(e<49633){if(e<49576){if(e<49521){if(e<49520){if(49493<=e&&e<=49519)return lm.CLUSTER_BREAK.LVT}else if(49520===e)return lm.CLUSTER_BREAK.LV}else if(e<49548){if(49521<=e&&e<=49547)return lm.CLUSTER_BREAK.LVT}else if(e<49549){if(49548===e)return lm.CLUSTER_BREAK.LV}else if(49549<=e&&e<=49575)return lm.CLUSTER_BREAK.LVT}else if(e<49604){if(e<49577){if(49576===e)return lm.CLUSTER_BREAK.LV}else if(49577<=e&&e<=49603)return lm.CLUSTER_BREAK.LVT}else if(e<49605){if(49604===e)return lm.CLUSTER_BREAK.LV}else if(e<49632){if(49605<=e&&e<=49631)return lm.CLUSTER_BREAK.LVT}else if(49632===e)return lm.CLUSTER_BREAK.LV}else if(e<49716){if(e<49661){if(e<49660){if(49633<=e&&e<=49659)return lm.CLUSTER_BREAK.LVT}else if(49660===e)return lm.CLUSTER_BREAK.LV}else if(e<49688){if(49661<=e&&e<=49687)return lm.CLUSTER_BREAK.LVT}else if(e<49689){if(49688===e)return lm.CLUSTER_BREAK.LV}else if(49689<=e&&e<=49715)return lm.CLUSTER_BREAK.LVT}else if(e<49745){if(e<49717){if(49716===e)return lm.CLUSTER_BREAK.LV}else if(e<49744){if(49717<=e&&e<=49743)return lm.CLUSTER_BREAK.LVT}else if(49744===e)return lm.CLUSTER_BREAK.LV}else if(e<49772){if(49745<=e&&e<=49771)return lm.CLUSTER_BREAK.LVT}else if(e<49773){if(49772===e)return lm.CLUSTER_BREAK.LV}else if(49773<=e&&e<=49799)return lm.CLUSTER_BREAK.LVT}else if(e<49941){if(e<49857){if(e<49828){if(e<49801){if(49800===e)return lm.CLUSTER_BREAK.LV}else if(49801<=e&&e<=49827)return lm.CLUSTER_BREAK.LVT}else if(e<49829){if(49828===e)return lm.CLUSTER_BREAK.LV}else if(e<49856){if(49829<=e&&e<=49855)return lm.CLUSTER_BREAK.LVT}else if(49856===e)return lm.CLUSTER_BREAK.LV}else if(e<49912){if(e<49884){if(49857<=e&&e<=49883)return lm.CLUSTER_BREAK.LVT}else if(e<49885){if(49884===e)return lm.CLUSTER_BREAK.LV}else if(49885<=e&&e<=49911)return lm.CLUSTER_BREAK.LVT}else if(e<49913){if(49912===e)return lm.CLUSTER_BREAK.LV}else if(e<49940){if(49913<=e&&e<=49939)return lm.CLUSTER_BREAK.LVT}else if(49940===e)return lm.CLUSTER_BREAK.LV}else if(e<50024){if(e<49969){if(e<49968){if(49941<=e&&e<=49967)return lm.CLUSTER_BREAK.LVT}else if(49968===e)return lm.CLUSTER_BREAK.LV}else if(e<49996){if(49969<=e&&e<=49995)return lm.CLUSTER_BREAK.LVT}else if(e<49997){if(49996===e)return lm.CLUSTER_BREAK.LV}else if(49997<=e&&e<=50023)return lm.CLUSTER_BREAK.LVT}else if(e<50053){if(e<50025){if(50024===e)return lm.CLUSTER_BREAK.LV}else if(e<50052){if(50025<=e&&e<=50051)return lm.CLUSTER_BREAK.LVT}else if(50052===e)return lm.CLUSTER_BREAK.LV}else if(e<50080){if(50053<=e&&e<=50079)return lm.CLUSTER_BREAK.LVT}else if(e<50081){if(50080===e)return lm.CLUSTER_BREAK.LV}else if(50081<=e&&e<=50107)return lm.CLUSTER_BREAK.LVT}else if(e<50697){if(e<50389){if(e<50248){if(e<50165){if(e<50136){if(e<50109){if(50108===e)return lm.CLUSTER_BREAK.LV}else if(50109<=e&&e<=50135)return lm.CLUSTER_BREAK.LVT}else if(e<50137){if(50136===e)return lm.CLUSTER_BREAK.LV}else if(e<50164){if(50137<=e&&e<=50163)return lm.CLUSTER_BREAK.LVT}else if(50164===e)return lm.CLUSTER_BREAK.LV}else if(e<50193){if(e<50192){if(50165<=e&&e<=50191)return lm.CLUSTER_BREAK.LVT}else if(50192===e)return lm.CLUSTER_BREAK.LV}else if(e<50220){if(50193<=e&&e<=50219)return lm.CLUSTER_BREAK.LVT}else if(e<50221){if(50220===e)return lm.CLUSTER_BREAK.LV}else if(50221<=e&&e<=50247)return lm.CLUSTER_BREAK.LVT}else if(e<50305){if(e<50276){if(e<50249){if(50248===e)return lm.CLUSTER_BREAK.LV}else if(50249<=e&&e<=50275)return lm.CLUSTER_BREAK.LVT}else if(e<50277){if(50276===e)return lm.CLUSTER_BREAK.LV}else if(e<50304){if(50277<=e&&e<=50303)return lm.CLUSTER_BREAK.LVT}else if(50304===e)return lm.CLUSTER_BREAK.LV}else if(e<50360){if(e<50332){if(50305<=e&&e<=50331)return lm.CLUSTER_BREAK.LVT}else if(e<50333){if(50332===e)return lm.CLUSTER_BREAK.LV}else if(50333<=e&&e<=50359)return lm.CLUSTER_BREAK.LVT}else if(e<50361){if(50360===e)return lm.CLUSTER_BREAK.LV}else if(e<50388){if(50361<=e&&e<=50387)return lm.CLUSTER_BREAK.LVT}else if(50388===e)return lm.CLUSTER_BREAK.LV}else if(e<50556){if(e<50472){if(e<50417){if(e<50416){if(50389<=e&&e<=50415)return lm.CLUSTER_BREAK.LVT}else if(50416===e)return lm.CLUSTER_BREAK.LV}else if(e<50444){if(50417<=e&&e<=50443)return lm.CLUSTER_BREAK.LVT}else if(e<50445){if(50444===e)return lm.CLUSTER_BREAK.LV}else if(50445<=e&&e<=50471)return lm.CLUSTER_BREAK.LVT}else if(e<50501){if(e<50473){if(50472===e)return lm.CLUSTER_BREAK.LV}else if(e<50500){if(50473<=e&&e<=50499)return lm.CLUSTER_BREAK.LVT}else if(50500===e)return lm.CLUSTER_BREAK.LV}else if(e<50528){if(50501<=e&&e<=50527)return lm.CLUSTER_BREAK.LVT}else if(e<50529){if(50528===e)return lm.CLUSTER_BREAK.LV}else if(50529<=e&&e<=50555)return lm.CLUSTER_BREAK.LVT}else if(e<50613){if(e<50584){if(e<50557){if(50556===e)return lm.CLUSTER_BREAK.LV}else if(50557<=e&&e<=50583)return lm.CLUSTER_BREAK.LVT}else if(e<50585){if(50584===e)return lm.CLUSTER_BREAK.LV}else if(e<50612){if(50585<=e&&e<=50611)return lm.CLUSTER_BREAK.LVT}else if(50612===e)return lm.CLUSTER_BREAK.LV}else if(e<50668){if(e<50640){if(50613<=e&&e<=50639)return lm.CLUSTER_BREAK.LVT}else if(e<50641){if(50640===e)return lm.CLUSTER_BREAK.LV}else if(50641<=e&&e<=50667)return lm.CLUSTER_BREAK.LVT}else if(e<50669){if(50668===e)return lm.CLUSTER_BREAK.LV}else if(e<50696){if(50669<=e&&e<=50695)return lm.CLUSTER_BREAK.LVT}else if(50696===e)return lm.CLUSTER_BREAK.LV}else if(e<51004){if(e<50837){if(e<50780){if(e<50725){if(e<50724){if(50697<=e&&e<=50723)return lm.CLUSTER_BREAK.LVT}else if(50724===e)return lm.CLUSTER_BREAK.LV}else if(e<50752){if(50725<=e&&e<=50751)return lm.CLUSTER_BREAK.LVT}else if(e<50753){if(50752===e)return lm.CLUSTER_BREAK.LV}else if(50753<=e&&e<=50779)return lm.CLUSTER_BREAK.LVT}else if(e<50808){if(e<50781){if(50780===e)return lm.CLUSTER_BREAK.LV}else if(50781<=e&&e<=50807)return lm.CLUSTER_BREAK.LVT}else if(e<50809){if(50808===e)return lm.CLUSTER_BREAK.LV}else if(e<50836){if(50809<=e&&e<=50835)return lm.CLUSTER_BREAK.LVT}else if(50836===e)return lm.CLUSTER_BREAK.LV}else if(e<50920){if(e<50865){if(e<50864){if(50837<=e&&e<=50863)return lm.CLUSTER_BREAK.LVT}else if(50864===e)return lm.CLUSTER_BREAK.LV}else if(e<50892){if(50865<=e&&e<=50891)return lm.CLUSTER_BREAK.LVT}else if(e<50893){if(50892===e)return lm.CLUSTER_BREAK.LV}else if(50893<=e&&e<=50919)return lm.CLUSTER_BREAK.LVT}else if(e<50949){if(e<50921){if(50920===e)return lm.CLUSTER_BREAK.LV}else if(e<50948){if(50921<=e&&e<=50947)return lm.CLUSTER_BREAK.LVT}else if(50948===e)return lm.CLUSTER_BREAK.LV}else if(e<50976){if(50949<=e&&e<=50975)return lm.CLUSTER_BREAK.LVT}else if(e<50977){if(50976===e)return lm.CLUSTER_BREAK.LV}else if(50977<=e&&e<=51003)return lm.CLUSTER_BREAK.LVT}else if(e<51145){if(e<51061){if(e<51032){if(e<51005){if(51004===e)return lm.CLUSTER_BREAK.LV}else if(51005<=e&&e<=51031)return lm.CLUSTER_BREAK.LVT}else if(e<51033){if(51032===e)return lm.CLUSTER_BREAK.LV}else if(e<51060){if(51033<=e&&e<=51059)return lm.CLUSTER_BREAK.LVT}else if(51060===e)return lm.CLUSTER_BREAK.LV}else if(e<51116){if(e<51088){if(51061<=e&&e<=51087)return lm.CLUSTER_BREAK.LVT}else if(e<51089){if(51088===e)return lm.CLUSTER_BREAK.LV}else if(51089<=e&&e<=51115)return lm.CLUSTER_BREAK.LVT}else if(e<51117){if(51116===e)return lm.CLUSTER_BREAK.LV}else if(e<51144){if(51117<=e&&e<=51143)return lm.CLUSTER_BREAK.LVT}else if(51144===e)return lm.CLUSTER_BREAK.LV}else if(e<51228){if(e<51173){if(e<51172){if(51145<=e&&e<=51171)return lm.CLUSTER_BREAK.LVT}else if(51172===e)return lm.CLUSTER_BREAK.LV}else if(e<51200){if(51173<=e&&e<=51199)return lm.CLUSTER_BREAK.LVT}else if(e<51201){if(51200===e)return lm.CLUSTER_BREAK.LV}else if(51201<=e&&e<=51227)return lm.CLUSTER_BREAK.LVT}else if(e<51257){if(e<51229){if(51228===e)return lm.CLUSTER_BREAK.LV}else if(e<51256){if(51229<=e&&e<=51255)return lm.CLUSTER_BREAK.LVT}else if(51256===e)return lm.CLUSTER_BREAK.LV}else if(e<51284){if(51257<=e&&e<=51283)return lm.CLUSTER_BREAK.LVT}else if(e<51285){if(51284===e)return lm.CLUSTER_BREAK.LV}else if(51285<=e&&e<=51311)return lm.CLUSTER_BREAK.LVT}else if(e<52516){if(e<51901){if(e<51593){if(e<51452){if(e<51369){if(e<51340){if(e<51313){if(51312===e)return lm.CLUSTER_BREAK.LV}else if(51313<=e&&e<=51339)return lm.CLUSTER_BREAK.LVT}else if(e<51341){if(51340===e)return lm.CLUSTER_BREAK.LV}else if(e<51368){if(51341<=e&&e<=51367)return lm.CLUSTER_BREAK.LVT}else if(51368===e)return lm.CLUSTER_BREAK.LV}else if(e<51397){if(e<51396){if(51369<=e&&e<=51395)return lm.CLUSTER_BREAK.LVT}else if(51396===e)return lm.CLUSTER_BREAK.LV}else if(e<51424){if(51397<=e&&e<=51423)return lm.CLUSTER_BREAK.LVT}else if(e<51425){if(51424===e)return lm.CLUSTER_BREAK.LV}else if(51425<=e&&e<=51451)return lm.CLUSTER_BREAK.LVT}else if(e<51509){if(e<51480){if(e<51453){if(51452===e)return lm.CLUSTER_BREAK.LV}else if(51453<=e&&e<=51479)return lm.CLUSTER_BREAK.LVT}else if(e<51481){if(51480===e)return lm.CLUSTER_BREAK.LV}else if(e<51508){if(51481<=e&&e<=51507)return lm.CLUSTER_BREAK.LVT}else if(51508===e)return lm.CLUSTER_BREAK.LV}else if(e<51564){if(e<51536){if(51509<=e&&e<=51535)return lm.CLUSTER_BREAK.LVT}else if(e<51537){if(51536===e)return lm.CLUSTER_BREAK.LV}else if(51537<=e&&e<=51563)return lm.CLUSTER_BREAK.LVT}else if(e<51565){if(51564===e)return lm.CLUSTER_BREAK.LV}else if(e<51592){if(51565<=e&&e<=51591)return lm.CLUSTER_BREAK.LVT}else if(51592===e)return lm.CLUSTER_BREAK.LV}else if(e<51760){if(e<51676){if(e<51621){if(e<51620){if(51593<=e&&e<=51619)return lm.CLUSTER_BREAK.LVT}else if(51620===e)return lm.CLUSTER_BREAK.LV}else if(e<51648){if(51621<=e&&e<=51647)return lm.CLUSTER_BREAK.LVT}else if(e<51649){if(51648===e)return lm.CLUSTER_BREAK.LV}else if(51649<=e&&e<=51675)return lm.CLUSTER_BREAK.LVT}else if(e<51705){if(e<51677){if(51676===e)return lm.CLUSTER_BREAK.LV}else if(e<51704){if(51677<=e&&e<=51703)return lm.CLUSTER_BREAK.LVT}else if(51704===e)return lm.CLUSTER_BREAK.LV}else if(e<51732){if(51705<=e&&e<=51731)return lm.CLUSTER_BREAK.LVT}else if(e<51733){if(51732===e)return lm.CLUSTER_BREAK.LV}else if(51733<=e&&e<=51759)return lm.CLUSTER_BREAK.LVT}else if(e<51817){if(e<51788){if(e<51761){if(51760===e)return lm.CLUSTER_BREAK.LV}else if(51761<=e&&e<=51787)return lm.CLUSTER_BREAK.LVT}else if(e<51789){if(51788===e)return lm.CLUSTER_BREAK.LV}else if(e<51816){if(51789<=e&&e<=51815)return lm.CLUSTER_BREAK.LVT}else if(51816===e)return lm.CLUSTER_BREAK.LV}else if(e<51872){if(e<51844){if(51817<=e&&e<=51843)return lm.CLUSTER_BREAK.LVT}else if(e<51845){if(51844===e)return lm.CLUSTER_BREAK.LV}else if(51845<=e&&e<=51871)return lm.CLUSTER_BREAK.LVT}else if(e<51873){if(51872===e)return lm.CLUSTER_BREAK.LV}else if(e<51900){if(51873<=e&&e<=51899)return lm.CLUSTER_BREAK.LVT}else if(51900===e)return lm.CLUSTER_BREAK.LV}else if(e<52208){if(e<52041){if(e<51984){if(e<51929){if(e<51928){if(51901<=e&&e<=51927)return lm.CLUSTER_BREAK.LVT}else if(51928===e)return lm.CLUSTER_BREAK.LV}else if(e<51956){if(51929<=e&&e<=51955)return lm.CLUSTER_BREAK.LVT}else if(e<51957){if(51956===e)return lm.CLUSTER_BREAK.LV}else if(51957<=e&&e<=51983)return lm.CLUSTER_BREAK.LVT}else if(e<52012){if(e<51985){if(51984===e)return lm.CLUSTER_BREAK.LV}else if(51985<=e&&e<=52011)return lm.CLUSTER_BREAK.LVT}else if(e<52013){if(52012===e)return lm.CLUSTER_BREAK.LV}else if(e<52040){if(52013<=e&&e<=52039)return lm.CLUSTER_BREAK.LVT}else if(52040===e)return lm.CLUSTER_BREAK.LV}else if(e<52124){if(e<52069){if(e<52068){if(52041<=e&&e<=52067)return lm.CLUSTER_BREAK.LVT}else if(52068===e)return lm.CLUSTER_BREAK.LV}else if(e<52096){if(52069<=e&&e<=52095)return lm.CLUSTER_BREAK.LVT}else if(e<52097){if(52096===e)return lm.CLUSTER_BREAK.LV}else if(52097<=e&&e<=52123)return lm.CLUSTER_BREAK.LVT}else if(e<52153){if(e<52125){if(52124===e)return lm.CLUSTER_BREAK.LV}else if(e<52152){if(52125<=e&&e<=52151)return lm.CLUSTER_BREAK.LVT}else if(52152===e)return lm.CLUSTER_BREAK.LV}else if(e<52180){if(52153<=e&&e<=52179)return lm.CLUSTER_BREAK.LVT}else if(e<52181){if(52180===e)return lm.CLUSTER_BREAK.LV}else if(52181<=e&&e<=52207)return lm.CLUSTER_BREAK.LVT}else if(e<52349){if(e<52265){if(e<52236){if(e<52209){if(52208===e)return lm.CLUSTER_BREAK.LV}else if(52209<=e&&e<=52235)return lm.CLUSTER_BREAK.LVT}else if(e<52237){if(52236===e)return lm.CLUSTER_BREAK.LV}else if(e<52264){if(52237<=e&&e<=52263)return lm.CLUSTER_BREAK.LVT}else if(52264===e)return lm.CLUSTER_BREAK.LV}else if(e<52320){if(e<52292){if(52265<=e&&e<=52291)return lm.CLUSTER_BREAK.LVT}else if(e<52293){if(52292===e)return lm.CLUSTER_BREAK.LV}else if(52293<=e&&e<=52319)return lm.CLUSTER_BREAK.LVT}else if(e<52321){if(52320===e)return lm.CLUSTER_BREAK.LV}else if(e<52348){if(52321<=e&&e<=52347)return lm.CLUSTER_BREAK.LVT}else if(52348===e)return lm.CLUSTER_BREAK.LV}else if(e<52432){if(e<52377){if(e<52376){if(52349<=e&&e<=52375)return lm.CLUSTER_BREAK.LVT}else if(52376===e)return lm.CLUSTER_BREAK.LV}else if(e<52404){if(52377<=e&&e<=52403)return lm.CLUSTER_BREAK.LVT}else if(e<52405){if(52404===e)return lm.CLUSTER_BREAK.LV}else if(52405<=e&&e<=52431)return lm.CLUSTER_BREAK.LVT}else if(e<52461){if(e<52433){if(52432===e)return lm.CLUSTER_BREAK.LV}else if(e<52460){if(52433<=e&&e<=52459)return lm.CLUSTER_BREAK.LVT}else if(52460===e)return lm.CLUSTER_BREAK.LV}else if(e<52488){if(52461<=e&&e<=52487)return lm.CLUSTER_BREAK.LVT}else if(e<52489){if(52488===e)return lm.CLUSTER_BREAK.LV}else if(52489<=e&&e<=52515)return lm.CLUSTER_BREAK.LVT}else if(e<53105){if(e<52797){if(e<52656){if(e<52573){if(e<52544){if(e<52517){if(52516===e)return lm.CLUSTER_BREAK.LV}else if(52517<=e&&e<=52543)return lm.CLUSTER_BREAK.LVT}else if(e<52545){if(52544===e)return lm.CLUSTER_BREAK.LV}else if(e<52572){if(52545<=e&&e<=52571)return lm.CLUSTER_BREAK.LVT}else if(52572===e)return lm.CLUSTER_BREAK.LV}else if(e<52601){if(e<52600){if(52573<=e&&e<=52599)return lm.CLUSTER_BREAK.LVT}else if(52600===e)return lm.CLUSTER_BREAK.LV}else if(e<52628){if(52601<=e&&e<=52627)return lm.CLUSTER_BREAK.LVT}else if(e<52629){if(52628===e)return lm.CLUSTER_BREAK.LV}else if(52629<=e&&e<=52655)return lm.CLUSTER_BREAK.LVT}else if(e<52713){if(e<52684){if(e<52657){if(52656===e)return lm.CLUSTER_BREAK.LV}else if(52657<=e&&e<=52683)return lm.CLUSTER_BREAK.LVT}else if(e<52685){if(52684===e)return lm.CLUSTER_BREAK.LV}else if(e<52712){if(52685<=e&&e<=52711)return lm.CLUSTER_BREAK.LVT}else if(52712===e)return lm.CLUSTER_BREAK.LV}else if(e<52768){if(e<52740){if(52713<=e&&e<=52739)return lm.CLUSTER_BREAK.LVT}else if(e<52741){if(52740===e)return lm.CLUSTER_BREAK.LV}else if(52741<=e&&e<=52767)return lm.CLUSTER_BREAK.LVT}else if(e<52769){if(52768===e)return lm.CLUSTER_BREAK.LV}else if(e<52796){if(52769<=e&&e<=52795)return lm.CLUSTER_BREAK.LVT}else if(52796===e)return lm.CLUSTER_BREAK.LV}else if(e<52964){if(e<52880){if(e<52825){if(e<52824){if(52797<=e&&e<=52823)return lm.CLUSTER_BREAK.LVT}else if(52824===e)return lm.CLUSTER_BREAK.LV}else if(e<52852){if(52825<=e&&e<=52851)return lm.CLUSTER_BREAK.LVT}else if(e<52853){if(52852===e)return lm.CLUSTER_BREAK.LV}else if(52853<=e&&e<=52879)return lm.CLUSTER_BREAK.LVT}else if(e<52909){if(e<52881){if(52880===e)return lm.CLUSTER_BREAK.LV}else if(e<52908){if(52881<=e&&e<=52907)return lm.CLUSTER_BREAK.LVT}else if(52908===e)return lm.CLUSTER_BREAK.LV}else if(e<52936){if(52909<=e&&e<=52935)return lm.CLUSTER_BREAK.LVT}else if(e<52937){if(52936===e)return lm.CLUSTER_BREAK.LV}else if(52937<=e&&e<=52963)return lm.CLUSTER_BREAK.LVT}else if(e<53021){if(e<52992){if(e<52965){if(52964===e)return lm.CLUSTER_BREAK.LV}else if(52965<=e&&e<=52991)return lm.CLUSTER_BREAK.LVT}else if(e<52993){if(52992===e)return lm.CLUSTER_BREAK.LV}else if(e<53020){if(52993<=e&&e<=53019)return lm.CLUSTER_BREAK.LVT}else if(53020===e)return lm.CLUSTER_BREAK.LV}else if(e<53076){if(e<53048){if(53021<=e&&e<=53047)return lm.CLUSTER_BREAK.LVT}else if(e<53049){if(53048===e)return lm.CLUSTER_BREAK.LV}else if(53049<=e&&e<=53075)return lm.CLUSTER_BREAK.LVT}else if(e<53077){if(53076===e)return lm.CLUSTER_BREAK.LV}else if(e<53104){if(53077<=e&&e<=53103)return lm.CLUSTER_BREAK.LVT}else if(53104===e)return lm.CLUSTER_BREAK.LV}else if(e<53412){if(e<53245){if(e<53188){if(e<53133){if(e<53132){if(53105<=e&&e<=53131)return lm.CLUSTER_BREAK.LVT}else if(53132===e)return lm.CLUSTER_BREAK.LV}else if(e<53160){if(53133<=e&&e<=53159)return lm.CLUSTER_BREAK.LVT}else if(e<53161){if(53160===e)return lm.CLUSTER_BREAK.LV}else if(53161<=e&&e<=53187)return lm.CLUSTER_BREAK.LVT}else if(e<53216){if(e<53189){if(53188===e)return lm.CLUSTER_BREAK.LV}else if(53189<=e&&e<=53215)return lm.CLUSTER_BREAK.LVT}else if(e<53217){if(53216===e)return lm.CLUSTER_BREAK.LV}else if(e<53244){if(53217<=e&&e<=53243)return lm.CLUSTER_BREAK.LVT}else if(53244===e)return lm.CLUSTER_BREAK.LV}else if(e<53328){if(e<53273){if(e<53272){if(53245<=e&&e<=53271)return lm.CLUSTER_BREAK.LVT}else if(53272===e)return lm.CLUSTER_BREAK.LV}else if(e<53300){if(53273<=e&&e<=53299)return lm.CLUSTER_BREAK.LVT}else if(e<53301){if(53300===e)return lm.CLUSTER_BREAK.LV}else if(53301<=e&&e<=53327)return lm.CLUSTER_BREAK.LVT}else if(e<53357){if(e<53329){if(53328===e)return lm.CLUSTER_BREAK.LV}else if(e<53356){if(53329<=e&&e<=53355)return lm.CLUSTER_BREAK.LVT}else if(53356===e)return lm.CLUSTER_BREAK.LV}else if(e<53384){if(53357<=e&&e<=53383)return lm.CLUSTER_BREAK.LVT}else if(e<53385){if(53384===e)return lm.CLUSTER_BREAK.LV}else if(53385<=e&&e<=53411)return lm.CLUSTER_BREAK.LVT}else if(e<53553){if(e<53469){if(e<53440){if(e<53413){if(53412===e)return lm.CLUSTER_BREAK.LV}else if(53413<=e&&e<=53439)return lm.CLUSTER_BREAK.LVT}else if(e<53441){if(53440===e)return lm.CLUSTER_BREAK.LV}else if(e<53468){if(53441<=e&&e<=53467)return lm.CLUSTER_BREAK.LVT}else if(53468===e)return lm.CLUSTER_BREAK.LV}else if(e<53524){if(e<53496){if(53469<=e&&e<=53495)return lm.CLUSTER_BREAK.LVT}else if(e<53497){if(53496===e)return lm.CLUSTER_BREAK.LV}else if(53497<=e&&e<=53523)return lm.CLUSTER_BREAK.LVT}else if(e<53525){if(53524===e)return lm.CLUSTER_BREAK.LV}else if(e<53552){if(53525<=e&&e<=53551)return lm.CLUSTER_BREAK.LVT}else if(53552===e)return lm.CLUSTER_BREAK.LV}else if(e<53636){if(e<53581){if(e<53580){if(53553<=e&&e<=53579)return lm.CLUSTER_BREAK.LVT}else if(53580===e)return lm.CLUSTER_BREAK.LV}else if(e<53608){if(53581<=e&&e<=53607)return lm.CLUSTER_BREAK.LVT}else if(e<53609){if(53608===e)return lm.CLUSTER_BREAK.LV}else if(53609<=e&&e<=53635)return lm.CLUSTER_BREAK.LVT}else if(e<53665){if(e<53637){if(53636===e)return lm.CLUSTER_BREAK.LV}else if(e<53664){if(53637<=e&&e<=53663)return lm.CLUSTER_BREAK.LVT}else if(53664===e)return lm.CLUSTER_BREAK.LV}else if(e<53692){if(53665<=e&&e<=53691)return lm.CLUSTER_BREAK.LVT}else if(e<53693){if(53692===e)return lm.CLUSTER_BREAK.LV}else if(53693<=e&&e<=53719)return lm.CLUSTER_BREAK.LVT}else if(e<70459){if(e<54897){if(e<54308){if(e<54001){if(e<53860){if(e<53777){if(e<53748){if(e<53721){if(53720===e)return lm.CLUSTER_BREAK.LV}else if(53721<=e&&e<=53747)return lm.CLUSTER_BREAK.LVT}else if(e<53749){if(53748===e)return lm.CLUSTER_BREAK.LV}else if(e<53776){if(53749<=e&&e<=53775)return lm.CLUSTER_BREAK.LVT}else if(53776===e)return lm.CLUSTER_BREAK.LV}else if(e<53805){if(e<53804){if(53777<=e&&e<=53803)return lm.CLUSTER_BREAK.LVT}else if(53804===e)return lm.CLUSTER_BREAK.LV}else if(e<53832){if(53805<=e&&e<=53831)return lm.CLUSTER_BREAK.LVT}else if(e<53833){if(53832===e)return lm.CLUSTER_BREAK.LV}else if(53833<=e&&e<=53859)return lm.CLUSTER_BREAK.LVT}else if(e<53917){if(e<53888){if(e<53861){if(53860===e)return lm.CLUSTER_BREAK.LV}else if(53861<=e&&e<=53887)return lm.CLUSTER_BREAK.LVT}else if(e<53889){if(53888===e)return lm.CLUSTER_BREAK.LV}else if(e<53916){if(53889<=e&&e<=53915)return lm.CLUSTER_BREAK.LVT}else if(53916===e)return lm.CLUSTER_BREAK.LV}else if(e<53972){if(e<53944){if(53917<=e&&e<=53943)return lm.CLUSTER_BREAK.LVT}else if(e<53945){if(53944===e)return lm.CLUSTER_BREAK.LV}else if(53945<=e&&e<=53971)return lm.CLUSTER_BREAK.LVT}else if(e<53973){if(53972===e)return lm.CLUSTER_BREAK.LV}else if(e<54e3){if(53973<=e&&e<=53999)return lm.CLUSTER_BREAK.LVT}else if(54e3===e)return lm.CLUSTER_BREAK.LV}else if(e<54141){if(e<54084){if(e<54029){if(e<54028){if(54001<=e&&e<=54027)return lm.CLUSTER_BREAK.LVT}else if(54028===e)return lm.CLUSTER_BREAK.LV}else if(e<54056){if(54029<=e&&e<=54055)return lm.CLUSTER_BREAK.LVT}else if(e<54057){if(54056===e)return lm.CLUSTER_BREAK.LV}else if(54057<=e&&e<=54083)return lm.CLUSTER_BREAK.LVT}else if(e<54112){if(e<54085){if(54084===e)return lm.CLUSTER_BREAK.LV}else if(54085<=e&&e<=54111)return lm.CLUSTER_BREAK.LVT}else if(e<54113){if(54112===e)return lm.CLUSTER_BREAK.LV}else if(e<54140){if(54113<=e&&e<=54139)return lm.CLUSTER_BREAK.LVT}else if(54140===e)return lm.CLUSTER_BREAK.LV}else if(e<54224){if(e<54169){if(e<54168){if(54141<=e&&e<=54167)return lm.CLUSTER_BREAK.LVT}else if(54168===e)return lm.CLUSTER_BREAK.LV}else if(e<54196){if(54169<=e&&e<=54195)return lm.CLUSTER_BREAK.LVT}else if(e<54197){if(54196===e)return lm.CLUSTER_BREAK.LV}else if(54197<=e&&e<=54223)return lm.CLUSTER_BREAK.LVT}else if(e<54253){if(e<54225){if(54224===e)return lm.CLUSTER_BREAK.LV}else if(e<54252){if(54225<=e&&e<=54251)return lm.CLUSTER_BREAK.LVT}else if(54252===e)return lm.CLUSTER_BREAK.LV}else if(e<54280){if(54253<=e&&e<=54279)return lm.CLUSTER_BREAK.LVT}else if(e<54281){if(54280===e)return lm.CLUSTER_BREAK.LV}else if(54281<=e&&e<=54307)return lm.CLUSTER_BREAK.LVT}else if(e<54589){if(e<54448){if(e<54365){if(e<54336){if(e<54309){if(54308===e)return lm.CLUSTER_BREAK.LV}else if(54309<=e&&e<=54335)return lm.CLUSTER_BREAK.LVT}else if(e<54337){if(54336===e)return lm.CLUSTER_BREAK.LV}else if(e<54364){if(54337<=e&&e<=54363)return lm.CLUSTER_BREAK.LVT}else if(54364===e)return lm.CLUSTER_BREAK.LV}else if(e<54393){if(e<54392){if(54365<=e&&e<=54391)return lm.CLUSTER_BREAK.LVT}else if(54392===e)return lm.CLUSTER_BREAK.LV}else if(e<54420){if(54393<=e&&e<=54419)return lm.CLUSTER_BREAK.LVT}else if(e<54421){if(54420===e)return lm.CLUSTER_BREAK.LV}else if(54421<=e&&e<=54447)return lm.CLUSTER_BREAK.LVT}else if(e<54505){if(e<54476){if(e<54449){if(54448===e)return lm.CLUSTER_BREAK.LV}else if(54449<=e&&e<=54475)return lm.CLUSTER_BREAK.LVT}else if(e<54477){if(54476===e)return lm.CLUSTER_BREAK.LV}else if(e<54504){if(54477<=e&&e<=54503)return lm.CLUSTER_BREAK.LVT}else if(54504===e)return lm.CLUSTER_BREAK.LV}else if(e<54560){if(e<54532){if(54505<=e&&e<=54531)return lm.CLUSTER_BREAK.LVT}else if(e<54533){if(54532===e)return lm.CLUSTER_BREAK.LV}else if(54533<=e&&e<=54559)return lm.CLUSTER_BREAK.LVT}else if(e<54561){if(54560===e)return lm.CLUSTER_BREAK.LV}else if(e<54588){if(54561<=e&&e<=54587)return lm.CLUSTER_BREAK.LVT}else if(54588===e)return lm.CLUSTER_BREAK.LV}else if(e<54756){if(e<54672){if(e<54617){if(e<54616){if(54589<=e&&e<=54615)return lm.CLUSTER_BREAK.LVT}else if(54616===e)return lm.CLUSTER_BREAK.LV}else if(e<54644){if(54617<=e&&e<=54643)return lm.CLUSTER_BREAK.LVT}else if(e<54645){if(54644===e)return lm.CLUSTER_BREAK.LV}else if(54645<=e&&e<=54671)return lm.CLUSTER_BREAK.LVT}else if(e<54701){if(e<54673){if(54672===e)return lm.CLUSTER_BREAK.LV}else if(e<54700){if(54673<=e&&e<=54699)return lm.CLUSTER_BREAK.LVT}else if(54700===e)return lm.CLUSTER_BREAK.LV}else if(e<54728){if(54701<=e&&e<=54727)return lm.CLUSTER_BREAK.LVT}else if(e<54729){if(54728===e)return lm.CLUSTER_BREAK.LV}else if(54729<=e&&e<=54755)return lm.CLUSTER_BREAK.LVT}else if(e<54813){if(e<54784){if(e<54757){if(54756===e)return lm.CLUSTER_BREAK.LV}else if(54757<=e&&e<=54783)return lm.CLUSTER_BREAK.LVT}else if(e<54785){if(54784===e)return lm.CLUSTER_BREAK.LV}else if(e<54812){if(54785<=e&&e<=54811)return lm.CLUSTER_BREAK.LVT}else if(54812===e)return lm.CLUSTER_BREAK.LV}else if(e<54868){if(e<54840){if(54813<=e&&e<=54839)return lm.CLUSTER_BREAK.LVT}else if(e<54841){if(54840===e)return lm.CLUSTER_BREAK.LV}else if(54841<=e&&e<=54867)return lm.CLUSTER_BREAK.LVT}else if(e<54869){if(54868===e)return lm.CLUSTER_BREAK.LV}else if(e<54896){if(54869<=e&&e<=54895)return lm.CLUSTER_BREAK.LVT}else if(54896===e)return lm.CLUSTER_BREAK.LV}else if(e<69632){if(e<55216){if(e<55037){if(e<54980){if(e<54925){if(e<54924){if(54897<=e&&e<=54923)return lm.CLUSTER_BREAK.LVT}else if(54924===e)return lm.CLUSTER_BREAK.LV}else if(e<54952){if(54925<=e&&e<=54951)return lm.CLUSTER_BREAK.LVT}else if(e<54953){if(54952===e)return lm.CLUSTER_BREAK.LV}else if(54953<=e&&e<=54979)return lm.CLUSTER_BREAK.LVT}else if(e<55008){if(e<54981){if(54980===e)return lm.CLUSTER_BREAK.LV}else if(54981<=e&&e<=55007)return lm.CLUSTER_BREAK.LVT}else if(e<55009){if(55008===e)return lm.CLUSTER_BREAK.LV}else if(e<55036){if(55009<=e&&e<=55035)return lm.CLUSTER_BREAK.LVT}else if(55036===e)return lm.CLUSTER_BREAK.LV}else if(e<55120){if(e<55065){if(e<55064){if(55037<=e&&e<=55063)return lm.CLUSTER_BREAK.LVT}else if(55064===e)return lm.CLUSTER_BREAK.LV}else if(e<55092){if(55065<=e&&e<=55091)return lm.CLUSTER_BREAK.LVT}else if(e<55093){if(55092===e)return lm.CLUSTER_BREAK.LV}else if(55093<=e&&e<=55119)return lm.CLUSTER_BREAK.LVT}else if(e<55149){if(e<55121){if(55120===e)return lm.CLUSTER_BREAK.LV}else if(e<55148){if(55121<=e&&e<=55147)return lm.CLUSTER_BREAK.LVT}else if(55148===e)return lm.CLUSTER_BREAK.LV}else if(e<55176){if(55149<=e&&e<=55175)return lm.CLUSTER_BREAK.LVT}else if(e<55177){if(55176===e)return lm.CLUSTER_BREAK.LV}else if(55177<=e&&e<=55203)return lm.CLUSTER_BREAK.LVT}else if(e<68097){if(e<65279){if(e<64286){if(e<55243){if(55216<=e&&e<=55238)return lm.CLUSTER_BREAK.V}else if(55243<=e&&e<=55291)return lm.CLUSTER_BREAK.T}else if(e<65024){if(64286===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<65056){if(65024<=e&&e<=65039)return lm.CLUSTER_BREAK.EXTEND}else if(65056<=e&&e<=65071)return lm.CLUSTER_BREAK.EXTEND}else if(e<66045){if(e<65438){if(65279===e)return lm.CLUSTER_BREAK.CONTROL}else if(e<65520){if(65438<=e&&e<=65439)return lm.CLUSTER_BREAK.EXTEND}else if(65520<=e&&e<=65531)return lm.CLUSTER_BREAK.CONTROL}else if(e<66272){if(66045===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<66422){if(66272===e)return lm.CLUSTER_BREAK.EXTEND}else if(66422<=e&&e<=66426)return lm.CLUSTER_BREAK.EXTEND}else if(e<68325){if(e<68108){if(e<68101){if(68097<=e&&e<=68099)return lm.CLUSTER_BREAK.EXTEND}else if(68101<=e&&e<=68102)return lm.CLUSTER_BREAK.EXTEND}else if(e<68152){if(68108<=e&&e<=68111)return lm.CLUSTER_BREAK.EXTEND}else if(e<68159){if(68152<=e&&e<=68154)return lm.CLUSTER_BREAK.EXTEND}else if(68159===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<69373){if(e<68900){if(68325<=e&&e<=68326)return lm.CLUSTER_BREAK.EXTEND}else if(e<69291){if(68900<=e&&e<=68903)return lm.CLUSTER_BREAK.EXTEND}else if(69291<=e&&e<=69292)return lm.CLUSTER_BREAK.EXTEND}else if(e<69446){if(69373<=e&&e<=69375)return lm.CLUSTER_BREAK.EXTEND}else if(e<69506){if(69446<=e&&e<=69456)return lm.CLUSTER_BREAK.EXTEND}else if(69506<=e&&e<=69509)return lm.CLUSTER_BREAK.EXTEND}else if(e<70016){if(e<69815){if(e<69747){if(e<69634){if(69632===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(69633===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<69688){if(69634===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<69744){if(69688<=e&&e<=69702)return lm.CLUSTER_BREAK.EXTEND}else if(69744===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<69762){if(e<69759){if(69747<=e&&e<=69748)return lm.CLUSTER_BREAK.EXTEND}else if(69759<=e&&e<=69761)return lm.CLUSTER_BREAK.EXTEND}else if(e<69808){if(69762===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<69811){if(69808<=e&&e<=69810)return lm.CLUSTER_BREAK.SPACINGMARK}else if(69811<=e&&e<=69814)return lm.CLUSTER_BREAK.EXTEND}else if(e<69888)if(e<69821){if(e<69817){if(69815<=e&&e<=69816)return lm.CLUSTER_BREAK.SPACINGMARK}else if(69817<=e&&e<=69818)return lm.CLUSTER_BREAK.EXTEND}else if(e<69826){if(69821===e)return lm.CLUSTER_BREAK.PREPEND}else{if(69826===e)return lm.CLUSTER_BREAK.EXTEND;if(69837===e)return lm.CLUSTER_BREAK.PREPEND}else if(e<69933){if(e<69927){if(69888<=e&&e<=69890)return lm.CLUSTER_BREAK.EXTEND}else if(e<69932){if(69927<=e&&e<=69931)return lm.CLUSTER_BREAK.EXTEND}else if(69932===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<69957){if(69933<=e&&e<=69940)return lm.CLUSTER_BREAK.EXTEND}else if(e<70003){if(69957<=e&&e<=69958)return lm.CLUSTER_BREAK.SPACINGMARK}else if(70003===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<70194){if(e<70082){if(e<70067){if(e<70018){if(70016<=e&&e<=70017)return lm.CLUSTER_BREAK.EXTEND}else if(70018===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<70070){if(70067<=e&&e<=70069)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<70079){if(70070<=e&&e<=70078)return lm.CLUSTER_BREAK.EXTEND}else if(70079<=e&&e<=70080)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<70095){if(e<70089){if(70082<=e&&e<=70083)return lm.CLUSTER_BREAK.PREPEND}else if(e<70094){if(70089<=e&&e<=70092)return lm.CLUSTER_BREAK.EXTEND}else if(70094===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<70188){if(70095===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<70191){if(70188<=e&&e<=70190)return lm.CLUSTER_BREAK.SPACINGMARK}else if(70191<=e&&e<=70193)return lm.CLUSTER_BREAK.EXTEND}else if(e<70209){if(e<70197){if(e<70196){if(70194<=e&&e<=70195)return lm.CLUSTER_BREAK.SPACINGMARK}else if(70196===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<70198){if(70197===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<70206){if(70198<=e&&e<=70199)return lm.CLUSTER_BREAK.EXTEND}else if(70206===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<70371){if(e<70367){if(70209===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<70368){if(70367===e)return lm.CLUSTER_BREAK.EXTEND}else if(70368<=e&&e<=70370)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<70400){if(70371<=e&&e<=70378)return lm.CLUSTER_BREAK.EXTEND}else if(e<70402){if(70400<=e&&e<=70401)return lm.CLUSTER_BREAK.EXTEND}else if(70402<=e&&e<=70403)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<72343){if(e<71339){if(e<70841){if(e<70512){if(e<70471){if(e<70463){if(e<70462){if(70459<=e&&e<=70460)return lm.CLUSTER_BREAK.EXTEND}else if(70462===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<70464){if(70463===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<70465){if(70464===e)return lm.CLUSTER_BREAK.EXTEND}else if(70465<=e&&e<=70468)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<70487){if(e<70475){if(70471<=e&&e<=70472)return lm.CLUSTER_BREAK.SPACINGMARK}else if(70475<=e&&e<=70477)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<70498){if(70487===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<70502){if(70498<=e&&e<=70499)return lm.CLUSTER_BREAK.SPACINGMARK}else if(70502<=e&&e<=70508)return lm.CLUSTER_BREAK.EXTEND}else if(e<70725){if(e<70712){if(e<70709){if(70512<=e&&e<=70516)return lm.CLUSTER_BREAK.EXTEND}else if(70709<=e&&e<=70711)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<70720){if(70712<=e&&e<=70719)return lm.CLUSTER_BREAK.EXTEND}else if(e<70722){if(70720<=e&&e<=70721)return lm.CLUSTER_BREAK.SPACINGMARK}else if(70722<=e&&e<=70724)return lm.CLUSTER_BREAK.EXTEND}else if(e<70832){if(e<70726){if(70725===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(70726===e||70750===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<70833){if(70832===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<70835){if(70833<=e&&e<=70834)return lm.CLUSTER_BREAK.SPACINGMARK}else if(70835<=e&&e<=70840)return lm.CLUSTER_BREAK.EXTEND}else if(e<71096){if(e<70847)if(e<70843){if(70841===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(70842===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<70845){if(70843<=e&&e<=70844)return lm.CLUSTER_BREAK.SPACINGMARK}else{if(70845===e)return lm.CLUSTER_BREAK.EXTEND;if(70846===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<71087){if(e<70849){if(70847<=e&&e<=70848)return lm.CLUSTER_BREAK.EXTEND}else if(e<70850){if(70849===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(70850<=e&&e<=70851)return lm.CLUSTER_BREAK.EXTEND}else if(e<71088){if(71087===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<71090){if(71088<=e&&e<=71089)return lm.CLUSTER_BREAK.SPACINGMARK}else if(71090<=e&&e<=71093)return lm.CLUSTER_BREAK.EXTEND}else if(e<71216){if(e<71102){if(e<71100){if(71096<=e&&e<=71099)return lm.CLUSTER_BREAK.SPACINGMARK}else if(71100<=e&&e<=71101)return lm.CLUSTER_BREAK.EXTEND}else if(e<71103){if(71102===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<71132){if(71103<=e&&e<=71104)return lm.CLUSTER_BREAK.EXTEND}else if(71132<=e&&e<=71133)return lm.CLUSTER_BREAK.EXTEND}else if(e<71229){if(e<71219){if(71216<=e&&e<=71218)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<71227){if(71219<=e&&e<=71226)return lm.CLUSTER_BREAK.EXTEND}else if(71227<=e&&e<=71228)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<71230){if(71229===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<71231){if(71230===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(71231<=e&&e<=71232)return lm.CLUSTER_BREAK.EXTEND}else if(e<71999)if(e<71463){if(e<71350){if(e<71341){if(71339===e)return lm.CLUSTER_BREAK.EXTEND;if(71340===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<71342){if(71341===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<71344){if(71342<=e&&e<=71343)return lm.CLUSTER_BREAK.SPACINGMARK}else if(71344<=e&&e<=71349)return lm.CLUSTER_BREAK.EXTEND}else if(e<71453){if(71350===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(71351===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<71458){if(71453<=e&&e<=71455)return lm.CLUSTER_BREAK.EXTEND}else if(e<71462){if(71458<=e&&e<=71461)return lm.CLUSTER_BREAK.EXTEND}else if(71462===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<71984){if(e<71727){if(e<71724){if(71463<=e&&e<=71467)return lm.CLUSTER_BREAK.EXTEND}else if(71724<=e&&e<=71726)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<71736){if(71727<=e&&e<=71735)return lm.CLUSTER_BREAK.EXTEND}else if(e<71737){if(71736===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(71737<=e&&e<=71738)return lm.CLUSTER_BREAK.EXTEND}else if(e<71995){if(e<71985){if(71984===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<71991){if(71985<=e&&e<=71989)return lm.CLUSTER_BREAK.SPACINGMARK}else if(71991<=e&&e<=71992)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<71997){if(71995<=e&&e<=71996)return lm.CLUSTER_BREAK.EXTEND}else{if(71997===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(71998===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<72193)if(e<72145)if(e<72001){if(71999===e)return lm.CLUSTER_BREAK.PREPEND;if(72e3===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<72002){if(72001===e)return lm.CLUSTER_BREAK.PREPEND}else{if(72002===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(72003===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<72156){if(e<72148){if(72145<=e&&e<=72147)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<72154){if(72148<=e&&e<=72151)return lm.CLUSTER_BREAK.EXTEND}else if(72154<=e&&e<=72155)return lm.CLUSTER_BREAK.EXTEND}else if(e<72160){if(72156<=e&&e<=72159)return lm.CLUSTER_BREAK.SPACINGMARK}else{if(72160===e)return lm.CLUSTER_BREAK.EXTEND;if(72164===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<72263){if(e<72249){if(e<72243){if(72193<=e&&e<=72202)return lm.CLUSTER_BREAK.EXTEND}else if(72243<=e&&e<=72248)return lm.CLUSTER_BREAK.EXTEND}else if(e<72250){if(72249===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<72251){if(72250===e)return lm.CLUSTER_BREAK.PREPEND}else if(72251<=e&&e<=72254)return lm.CLUSTER_BREAK.EXTEND}else if(e<72281){if(e<72273){if(72263===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<72279){if(72273<=e&&e<=72278)return lm.CLUSTER_BREAK.EXTEND}else if(72279<=e&&e<=72280)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<72324){if(72281<=e&&e<=72283)return lm.CLUSTER_BREAK.EXTEND}else if(e<72330){if(72324<=e&&e<=72329)return lm.CLUSTER_BREAK.PREPEND}else if(72330<=e&&e<=72342)return lm.CLUSTER_BREAK.EXTEND}else if(e<94033){if(e<73104){if(e<72881){if(e<72766){if(e<72751){if(e<72344){if(72343===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(72344<=e&&e<=72345)return lm.CLUSTER_BREAK.EXTEND}else if(e<72752){if(72751===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<72760){if(72752<=e&&e<=72758)return lm.CLUSTER_BREAK.EXTEND}else if(72760<=e&&e<=72765)return lm.CLUSTER_BREAK.EXTEND}else if(e<72850){if(72766===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(72767===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<72873){if(72850<=e&&e<=72871)return lm.CLUSTER_BREAK.EXTEND}else if(e<72874){if(72873===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(72874<=e&&e<=72880)return lm.CLUSTER_BREAK.EXTEND}else if(e<73018){if(e<72884){if(e<72882){if(72881===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(72882<=e&&e<=72883)return lm.CLUSTER_BREAK.EXTEND}else if(e<72885){if(72884===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<73009){if(72885<=e&&e<=72886)return lm.CLUSTER_BREAK.EXTEND}else if(73009<=e&&e<=73014)return lm.CLUSTER_BREAK.EXTEND}else if(e<73030){if(e<73020){if(73018===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<73023){if(73020<=e&&e<=73021)return lm.CLUSTER_BREAK.EXTEND}else if(73023<=e&&e<=73029)return lm.CLUSTER_BREAK.EXTEND}else if(e<73031){if(73030===e)return lm.CLUSTER_BREAK.PREPEND}else if(e<73098){if(73031===e)return lm.CLUSTER_BREAK.EXTEND}else if(73098<=e&&e<=73102)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<73526){if(e<73459)if(e<73109){if(e<73107){if(73104<=e&&e<=73105)return lm.CLUSTER_BREAK.EXTEND}else if(73107<=e&&e<=73108)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<73110){if(73109===e)return lm.CLUSTER_BREAK.EXTEND}else{if(73110===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(73111===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<73474){if(e<73461){if(73459<=e&&e<=73460)return lm.CLUSTER_BREAK.EXTEND}else if(e<73472){if(73461<=e&&e<=73462)return lm.CLUSTER_BREAK.SPACINGMARK}else if(73472<=e&&e<=73473)return lm.CLUSTER_BREAK.EXTEND}else if(e<73475){if(73474===e)return lm.CLUSTER_BREAK.PREPEND}else if(e<73524){if(73475===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(73524<=e&&e<=73525)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<78896)if(e<73536){if(e<73534){if(73526<=e&&e<=73530)return lm.CLUSTER_BREAK.EXTEND}else if(73534<=e&&e<=73535)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<73537){if(73536===e)return lm.CLUSTER_BREAK.EXTEND}else{if(73537===e)return lm.CLUSTER_BREAK.SPACINGMARK;if(73538===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<92912){if(e<78912){if(78896<=e&&e<=78911)return lm.CLUSTER_BREAK.CONTROL}else if(e<78919){if(78912===e)return lm.CLUSTER_BREAK.EXTEND}else if(78919<=e&&e<=78933)return lm.CLUSTER_BREAK.EXTEND}else if(e<92976){if(92912<=e&&e<=92916)return lm.CLUSTER_BREAK.EXTEND}else if(e<94031){if(92976<=e&&e<=92982)return lm.CLUSTER_BREAK.EXTEND}else if(94031===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<121476){if(e<119143)if(e<113824){if(e<94180){if(e<94095){if(94033<=e&&e<=94087)return lm.CLUSTER_BREAK.SPACINGMARK}else if(94095<=e&&e<=94098)return lm.CLUSTER_BREAK.EXTEND}else if(e<94192){if(94180===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<113821){if(94192<=e&&e<=94193)return lm.CLUSTER_BREAK.SPACINGMARK}else if(113821<=e&&e<=113822)return lm.CLUSTER_BREAK.EXTEND}else if(e<118576){if(e<118528){if(113824<=e&&e<=113827)return lm.CLUSTER_BREAK.CONTROL}else if(118528<=e&&e<=118573)return lm.CLUSTER_BREAK.EXTEND}else if(e<119141){if(118576<=e&&e<=118598)return lm.CLUSTER_BREAK.EXTEND}else{if(119141===e)return lm.CLUSTER_BREAK.EXTEND;if(119142===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<119173){if(e<119150){if(e<119149){if(119143<=e&&e<=119145)return lm.CLUSTER_BREAK.EXTEND}else if(119149===e)return lm.CLUSTER_BREAK.SPACINGMARK}else if(e<119155){if(119150<=e&&e<=119154)return lm.CLUSTER_BREAK.EXTEND}else if(e<119163){if(119155<=e&&e<=119162)return lm.CLUSTER_BREAK.CONTROL}else if(119163<=e&&e<=119170)return lm.CLUSTER_BREAK.EXTEND}else if(e<121344){if(e<119210){if(119173<=e&&e<=119179)return lm.CLUSTER_BREAK.EXTEND}else if(e<119362){if(119210<=e&&e<=119213)return lm.CLUSTER_BREAK.EXTEND}else if(119362<=e&&e<=119364)return lm.CLUSTER_BREAK.EXTEND}else if(e<121403){if(121344<=e&&e<=121398)return lm.CLUSTER_BREAK.EXTEND}else if(e<121461){if(121403<=e&&e<=121452)return lm.CLUSTER_BREAK.EXTEND}else if(121461===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<123628){if(e<122907){if(e<121505){if(e<121499){if(121476===e)return lm.CLUSTER_BREAK.EXTEND}else if(121499<=e&&e<=121503)return lm.CLUSTER_BREAK.EXTEND}else if(e<122880){if(121505<=e&&e<=121519)return lm.CLUSTER_BREAK.EXTEND}else if(e<122888){if(122880<=e&&e<=122886)return lm.CLUSTER_BREAK.EXTEND}else if(122888<=e&&e<=122904)return lm.CLUSTER_BREAK.EXTEND}else if(e<123023){if(e<122915){if(122907<=e&&e<=122913)return lm.CLUSTER_BREAK.EXTEND}else if(e<122918){if(122915<=e&&e<=122916)return lm.CLUSTER_BREAK.EXTEND}else if(122918<=e&&e<=122922)return lm.CLUSTER_BREAK.EXTEND}else if(e<123184){if(123023===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<123566){if(123184<=e&&e<=123190)return lm.CLUSTER_BREAK.EXTEND}else if(123566===e)return lm.CLUSTER_BREAK.EXTEND}else if(e<127995){if(e<125136){if(e<124140){if(123628<=e&&e<=123631)return lm.CLUSTER_BREAK.EXTEND}else if(124140<=e&&e<=124143)return lm.CLUSTER_BREAK.EXTEND}else if(e<125252){if(125136<=e&&e<=125142)return lm.CLUSTER_BREAK.EXTEND}else if(e<127462){if(125252<=e&&e<=125258)return lm.CLUSTER_BREAK.EXTEND}else if(127462<=e&&e<=127487)return lm.CLUSTER_BREAK.REGIONAL_INDICATOR}else if(e<917632){if(e<917504){if(127995<=e&&e<=127999)return lm.CLUSTER_BREAK.EXTEND}else if(e<917536){if(917504<=e&&e<=917535)return lm.CLUSTER_BREAK.CONTROL}else if(917536<=e&&e<=917631)return lm.CLUSTER_BREAK.EXTEND}else if(e<917760){if(917632<=e&&e<=917759)return lm.CLUSTER_BREAK.CONTROL}else if(e<918e3){if(917760<=e&&e<=917999)return lm.CLUSTER_BREAK.EXTEND}else if(918e3<=e&&e<=921599)return lm.CLUSTER_BREAK.CONTROL;return lm.CLUSTER_BREAK.OTHER}static getEmojiProperty(e){if(e<10160){if(e<9728){if(e<9e3){if(e<8482){if(e<8252){if(169===e||174===e)return lm.EXTENDED_PICTOGRAPHIC}else if(8252===e||8265===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<8596){if(8482===e||8505===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<8617){if(8596<=e&&e<=8601)return lm.EXTENDED_PICTOGRAPHIC}else if(e<8986){if(8617<=e&&e<=8618)return lm.EXTENDED_PICTOGRAPHIC}else if(8986<=e&&e<=8987)return lm.EXTENDED_PICTOGRAPHIC}else if(e<9410){if(e<9167){if(9e3===e||9096===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<9193){if(9167===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<9208){if(9193<=e&&e<=9203)return lm.EXTENDED_PICTOGRAPHIC}else if(9208<=e&&e<=9210)return lm.EXTENDED_PICTOGRAPHIC}else if(e<9654){if(e<9642){if(9410===e)return lm.EXTENDED_PICTOGRAPHIC}else if(9642<=e&&e<=9643)return lm.EXTENDED_PICTOGRAPHIC}else if(e<9664){if(9654===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<9723){if(9664===e)return lm.EXTENDED_PICTOGRAPHIC}else if(9723<=e&&e<=9726)return lm.EXTENDED_PICTOGRAPHIC}else if(e<10035){if(e<10004){if(e<9748){if(e<9735){if(9728<=e&&e<=9733)return lm.EXTENDED_PICTOGRAPHIC}else if(9735<=e&&e<=9746)return lm.EXTENDED_PICTOGRAPHIC}else if(e<9872){if(9748<=e&&e<=9861)return lm.EXTENDED_PICTOGRAPHIC}else if(e<9992){if(9872<=e&&e<=9989)return lm.EXTENDED_PICTOGRAPHIC}else if(9992<=e&&e<=10002)return lm.EXTENDED_PICTOGRAPHIC}else if(e<10013){if(10004===e||10006===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<10017){if(10013===e)return lm.EXTENDED_PICTOGRAPHIC}else if(10017===e||10024===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<10067){if(e<10055){if(e<10052){if(10035<=e&&e<=10036)return lm.EXTENDED_PICTOGRAPHIC}else if(10052===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<10060){if(10055===e)return lm.EXTENDED_PICTOGRAPHIC}else if(10060===e||10062===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<10083){if(e<10071){if(10067<=e&&e<=10069)return lm.EXTENDED_PICTOGRAPHIC}else if(10071===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<10133){if(10083<=e&&e<=10087)return lm.EXTENDED_PICTOGRAPHIC}else if(e<10145){if(10133<=e&&e<=10135)return lm.EXTENDED_PICTOGRAPHIC}else if(10145===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<127489){if(e<12951){if(e<11035){if(e<10548){if(10160===e||10175===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<11013){if(10548<=e&&e<=10549)return lm.EXTENDED_PICTOGRAPHIC}else if(11013<=e&&e<=11015)return lm.EXTENDED_PICTOGRAPHIC}else if(e<11093){if(e<11088){if(11035<=e&&e<=11036)return lm.EXTENDED_PICTOGRAPHIC}else if(11088===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<12336){if(11093===e)return lm.EXTENDED_PICTOGRAPHIC}else if(12336===e||12349===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<127340){if(e<126976){if(12951===e||12953===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<127245){if(126976<=e&&e<=127231)return lm.EXTENDED_PICTOGRAPHIC}else if(e<127279){if(127245<=e&&e<=127247)return lm.EXTENDED_PICTOGRAPHIC}else if(127279===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<127374){if(e<127358){if(127340<=e&&e<=127345)return lm.EXTENDED_PICTOGRAPHIC}else if(127358<=e&&e<=127359)return lm.EXTENDED_PICTOGRAPHIC}else if(e<127377){if(127374===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<127405){if(127377<=e&&e<=127386)return lm.EXTENDED_PICTOGRAPHIC}else if(127405<=e&&e<=127461)return lm.EXTENDED_PICTOGRAPHIC}else if(e<128981){if(e<127561){if(e<127535){if(e<127514){if(127489<=e&&e<=127503)return lm.EXTENDED_PICTOGRAPHIC}else if(127514===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<127538){if(127535===e)return lm.EXTENDED_PICTOGRAPHIC}else if(e<127548){if(127538<=e&&e<=127546)return lm.EXTENDED_PICTOGRAPHIC}else if(127548<=e&&e<=127551)return lm.EXTENDED_PICTOGRAPHIC}else if(e<128326){if(e<128e3){if(127561<=e&&e<=127994)return lm.EXTENDED_PICTOGRAPHIC}else if(128e3<=e&&e<=128317)return lm.EXTENDED_PICTOGRAPHIC}else if(e<128640){if(128326<=e&&e<=128591)return lm.EXTENDED_PICTOGRAPHIC}else if(e<128884){if(128640<=e&&e<=128767)return lm.EXTENDED_PICTOGRAPHIC}else if(128884<=e&&e<=128895)return lm.EXTENDED_PICTOGRAPHIC}else if(e<129198){if(e<129096){if(e<129036){if(128981<=e&&e<=129023)return lm.EXTENDED_PICTOGRAPHIC}else if(129036<=e&&e<=129039)return lm.EXTENDED_PICTOGRAPHIC}else if(e<129114){if(129096<=e&&e<=129103)return lm.EXTENDED_PICTOGRAPHIC}else if(e<129160){if(129114<=e&&e<=129119)return lm.EXTENDED_PICTOGRAPHIC}else if(129160<=e&&e<=129167)return lm.EXTENDED_PICTOGRAPHIC}else if(e<129340){if(e<129292){if(129198<=e&&e<=129279)return lm.EXTENDED_PICTOGRAPHIC}else if(129292<=e&&e<=129338)return lm.EXTENDED_PICTOGRAPHIC}else if(e<129351){if(129340<=e&&e<=129349)return lm.EXTENDED_PICTOGRAPHIC}else if(e<130048){if(129351<=e&&e<=129791)return lm.EXTENDED_PICTOGRAPHIC}else if(130048<=e&&e<=131069)return lm.EXTENDED_PICTOGRAPHIC;return lm.CLUSTER_BREAK.OTHER}}lh.default=lA;var l_=np&&np.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lf,"__esModule",{value:!0}),lf.default=l_(lh).default;var lT=np&&np.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),lw=np&&np.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lC=np&&np.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&lT(t,e,r);return lw(t,e),t},lS=np&&np.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lu,"__esModule",{value:!0}),lu.validateLanguage=lu.parseLanguage=lu.b64UrlToUtf8=lu.utf8ToB64Url=lu.graphemeLen=lu.utf8Len=void 0;let lL=lS(lf),lk=lC(la);lu.utf8Len=e=>new TextEncoder().encode(e).byteLength,lu.graphemeLen=e=>new lL.default().countGraphemes(e),lu.utf8ToB64Url=e=>lk.toString(lk.fromString(e,"utf8"),"base64url"),lu.b64UrlToUtf8=e=>lk.toString(lk.fromString(e,"base64url"),"utf8"),lu.parseLanguage=e=>{let t=e.match(lx);if(!t?.groups)return null;let r=t.groups;return{grandfathered:r.grandfathered,language:r.language,extlang:r.extlang,script:r.script,region:r.region,variant:r.variant,extension:r.extension,privateUse:r.privateUseA||r.privateUseB}},lu.validateLanguage=e=>lx.test(e);let lx=/^((?<grandfathered>(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))|((?<language>([A-Za-z]{2,3}(-(?<extlang>[A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-(?<script>[A-Za-z]{4}))?(-(?<region>[A-Za-z]{2}|[0-9]{3}))?(-(?<variant>[A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-(?<extension>[0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(?<privateUseA>x(-[A-Za-z0-9]{1,8})+))?)|(?<privateUseB>x(-[A-Za-z0-9]{1,8})+))$/;var lP={};!function(e){function t(e,t,r){let i=e[t];if(i)for(let t=0;t<i.length;t++){let o=i[t],n=o.id;if("#"===n[0]?n===r:n.length===e.id.length+r.length&&"#"===n[e.id.length]&&n.endsWith(r)&&n.startsWith(e.id))return o}}Object.defineProperty(e,"__esModule",{value:!0}),e.didDocument=e.getServiceEndpoint=e.getNotifEndpoint=e.getFeedGenEndpoint=e.getPdsEndpoint=e.getSigningDidKey=e.getVerificationMaterial=e.getSigningKey=e.getHandle=e.getDid=e.isValidDidDoc=void 0,e.isValidDidDoc=t=>e.didDocument.safeParse(t).success,e.getDid=e=>{let t=e.id;if("string"!=typeof t)throw Error("No `id` on document");return t},e.getHandle=e=>{let t=e.alsoKnownAs;if(t)for(let e=0;e<t.length;e++){let r=t[e];if(r.startsWith("at://"))return r.slice(5)}},e.getSigningKey=t=>(0,e.getVerificationMaterial)(t,"atproto"),e.getVerificationMaterial=(e,r)=>{let i=t(e,"verificationMethod",`#${r}`);if(i&&i.publicKeyMultibase)return{type:i.type,publicKeyMultibase:i.publicKeyMultibase}},e.getSigningDidKey=t=>{let r=(0,e.getSigningKey)(t);if(r)return`did:key:${r.publicKeyMultibase}`},e.getPdsEndpoint=t=>(0,e.getServiceEndpoint)(t,{id:"#atproto_pds",type:"AtprotoPersonalDataServer"}),e.getFeedGenEndpoint=t=>(0,e.getServiceEndpoint)(t,{id:"#bsky_fg",type:"BskyFeedGenerator"}),e.getNotifEndpoint=t=>(0,e.getServiceEndpoint)(t,{id:"#bsky_notif",type:"BskyNotificationService"}),e.getServiceEndpoint=(e,i)=>{let o=t(e,"service",i.id);if(o&&!(i.type&&o.type!==i.type)&&"string"==typeof o.serviceEndpoint)return r(o.serviceEndpoint)};let r=e=>{if(!(!e.startsWith("http://")&&!e.startsWith("https://"))&&i(e))return e},i=URL.canParse??(e=>{try{return new URL(e),!0}catch{return!1}}),o=nB.z.object({id:nB.z.string(),type:nB.z.string(),controller:nB.z.string(),publicKeyMultibase:nB.z.string().optional()}),n=nB.z.object({id:nB.z.string(),type:nB.z.string(),serviceEndpoint:nB.z.union([nB.z.string(),nB.z.record(nB.z.unknown())])});e.didDocument=nB.z.object({id:nB.z.string(),alsoKnownAs:nB.z.array(nB.z.string()).optional(),verificationMethod:nB.z.array(o).optional(),service:nB.z.array(n).optional()})}(lP),bg=np&&np.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),bb=np&&np.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bv=np&&np.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&bg(t,e,r);return bb(t,e),t},bE=np&&np.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||bg(t,e,r)},Object.defineProperty(ai,"__esModule",{value:!0}),ai.util=ai.check=void 0,ai.check=bv(ao),ai.util=bv(an),bE(as,ai),bE(aa,ai),bE(an,ai),bE(ac,ai),bE(ay,ai),bE(ll,ai),bE(lc,ai),bE(lp,ai),bE(lu,ai),bE(lP,ai);Object.defineProperty(ar,"__esModule",{value:!0}),ar.BlobRef=ar.jsonBlobRef=ar.untypedJsonBlobRef=ar.typedJsonBlobRef=void 0,ar.typedJsonBlobRef=nB.z.object({$type:nB.z.literal("blob"),ref:ai.schema.cid,mimeType:nB.z.string(),size:nB.z.number()}).strict(),ar.untypedJsonBlobRef=nB.z.object({cid:nB.z.string(),mimeType:nB.z.string()}).strict(),ar.jsonBlobRef=nB.z.union([ar.typedJsonBlobRef,ar.untypedJsonBlobRef]);class lB{constructor(e,t,r,i){Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"mimeType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"original",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.original=i??{$type:"blob",ref:e,mimeType:t,size:r}}static asBlobRef(e){return ai.check.is(e,ar.jsonBlobRef)?lB.fromJsonRef(e):null}static fromJsonRef(e){return ai.check.is(e,ar.typedJsonBlobRef)?new lB(e.ref,e.mimeType,e.size):new lB(a0.CID.parse(e.cid),e.mimeType,-1,e)}ipld(){return{$type:"blob",ref:this.ref,mimeType:this.mimeType,size:this.size}}toJSON(){return(0,ai.ipldToJson)(this.ipld())}}ar.BlobRef=lB,Object.defineProperty(at,"__esModule",{value:!0}),at.blob=function(e,t,r,i){return i&&i instanceof ar.BlobRef?{success:!0,value:i}:{success:!1,error:new nP.ValidationError(`${t} should be a blob ref`)}};var lD={},lO={},lU={};function lI(e,t){try{(0,nh.ensureValidDid)(t)}catch{return{success:!1,error:new nP.ValidationError(`${e} must be a valid did`)}}return{success:!0,value:t}}function lK(e,t){try{(0,nh.ensureValidHandle)(t)}catch{return{success:!1,error:new nP.ValidationError(`${e} must be a valid handle`)}}return{success:!0,value:t}}(()=>{var e={d:(t,r)=>{for(var i in r)e.o(r,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function r(e,t){return void 0===t&&(t="-"),RegExp("^(?!0{4}"+t+"0{2}"+t+"0{2})((?=[0-9]{4}"+t+"(((0[^2])|1[0-2])|02(?="+t+"(([0-1][0-9])|2[0-8])))"+t+"[0-9]{2})|(?=((([13579][26])|([2468][048])|(0[48]))0{2})|([0-9]{2}((((0|[2468])[48])|[2468][048])|([13579][26])))"+t+"02"+t+"29))([0-9]{4})"+t+"(?!((0[469])|11)"+t+"31)((0[1,3-9]|1[0-2])|(02(?!"+t+"3)))"+t+"(0[1-9]|[1-2][0-9]|3[0-1])$").test(e)}function i(e){var t=/\D/.exec(e);return t?t[0]:""}function o(e,t,r){void 0===t&&(t=":"),void 0===r&&(r=!1);var o,n=RegExp("^([0-1]|2(?=([0-3])|4"+t+"00))[0-9]"+t+"[0-5][0-9]("+t+"([0-5]|6(?=0))[0-9])?(.[0-9]{1,9})?$");if(!r||!/[Z+\-]/.test(e))return n.test(e);if(/Z$/.test(e))return n.test(e.replace("Z",""));var s=e.includes("+"),a=e.split(/[+-]/),l=a[0],d=a[1];return n.test(l)&&(void 0===(o=i(d))&&(o=":"),new RegExp(s?"^(0(?!(2"+o+"4)|0"+o+"3)|1(?=([0-1]|2(?="+o+"[04])|[34](?="+o+"0))))([03469](?="+o+"[03])|[17](?="+o+"0)|2(?="+o+"[04])|5(?="+o+"[034])|8(?="+o+"[04]))"+o+"([03](?=0)|4(?=5))[05]$":"^(0(?=[^0])|1(?=[0-2]))([39](?="+o+"[03])|[0-24-8](?="+o+"00))"+o+"[03]0$").test(d))}function n(e){var t=e.split("T"),n=t[0],s=t[1],a=r(n,i(n));if(!s)return!1;var l,d=Array.isArray(l=s.match(/([^Z+\-\d])(?=\d+\1)/))?l[0]:"";return a&&o(s,d,!0)}function s(e,t){return void 0===t&&(t="-"),RegExp("^[0-9]{4}"+t+"(0(?=[^0])|1(?=[0-2]))[0-9]$").test(e)}for(var a in e.r(t),e.d(t,{isValidDate:()=>r,isValidISODateString:()=>n,isValidTime:()=>o,isValidYearMonth:()=>s}),t)lU[a]=t[a];t.__esModule&&Object.defineProperty(lU,"__esModule",{value:!0})})(),Object.defineProperty(lO,"__esModule",{value:!0}),lO.datetime=function(e,t){try{if(!(0,lU.isValidISODateString)(t))throw Error()}catch{return{success:!1,error:new nP.ValidationError(`${e} must be an valid atproto datetime (both RFC-3339 and ISO-8601)`)}}return{success:!0,value:t}},lO.uri=function(e,t){return null!==t.match(/^\w+:(?:\/\/)?[^\s/][^\s]*$/)?{success:!0,value:t}:{success:!1,error:new nP.ValidationError(`${e} must be a uri`)}},lO.atUri=function(e,t){try{(0,nh.ensureValidAtUri)(t)}catch{return{success:!1,error:new nP.ValidationError(`${e} must be a valid at-uri`)}}return{success:!0,value:t}},lO.did=lI,lO.handle=lK,lO.atIdentifier=function(e,t){if(t.startsWith("did:")){let r=lI(e,t);if(r.success)return r}else{let r=lK(e,t);if(r.success)return r}return{success:!1,error:new nP.ValidationError(`${e} must be a valid did or a handle`)}},lO.nsid=function(e,t){try{(0,nh.ensureValidNsid)(t)}catch{return{success:!1,error:new nP.ValidationError(`${e} must be a valid nsid`)}}return{success:!0,value:t}},lO.cid=function(e,t){try{a0.CID.parse(t)}catch{return{success:!1,error:new nP.ValidationError(`${e} must be a cid string`)}}return{success:!0,value:t}},lO.language=function(e,t){return(0,ai.validateLanguage)(t)?{success:!0,value:t}:{success:!1,error:new nP.ValidationError(`${e} must be a well-formed BCP 47 language tag`)}},lO.tid=function(e,t){try{(0,nh.ensureValidTid)(t)}catch{return{success:!1,error:new nP.ValidationError(`${e} must be a valid TID (timestamp identifier)`)}}return{success:!0,value:t}},lO.recordKey=function(e,t){try{(0,nh.ensureValidRecordKey)(t)}catch{return{success:!1,error:new nP.ValidationError(`${e} must be a valid Record Key`)}}return{success:!0,value:t}};var lj=np&&np.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),lM=np&&np.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lN=np&&np.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&lj(t,e,r);return lM(t,e),t};Object.defineProperty(lD,"__esModule",{value:!0}),lD.validate=function(e,t,r,i){switch(r.type){case"boolean":return lF(e,t,r,i);case"integer":return lG(e,t,r,i);case"string":return lq(e,t,r,i);case"bytes":return l$(e,t,r,i);case"cid-link":return lz(e,t,r,i);case"unknown":return lX(e,t,r,i);default:return{success:!1,error:new nP.ValidationError(`Unexpected lexicon type: ${r.type}`)}}},lD.boolean=lF,lD.integer=lG,lD.string=lq,lD.bytes=l$,lD.cidLink=lz,lD.unknown=lX;let lV=lN(lO);function lF(e,t,r,i){let o=typeof i;return"undefined"===o?"boolean"==typeof r.default?{success:!0,value:r.default}:{success:!1,error:new nP.ValidationError(`${t} must be a boolean`)}:"boolean"!==o?{success:!1,error:new nP.ValidationError(`${t} must be a boolean`)}:"boolean"==typeof r.const&&i!==r.const?{success:!1,error:new nP.ValidationError(`${t} must be ${r.const}`)}:{success:!0,value:i}}function lG(e,t,r,i){return void 0===i?"number"==typeof r.default?{success:!0,value:r.default}:{success:!1,error:new nP.ValidationError(`${t} must be an integer`)}:Number.isInteger(i)?"number"==typeof r.const&&i!==r.const?{success:!1,error:new nP.ValidationError(`${t} must be ${r.const}`)}:Array.isArray(r.enum)&&!r.enum.includes(i)?{success:!1,error:new nP.ValidationError(`${t} must be one of (${r.enum.join("|")})`)}:"number"==typeof r.maximum&&i>r.maximum?{success:!1,error:new nP.ValidationError(`${t} can not be greater than ${r.maximum}`)}:"number"==typeof r.minimum&&i<r.minimum?{success:!1,error:new nP.ValidationError(`${t} can not be less than ${r.minimum}`)}:{success:!0,value:i}:{success:!1,error:new nP.ValidationError(`${t} must be an integer`)}}function lq(e,t,r,i){if(typeof i>"u")return"string"==typeof r.default?{success:!0,value:r.default}:{success:!1,error:new nP.ValidationError(`${t} must be a string`)};if("string"!=typeof i)return{success:!1,error:new nP.ValidationError(`${t} must be a string`)};if("string"==typeof r.const&&i!==r.const)return{success:!1,error:new nP.ValidationError(`${t} must be ${r.const}`)};if(Array.isArray(r.enum)&&!r.enum.includes(i))return{success:!1,error:new nP.ValidationError(`${t} must be one of (${r.enum.join("|")})`)};if("number"==typeof r.minLength||"number"==typeof r.maxLength){if("number"==typeof r.minLength&&3*i.length<r.minLength)return{success:!1,error:new nP.ValidationError(`${t} must not be shorter than ${r.minLength} characters`)};let e=!1;if(typeof r.minLength>"u"&&"number"==typeof r.maxLength&&3*i.length<=r.maxLength&&(e=!0),!e){let e=(0,ai.utf8Len)(i);if("number"==typeof r.maxLength&&e>r.maxLength)return{success:!1,error:new nP.ValidationError(`${t} must not be longer than ${r.maxLength} characters`)};if("number"==typeof r.minLength&&e<r.minLength)return{success:!1,error:new nP.ValidationError(`${t} must not be shorter than ${r.minLength} characters`)}}}if("number"==typeof r.maxGraphemes||"number"==typeof r.minGraphemes){let e=!1,o=!1;if("number"==typeof r.maxGraphemes&&(e=!(i.length<=r.maxGraphemes)),"number"==typeof r.minGraphemes){if(i.length<r.minGraphemes)return{success:!1,error:new nP.ValidationError(`${t} must not be shorter than ${r.minGraphemes} graphemes`)};o=!0}if(e||o){let e=(0,ai.graphemeLen)(i);if("number"==typeof r.maxGraphemes&&e>r.maxGraphemes)return{success:!1,error:new nP.ValidationError(`${t} must not be longer than ${r.maxGraphemes} graphemes`)};if("number"==typeof r.minGraphemes&&e<r.minGraphemes)return{success:!1,error:new nP.ValidationError(`${t} must not be shorter than ${r.minGraphemes} graphemes`)}}}if("string"==typeof r.format)switch(r.format){case"datetime":return lV.datetime(t,i);case"uri":return lV.uri(t,i);case"at-uri":return lV.atUri(t,i);case"did":return lV.did(t,i);case"handle":return lV.handle(t,i);case"at-identifier":return lV.atIdentifier(t,i);case"nsid":return lV.nsid(t,i);case"cid":return lV.cid(t,i);case"language":return lV.language(t,i);case"tid":return lV.tid(t,i);case"record-key":return lV.recordKey(t,i)}return{success:!0,value:i}}function l$(e,t,r,i){return i&&i instanceof Uint8Array?"number"==typeof r.maxLength&&i.byteLength>r.maxLength?{success:!1,error:new nP.ValidationError(`${t} must not be larger than ${r.maxLength} bytes`)}:"number"==typeof r.minLength&&i.byteLength<r.minLength?{success:!1,error:new nP.ValidationError(`${t} must not be smaller than ${r.minLength} bytes`)}:{success:!0,value:i}:{success:!1,error:new nP.ValidationError(`${t} must be a byte array`)}}function lz(e,t,r,i){return null===a0.CID.asCID(i)?{success:!1,error:new nP.ValidationError(`${t} must be a CID`)}:{success:!0,value:i}}function lX(e,t,r,i){return i&&"object"==typeof i?{success:!0,value:i}:{success:!1,error:new nP.ValidationError(`${t} must be an object`)}}function lH(e,t,r,i){switch(r.type){case"boolean":return(0,lD.boolean)(e,t,r,i);case"integer":return(0,lD.integer)(e,t,r,i);case"string":return(0,lD.string)(e,t,r,i);case"bytes":return(0,lD.bytes)(e,t,r,i);case"cid-link":return(0,lD.cidLink)(e,t,r,i);case"unknown":return(0,lD.unknown)(e,t,r,i);case"object":return lW(e,t,r,i);case"array":return lZ(e,t,r,i);case"blob":return(0,at.blob)(e,t,r,i);default:return{success:!1,error:new nP.ValidationError(`Unexpected lexicon type: ${r.type}`)}}}function lZ(e,t,r,i){if(!Array.isArray(i))return{success:!1,error:new nP.ValidationError(`${t} must be an array`)};if("number"==typeof r.maxLength&&i.length>r.maxLength)return{success:!1,error:new nP.ValidationError(`${t} must not have more than ${r.maxLength} elements`)};if("number"==typeof r.minLength&&i.length<r.minLength)return{success:!1,error:new nP.ValidationError(`${t} must not have fewer than ${r.minLength} elements`)};let o=r.items;for(let r=0;r<i.length;r++){let n=i[r],s=lY(e,`${t}/${r}`,o,n);if(!s.success)return s}return{success:!0,value:i}}function lW(e,t,r,i){if(!i||"object"!=typeof i)return{success:!1,error:new nP.ValidationError(`${t} must be an object`)};let o=new Set(r.required),n=new Set(r.nullable),s=i;if("object"==typeof r.properties)for(let a in r.properties){if(null===i[a]&&n.has(a))continue;let l=r.properties[a];if(typeof i[a]>"u"&&!o.has(a)){if("integer"!==l.type&&"boolean"!==l.type&&"string"!==l.type)continue;else if(typeof l.default>"u")continue}let d=lY(e,`${t}/${a}`,l,i[a]),c=d.success?d.value:i[a],p=typeof c>"u";if(p&&o.has(a))return{success:!1,error:new nP.ValidationError(`${t} must have the property "${a}"`)};if(!p&&!d.success)return d;c!==i[a]&&(s===i&&(s={...i}),s[a]=c)}return{success:!0,value:s}}function lY(e,t,r,i,o=!1){let n,s;if("union"===r.type){if(!(0,nP.isDiscriminatedObject)(i))return{success:!1,error:new nP.ValidationError(`${t} must be an object which includes the "$type" property`)};if(!lQ(r.refs,i.$type))return r.closed?{success:!1,error:new nP.ValidationError(`${t} $type must be one of ${r.refs.join(", ")}`)}:{success:!0,value:i};s=(0,s6.toConcreteTypes)(e,{type:"ref",ref:i.$type})}else s=(0,s6.toConcreteTypes)(e,r);for(let r of s){let s=o?lW(e,t,r,i):lH(e,t,r,i);if(s.success)return s;n??(n=s.error)}return s.length>1?{success:!1,error:new nP.ValidationError(`${t} did not match any of the expected definitions`)}:{success:!1,error:n}}Object.defineProperty(ae,"__esModule",{value:!0}),ae.validate=lH,ae.array=lZ,ae.object=lW,ae.validateOneOf=lY;let lQ=(e,t)=>{let r=(0,s6.toLexUri)(t);return!!e.includes(r)||(r.endsWith("#main")?e.includes(r.replace("#main","")):e.includes(r+"#main"))};var lJ={},l0=np&&np.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),l1=np&&np.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l4=np&&np.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l0(t,e,r);return l1(t,e),t};Object.defineProperty(lJ,"__esModule",{value:!0}),lJ.params=function(e,t,r,i){let o=i&&"object"==typeof i?i:{},n=new Set(r.required??[]),s=o;if("object"==typeof r.properties)for(let i in r.properties){let a=r.properties[i],l="array"===a.type?(0,ae.array)(e,i,a,o[i]):l5.validate(e,i,a,o[i]),d=l.success?l.value:o[i],c=typeof d>"u";if(c&&n.has(i))return{success:!1,error:new nP.ValidationError(`${t} must have the property "${i}"`)};if(!c&&!l.success)return l;d!==o[i]&&(s===o&&(s={...o}),s[i]=d)}return{success:!0,value:s}};let l5=l4(lD);function l2(e,t,r,i,o=!1){let n=(0,ae.validateOneOf)(e,t,r,i,o);if(!n.success)throw n.error;return n.value}Object.defineProperty(s8,"__esModule",{value:!0}),s8.assertValidRecord=function(e,t,r){let i=(0,ae.object)(e,"Record",t.record,r);if(!i.success)throw i.error;return i.value},s8.assertValidXrpcParams=function(e,t,r){if(t.parameters){let i=(0,lJ.params)(e,"Params",t.parameters,r);if(!i.success)throw i.error;return i.value}},s8.assertValidXrpcInput=function(e,t,r){if(t.input?.schema)return l2(e,"Input",t.input.schema,r,!0)},s8.assertValidXrpcOutput=function(e,t,r){if(t.output?.schema)return l2(e,"Output",t.output.schema,r,!0)},s8.assertValidXrpcMessage=function(e,t,r){if(t.message?.schema)return l2(e,"Message",t.message.schema,r,!0)};var l3=np&&np.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),l7=np&&np.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l6=np&&np.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l3(t,e,r);return l7(t,e),t};Object.defineProperty(s9,"__esModule",{value:!0}),s9.Lexicons=void 0;let l9=l6(ae);class l8{constructor(e){if(Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"defs",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),e)for(let t of e)this.add(t)}[Symbol.iterator](){return this.docs.values()}add(e){let t=(0,s6.toLexUri)(e.id);if(this.docs.has(t))throw Error(`${t} has already been registered`);for(let[r,i]of(function e(t,r){for(let i in t)"ref"===t.type?t.ref=(0,s6.toLexUri)(t.ref,r):"union"===t.type?t.refs=t.refs.map(e=>(0,s6.toLexUri)(e,r)):Array.isArray(t[i])?t[i]=t[i].map(t=>"string"==typeof t?t.startsWith("#")?(0,s6.toLexUri)(t,r):t:t&&"object"==typeof t?e(t,r):t):t[i]&&"object"==typeof t[i]&&(t[i]=e(t[i],r));return t}(e,t),this.docs.set(t,e),de(e)))this.defs.set(r,i)}remove(e){e=(0,s6.toLexUri)(e);let t=this.docs.get(e);if(!t)throw Error(`Unable to remove "${e}": does not exist`);for(let[e,r]of de(t))this.defs.delete(e);this.docs.delete(e)}get(e){return e=(0,s6.toLexUri)(e),this.docs.get(e)}getDef(e){return e=(0,s6.toLexUri)(e),this.defs.get(e)}getDefOrThrow(e,t){let r=this.getDef(e);if(!r)throw new nP.LexiconDefNotFoundError(`Lexicon not found: ${e}`);if(t&&!t.includes(r.type))throw new nP.InvalidLexiconError(`Not a ${t.join(" or ")} lexicon: ${e}`);return r}validate(e,t){e=(0,s6.toLexUri)(e);let r=this.getDefOrThrow(e,["record","object"]);if(!(0,nP.isObj)(t))throw new nP.ValidationError("Value must be an object");if("record"===r.type)return l9.object(this,"Record",r.record,t);if("object"===r.type)return l9.object(this,"Object",r,t);throw new nP.InvalidLexiconError("Definition must be a record or object")}assertValidRecord(e,t){e=(0,s6.toLexUri)(e);let r=this.getDefOrThrow(e,["record"]);if(!(0,nP.isObj)(t))throw new nP.ValidationError("Record must be an object");if(!(0,nP.hasProp)(t,"$type")||"string"!=typeof t.$type)throw new nP.ValidationError("Record/$type must be a string");let i=t.$type||"";if((0,s6.toLexUri)(i)!==e)throw new nP.ValidationError(`Invalid $type: must be ${e}, got ${i}`);return(0,s8.assertValidRecord)(this,r,t)}assertValidXrpcParams(e,t){e=(0,s6.toLexUri)(e);let r=this.getDefOrThrow(e,["query","procedure","subscription"]);return(0,s8.assertValidXrpcParams)(this,r,t)}assertValidXrpcInput(e,t){e=(0,s6.toLexUri)(e);let r=this.getDefOrThrow(e,["procedure"]);return(0,s8.assertValidXrpcInput)(this,r,t)}assertValidXrpcOutput(e,t){e=(0,s6.toLexUri)(e);let r=this.getDefOrThrow(e,["query","procedure"]);return(0,s8.assertValidXrpcOutput)(this,r,t)}assertValidXrpcMessage(e,t){e=(0,s6.toLexUri)(e);let r=this.getDefOrThrow(e,["subscription"]);return(0,s8.assertValidXrpcMessage)(this,r,t)}resolveLexUri(e,t){return e=(0,s6.toLexUri)(e),(0,s6.toLexUri)(t,e)}}function*de(e){for(let t in e.defs)yield[`lex:${e.id}#${t}`,e.defs[t]],"main"===t&&(yield[`lex:${e.id}`,e.defs[t]])}s9.Lexicons=l8;var dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.jsonStringToLex=dt.jsonToLex=dt.stringifyLex=dt.lexToJson=dt.ipldToLex=dt.lexToIpld=void 0,dt.lexToIpld=e=>{if(Array.isArray(e))return e.map(e=>(0,dt.lexToIpld)(e));if(e&&"object"==typeof e){if(e instanceof ar.BlobRef)return e.original;if(a0.CID.asCID(e)||e instanceof Uint8Array)return e;let t={};for(let r of Object.keys(e))t[r]=(0,dt.lexToIpld)(e[r]);return t}return e},dt.ipldToLex=e=>{if(Array.isArray(e))return e.map(e=>(0,dt.ipldToLex)(e));if(e&&"object"==typeof e){if(("blob"===e.$type||"string"==typeof e.cid&&"string"==typeof e.mimeType)&&ai.check.is(e,ar.jsonBlobRef))return ar.BlobRef.fromJsonRef(e);if(a0.CID.asCID(e)||e instanceof Uint8Array)return e;let t={};for(let r of Object.keys(e))t[r]=(0,dt.ipldToLex)(e[r]);return t}return e},dt.lexToJson=e=>(0,ai.ipldToJson)((0,dt.lexToIpld)(e)),dt.stringifyLex=e=>JSON.stringify((0,dt.lexToJson)(e)),dt.jsonToLex=e=>(0,dt.ipldToLex)((0,ai.jsonToIpld)(e)),dt.jsonStringToLex=e=>(0,dt.jsonToLex)(JSON.parse(e)),bR=np&&np.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),bA=np&&np.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||bR(t,e,r)},Object.defineProperty(nx,"__esModule",{value:!0}),bA(nP,nx),bA(s9,nx),bA(ar,nx),bA(dt,nx);var dr={};Object.defineProperty(dr,"__esModule",{value:!0});var di={};Object.defineProperty(di,"__esModule",{value:!0}),di.BSKY_LABELER_DID=void 0,di.BSKY_LABELER_DID="did:plc:ar7c4by46qjdydhdevvrndac";var dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.validateSavedFeed=dn.getSavedFeedType=dn.savedFeedsToUriArrays=dn.sanitizeMutedWordValue=void 0,dn.sanitizeMutedWordValue=function(e){return e.trim().replace(/^#(?!\ufe0f)/,"").replace(/[\r\n\u00AD\u2060\u200D\u200C\u200B]+/,"")},dn.savedFeedsToUriArrays=function(e){let t=[],r=[];for(let i of e)i.pinned&&t.push(i.value),r.push(i.value);return{pinned:t,saved:r}},dn.getSavedFeedType=function(e){switch(new nh.AtUri(e).collection){case"app.bsky.feed.generator":return"feed";case"app.bsky.graph.list":return"list";default:return"unknown"}},dn.validateSavedFeed=function(e){if(new ai.TID(e.id),["feed","list"].includes(e.type)){let t=new nh.AtUri(e.value),r="app.bsky.feed.generator"===t.collection,i="app.bsky.graph.list"===t.collection;if("feed"===e.type&&!r)throw Error(`Saved feed of type 'feed' must be a feed, got ${t.collection}`);if("list"===e.type&&!i)throw Error(`Saved feed of type 'list' must be a list, got ${t.collection}`)}};var ds={},da={},dl={};Object.defineProperty(dl,"__esModule",{value:!0}),dl.XRPCInvalidResponseError=dl.XRPCError=dl.XRPCResponse=dl.ResponseTypeStrings=dl.ResponseTypeNames=dl.ResponseType=dl.errorResponseBody=void 0,dl.errorResponseBody=nB.z.object({error:nB.z.string().optional(),message:nB.z.string().optional()}),(bT=b_||(dl.ResponseType=b_={}))[bT.Unknown=1]="Unknown",bT[bT.InvalidResponse=2]="InvalidResponse",bT[bT.Success=200]="Success",bT[bT.InvalidRequest=400]="InvalidRequest",bT[bT.AuthRequired=401]="AuthRequired",bT[bT.Forbidden=403]="Forbidden",bT[bT.XRPCNotSupported=404]="XRPCNotSupported",bT[bT.PayloadTooLarge=413]="PayloadTooLarge",bT[bT.RateLimitExceeded=429]="RateLimitExceeded",bT[bT.InternalServerError=500]="InternalServerError",bT[bT.MethodNotImplemented=501]="MethodNotImplemented",bT[bT.UpstreamFailure=502]="UpstreamFailure",bT[bT.NotEnoughResources=503]="NotEnoughResources",bT[bT.UpstreamTimeout=504]="UpstreamTimeout",dl.ResponseTypeNames={[b_.InvalidResponse]:"InvalidResponse",[b_.Success]:"Success",[b_.InvalidRequest]:"InvalidRequest",[b_.AuthRequired]:"AuthenticationRequired",[b_.Forbidden]:"Forbidden",[b_.XRPCNotSupported]:"XRPCNotSupported",[b_.PayloadTooLarge]:"PayloadTooLarge",[b_.RateLimitExceeded]:"RateLimitExceeded",[b_.InternalServerError]:"InternalServerError",[b_.MethodNotImplemented]:"MethodNotImplemented",[b_.UpstreamFailure]:"UpstreamFailure",[b_.NotEnoughResources]:"NotEnoughResources",[b_.UpstreamTimeout]:"UpstreamTimeout"},dl.ResponseTypeStrings={[b_.InvalidResponse]:"Invalid Response",[b_.Success]:"Success",[b_.InvalidRequest]:"Invalid Request",[b_.AuthRequired]:"Authentication Required",[b_.Forbidden]:"Forbidden",[b_.XRPCNotSupported]:"XRPC Not Supported",[b_.PayloadTooLarge]:"Payload Too Large",[b_.RateLimitExceeded]:"Rate Limit Exceeded",[b_.InternalServerError]:"Internal Server Error",[b_.MethodNotImplemented]:"Method Not Implemented",[b_.UpstreamFailure]:"Upstream Failure",[b_.NotEnoughResources]:"Not Enough Resources",[b_.UpstreamTimeout]:"Upstream Timeout"},dl.XRPCResponse=class{constructor(e,t){Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"success",{enumerable:!0,configurable:!0,writable:!0,value:!0})}};class dd extends Error{constructor(e,t,r,i){super(r||t||dl.ResponseTypeStrings[e]),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"success",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.error||(this.error=dl.ResponseTypeNames[e]),this.headers=i}}dl.XRPCError=dd,dl.XRPCInvalidResponseError=class extends dd{constructor(e,t,r){super(b_.InvalidResponse,dl.ResponseTypeStrings[b_.InvalidResponse],"The server gave an invalid response and may be out of date."),Object.defineProperty(this,"lexiconNsid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"validationError",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"responseBody",{enumerable:!0,configurable:!0,writable:!0,value:r})}};var dc={},dp={};function du(e,t){if("string"===e||"unknown"===e)return String(t);if("float"===e)return String(Number(t));if("integer"===e)return String(0|Number(t));if("boolean"===e)return t?"true":"false";if("datetime"===e)return t instanceof Date?t.toISOString():String(t);throw Error(`Unsupported query param type: ${e}`)}Object.defineProperty(dp,"__esModule",{value:!0}),dp.httpResponseBodyParse=dp.httpResponseCodeToEnum=dp.encodeMethodCallBody=dp.constructMethodCallHeaders=dp.normalizeHeaders=dp.encodeQueryParam=dp.constructMethodCallUri=dp.getMethodSchemaHTTPMethod=void 0,dp.getMethodSchemaHTTPMethod=function(e){return"procedure"===e.type?"post":"get"},dp.constructMethodCallUri=function(e,t,r,i){let o=new URL(r);if(o.pathname=`/xrpc/${e}`,i)for(let[e,r]of Object.entries(i)){let i=t.parameters?.properties?.[e];if(!i)throw Error(`Invalid query parameter: ${e}`);void 0!==r&&("array"===i.type?[].concat(r).forEach(t=>{o.searchParams.append(e,du(i.items.type,t))}):o.searchParams.set(e,du(i.type,r)))}return o.toString()},dp.encodeQueryParam=du,dp.normalizeHeaders=function(e){let t={};for(let[r,i]of Object.entries(e))t[r.toLowerCase()]=i;return t},dp.constructMethodCallHeaders=function(e,t,r){let i=r?.headers||{};return"procedure"===e.type&&(r?.encoding&&(i["Content-Type"]=r.encoding),t&&"object"==typeof t&&(i["Content-Type"]||(i["Content-Type"]="application/json"))),i},dp.encodeMethodCallBody=function(e,t){if(!(!e["content-type"]||typeof t>"u"))return t instanceof ArrayBuffer?t:e["content-type"].startsWith("text/")?new TextEncoder().encode(t.toString()):e["content-type"].startsWith("application/json")?new TextEncoder().encode((0,nx.stringifyLex)(t)):t},dp.httpResponseCodeToEnum=function(e){return e in dl.ResponseType?e:e>=100&&e<200?dl.ResponseType.XRPCNotSupported:e>=200&&e<300?dl.ResponseType.Success:e>=300&&e<400?dl.ResponseType.XRPCNotSupported:e>=400&&e<500?dl.ResponseType.InvalidRequest:dl.ResponseType.InternalServerError},dp.httpResponseBodyParse=function(e,t){if(e){if(e.includes("application/json")&&t?.byteLength)try{let e=new TextDecoder().decode(t);return(0,nx.jsonStringToLex)(e)}catch(e){throw new dl.XRPCError(dl.ResponseType.InvalidResponse,`Failed to parse response body: ${String(e)}`)}if(e.startsWith("text/")&&t?.byteLength)try{return new TextDecoder().decode(t)}catch(e){throw new dl.XRPCError(dl.ResponseType.InvalidResponse,`Failed to parse response body: ${String(e)}`)}}return t instanceof ArrayBuffer?new Uint8Array(t):t},Object.defineProperty(dc,"__esModule",{value:!0}),dc.defaultFetchHandler=dc.ServiceClient=dc.Client=void 0,dc.Client=class{constructor(){Object.defineProperty(this,"fetch",{enumerable:!0,configurable:!0,writable:!0,value:dh}),Object.defineProperty(this,"lex",{enumerable:!0,configurable:!0,writable:!0,value:new nx.Lexicons})}async call(e,t,r,i,o){return this.service(e).call(t,r,i,o)}service(e){return new df(this,e)}addLexicon(e){this.lex.add(e)}addLexicons(e){for(let t of e)this.addLexicon(t)}removeLexicon(e){this.lex.remove(e)}};class df{constructor(e,t){Object.defineProperty(this,"baseClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"uri",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this.baseClient=e,this.uri="string"==typeof t?new URL(t):t}setHeader(e,t){this.headers[e]=t}unsetHeader(e){delete this.headers[e]}async call(e,t,r,i){var o;let n=this.baseClient.lex.getDefOrThrow(e);if(!n||"query"!==n.type&&"procedure"!==n.type)throw Error(`Invalid lexicon: ${e}. Must be a query or procedure.`);let s=(0,dp.getMethodSchemaHTTPMethod)(n),a=(0,dp.constructMethodCallUri)(e,n,this.uri,t),l=(0,dp.constructMethodCallHeaders)(n,r,{headers:{...this.headers,...i?.headers},encoding:i?.encoding}),d=await this.baseClient.fetch(a,s,l,r),c=(0,dp.httpResponseCodeToEnum)(d.status);if(c===dl.ResponseType.Success){try{this.baseClient.lex.assertValidXrpcOutput(e,d.body)}catch(t){throw t instanceof nx.ValidationError?new dl.XRPCInvalidResponseError(e,t,d.body):t}return new dl.XRPCResponse(d.body,d.headers)}throw d.body&&(o=d.body,dl.errorResponseBody.safeParse(o).success)?new dl.XRPCError(c,d.body.error,d.body.message,d.headers):new dl.XRPCError(c)}}async function dh(e,t,r,i){try{let o=(0,dp.normalizeHeaders)(r),n={method:t,headers:o,body:(0,dp.encodeMethodCallBody)(o,i),duplex:"half"},s=await fetch(e,n),a=await s.arrayBuffer();return{status:s.status,headers:Object.fromEntries(s.headers.entries()),body:(0,dp.httpResponseBodyParse)(s.headers.get("content-type"),a)}}catch(e){throw new dl.XRPCError(dl.ResponseType.Unknown,String(e))}}dc.ServiceClient=df,dc.defaultFetchHandler=dh,bw=np&&np.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),bC=np&&np.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||bw(t,e,r)},Object.defineProperty(da,"__esModule",{value:!0}),bC(dl,da),bC(dc,da),da.default=new dc.Client;var dm={};Object.defineProperty(dm,"__esModule",{value:!0}),dm.ids=dm.lexicons=dm.schemas=dm.schemaDict=void 0,dm.schemaDict={ComAtprotoAdminDefs:{lexicon:1,id:"com.atproto.admin.defs",defs:{statusAttr:{type:"object",required:["applied"],properties:{applied:{type:"boolean"},ref:{type:"string"}}},accountView:{type:"object",required:["did","handle","indexedAt"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},email:{type:"string"},relatedRecords:{type:"array",items:{type:"unknown"}},indexedAt:{type:"string",format:"datetime"},invitedBy:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"},invites:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"}},invitesDisabled:{type:"boolean"},emailConfirmedAt:{type:"string",format:"datetime"},inviteNote:{type:"string"},deactivatedAt:{type:"string",format:"datetime"}}},repoRef:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}},repoBlobRef:{type:"object",required:["did","cid"],properties:{did:{type:"string",format:"did"},cid:{type:"string",format:"cid"},recordUri:{type:"string",format:"at-uri"}}}}},ComAtprotoAdminDeleteAccount:{lexicon:1,id:"com.atproto.admin.deleteAccount",defs:{main:{type:"procedure",description:"Delete a user account as an administrator.",input:{encoding:"application/json",schema:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}}}}}},ComAtprotoAdminDisableAccountInvites:{lexicon:1,id:"com.atproto.admin.disableAccountInvites",defs:{main:{type:"procedure",description:"Disable an account from receiving new invite codes, but does not invalidate existing codes.",input:{encoding:"application/json",schema:{type:"object",required:["account"],properties:{account:{type:"string",format:"did"},note:{type:"string",description:"Optional reason for disabled invites."}}}}}}},ComAtprotoAdminDisableInviteCodes:{lexicon:1,id:"com.atproto.admin.disableInviteCodes",defs:{main:{type:"procedure",description:"Disable some set of codes and/or all codes associated with a set of users.",input:{encoding:"application/json",schema:{type:"object",properties:{codes:{type:"array",items:{type:"string"}},accounts:{type:"array",items:{type:"string"}}}}}}}},ComAtprotoAdminEnableAccountInvites:{lexicon:1,id:"com.atproto.admin.enableAccountInvites",defs:{main:{type:"procedure",description:"Re-enable an account's ability to receive invite codes.",input:{encoding:"application/json",schema:{type:"object",required:["account"],properties:{account:{type:"string",format:"did"},note:{type:"string",description:"Optional reason for enabled invites."}}}}}}},ComAtprotoAdminGetAccountInfo:{lexicon:1,id:"com.atproto.admin.getAccountInfo",defs:{main:{type:"query",description:"Get details about an account.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did"}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:com.atproto.admin.defs#accountView"}}}}},ComAtprotoAdminGetAccountInfos:{lexicon:1,id:"com.atproto.admin.getAccountInfos",defs:{main:{type:"query",description:"Get details about some accounts.",parameters:{type:"params",required:["dids"],properties:{dids:{type:"array",items:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"object",required:["infos"],properties:{infos:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#accountView"}}}}}}}},ComAtprotoAdminGetInviteCodes:{lexicon:1,id:"com.atproto.admin.getInviteCodes",defs:{main:{type:"query",description:"Get an admin view of invite codes.",parameters:{type:"params",properties:{sort:{type:"string",knownValues:["recent","usage"],default:"recent"},limit:{type:"integer",minimum:1,maximum:500,default:100},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["codes"],properties:{cursor:{type:"string"},codes:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"}}}}}}}},ComAtprotoAdminGetSubjectStatus:{lexicon:1,id:"com.atproto.admin.getSubjectStatus",defs:{main:{type:"query",description:"Get the service-specific admin status of a subject (account, record, or blob).",parameters:{type:"params",properties:{did:{type:"string",format:"did"},uri:{type:"string",format:"at-uri"},blob:{type:"string",format:"cid"}}},output:{encoding:"application/json",schema:{type:"object",required:["subject"],properties:{subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef","lex:com.atproto.admin.defs#repoBlobRef"]},takedown:{type:"ref",ref:"lex:com.atproto.admin.defs#statusAttr"},deactivated:{type:"ref",ref:"lex:com.atproto.admin.defs#statusAttr"}}}}}}},ComAtprotoAdminSearchAccounts:{lexicon:1,id:"com.atproto.admin.searchAccounts",defs:{main:{type:"query",description:"Get list of accounts that matches your search query.",parameters:{type:"params",properties:{email:{type:"string"},cursor:{type:"string"},limit:{type:"integer",minimum:1,maximum:100,default:50}}},output:{encoding:"application/json",schema:{type:"object",required:["accounts"],properties:{cursor:{type:"string"},accounts:{type:"array",items:{type:"ref",ref:"lex:com.atproto.admin.defs#accountView"}}}}}}}},ComAtprotoAdminSendEmail:{lexicon:1,id:"com.atproto.admin.sendEmail",defs:{main:{type:"procedure",description:"Send email to a user's account email address.",input:{encoding:"application/json",schema:{type:"object",required:["recipientDid","content","senderDid"],properties:{recipientDid:{type:"string",format:"did"},content:{type:"string"},subject:{type:"string"},senderDid:{type:"string",format:"did"},comment:{type:"string",description:"Additional comment by the sender that won't be used in the email itself but helpful to provide more context for moderators/reviewers"}}}},output:{encoding:"application/json",schema:{type:"object",required:["sent"],properties:{sent:{type:"boolean"}}}}}}},ComAtprotoAdminUpdateAccountEmail:{lexicon:1,id:"com.atproto.admin.updateAccountEmail",defs:{main:{type:"procedure",description:"Administrative action to update an account's email.",input:{encoding:"application/json",schema:{type:"object",required:["account","email"],properties:{account:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."},email:{type:"string"}}}}}}},ComAtprotoAdminUpdateAccountHandle:{lexicon:1,id:"com.atproto.admin.updateAccountHandle",defs:{main:{type:"procedure",description:"Administrative action to update an account's handle.",input:{encoding:"application/json",schema:{type:"object",required:["did","handle"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"}}}}}}},ComAtprotoAdminUpdateAccountPassword:{lexicon:1,id:"com.atproto.admin.updateAccountPassword",defs:{main:{type:"procedure",description:"Update the password for a user account as an administrator.",input:{encoding:"application/json",schema:{type:"object",required:["did","password"],properties:{did:{type:"string",format:"did"},password:{type:"string"}}}}}}},ComAtprotoAdminUpdateSubjectStatus:{lexicon:1,id:"com.atproto.admin.updateSubjectStatus",defs:{main:{type:"procedure",description:"Update the service-specific admin status of a subject (account, record, or blob).",input:{encoding:"application/json",schema:{type:"object",required:["subject"],properties:{subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef","lex:com.atproto.admin.defs#repoBlobRef"]},takedown:{type:"ref",ref:"lex:com.atproto.admin.defs#statusAttr"},deactivated:{type:"ref",ref:"lex:com.atproto.admin.defs#statusAttr"}}}},output:{encoding:"application/json",schema:{type:"object",required:["subject"],properties:{subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef","lex:com.atproto.admin.defs#repoBlobRef"]},takedown:{type:"ref",ref:"lex:com.atproto.admin.defs#statusAttr"}}}}}}},ComAtprotoIdentityGetRecommendedDidCredentials:{lexicon:1,id:"com.atproto.identity.getRecommendedDidCredentials",defs:{main:{type:"query",description:"Describe the credentials that should be included in the DID doc of an account that is migrating to this service.",output:{encoding:"application/json",schema:{type:"object",properties:{rotationKeys:{description:"Recommended rotation keys for PLC dids. Should be undefined (or ignored) for did:webs.",type:"array",items:{type:"string"}},alsoKnownAs:{type:"array",items:{type:"string"}},verificationMethods:{type:"unknown"},services:{type:"unknown"}}}}}}},ComAtprotoIdentityRequestPlcOperationSignature:{lexicon:1,id:"com.atproto.identity.requestPlcOperationSignature",defs:{main:{type:"procedure",description:"Request an email with a code to in order to request a signed PLC operation. Requires Auth."}}},ComAtprotoIdentityResolveHandle:{lexicon:1,id:"com.atproto.identity.resolveHandle",defs:{main:{type:"query",description:"Resolves a handle (domain name) to a DID.",parameters:{type:"params",required:["handle"],properties:{handle:{type:"string",format:"handle",description:"The handle to resolve."}}},output:{encoding:"application/json",schema:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}}}}}},ComAtprotoIdentitySignPlcOperation:{lexicon:1,id:"com.atproto.identity.signPlcOperation",defs:{main:{type:"procedure",description:"Signs a PLC operation to update some value(s) in the requesting DID's document.",input:{encoding:"application/json",schema:{type:"object",properties:{token:{description:"A token received through com.atproto.identity.requestPlcOperationSignature",type:"string"},rotationKeys:{type:"array",items:{type:"string"}},alsoKnownAs:{type:"array",items:{type:"string"}},verificationMethods:{type:"unknown"},services:{type:"unknown"}}}},output:{encoding:"application/json",schema:{type:"object",required:["operation"],properties:{operation:{type:"unknown",description:"A signed DID PLC operation."}}}}}}},ComAtprotoIdentitySubmitPlcOperation:{lexicon:1,id:"com.atproto.identity.submitPlcOperation",defs:{main:{type:"procedure",description:"Validates a PLC operation to ensure that it doesn't violate a service's constraints or get the identity into a bad state, then submits it to the PLC registry",input:{encoding:"application/json",schema:{type:"object",required:["operation"],properties:{operation:{type:"unknown"}}}}}}},ComAtprotoIdentityUpdateHandle:{lexicon:1,id:"com.atproto.identity.updateHandle",defs:{main:{type:"procedure",description:"Updates the current account's handle. Verifies handle validity, and updates did:plc document if necessary. Implemented by PDS, and requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["handle"],properties:{handle:{type:"string",format:"handle",description:"The new handle."}}}}}}},ComAtprotoLabelDefs:{lexicon:1,id:"com.atproto.label.defs",defs:{label:{type:"object",description:"Metadata tag on an atproto resource (eg, repo or record).",required:["src","uri","val","cts"],properties:{ver:{type:"integer",description:"The AT Protocol version of the label object."},src:{type:"string",format:"did",description:"DID of the actor who created this label."},uri:{type:"string",format:"uri",description:"AT URI of the record, repository (account), or other resource that this label applies to."},cid:{type:"string",format:"cid",description:"Optionally, CID specifying the specific version of 'uri' resource this label applies to."},val:{type:"string",maxLength:128,description:"The short string name of the value or type of this label."},neg:{type:"boolean",description:"If true, this is a negation label, overwriting a previous label."},cts:{type:"string",format:"datetime",description:"Timestamp when this label was created."},exp:{type:"string",format:"datetime",description:"Timestamp at which this label expires (no longer applies)."},sig:{type:"bytes",description:"Signature of dag-cbor encoded label."}}},selfLabels:{type:"object",description:"Metadata tags on an atproto record, published by the author within the record.",required:["values"],properties:{values:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#selfLabel"},maxLength:10}}},selfLabel:{type:"object",description:"Metadata tag on an atproto record, published by the author within the record. Note that schemas should use #selfLabels, not #selfLabel.",required:["val"],properties:{val:{type:"string",maxLength:128,description:"The short string name of the value or type of this label."}}},labelValueDefinition:{type:"object",description:"Declares a label value and its expected interpretations and behaviors.",required:["identifier","severity","blurs","locales"],properties:{identifier:{type:"string",description:"The value of the label being defined. Must only include lowercase ascii and the '-' character ([a-z-]+).",maxLength:100,maxGraphemes:100},severity:{type:"string",description:"How should a client visually convey this label? 'inform' means neutral and informational; 'alert' means negative and warning; 'none' means show nothing.",knownValues:["inform","alert","none"]},blurs:{type:"string",description:"What should this label hide in the UI, if applied? 'content' hides all of the target; 'media' hides the images/video/audio; 'none' hides nothing.",knownValues:["content","media","none"]},defaultSetting:{type:"string",description:"The default setting for this label.",knownValues:["ignore","warn","hide"],default:"warn"},adultOnly:{type:"boolean",description:"Does the user need to have adult content enabled in order to configure this label?"},locales:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#labelValueDefinitionStrings"}}}},labelValueDefinitionStrings:{type:"object",description:"Strings which describe the label in the UI, localized into a specific language.",required:["lang","name","description"],properties:{lang:{type:"string",description:"The code of the language these strings are written in.",format:"language"},name:{type:"string",description:"A short human-readable name for the label.",maxGraphemes:64,maxLength:640},description:{type:"string",description:"A longer description of what the label means and why it might be applied.",maxGraphemes:1e4,maxLength:1e5}}},labelValue:{type:"string",knownValues:["!hide","!no-promote","!warn","!no-unauthenticated","dmca-violation","doxxing","porn","sexual","nudity","nsfl","gore"]}}},ComAtprotoLabelQueryLabels:{lexicon:1,id:"com.atproto.label.queryLabels",defs:{main:{type:"query",description:"Find labels relevant to the provided AT-URI patterns. Public endpoint for moderation services, though may return different or additional results with auth.",parameters:{type:"params",required:["uriPatterns"],properties:{uriPatterns:{type:"array",items:{type:"string"},description:"List of AT URI patterns to match (boolean 'OR'). Each may be a prefix (ending with '*'; will match inclusive of the string leading to '*'), or a full URI."},sources:{type:"array",items:{type:"string",format:"did"},description:"Optional list of label sources (DIDs) to filter on."},limit:{type:"integer",minimum:1,maximum:250,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["labels"],properties:{cursor:{type:"string"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}}}}}},ComAtprotoLabelSubscribeLabels:{lexicon:1,id:"com.atproto.label.subscribeLabels",defs:{main:{type:"subscription",description:"Subscribe to stream of labels (and negations). Public endpoint implemented by mod services. Uses same sequencing scheme as repo event stream.",parameters:{type:"params",properties:{cursor:{type:"integer",description:"The last known event seq number to backfill from."}}},message:{schema:{type:"union",refs:["lex:com.atproto.label.subscribeLabels#labels","lex:com.atproto.label.subscribeLabels#info"]}},errors:[{name:"FutureCursor"}]},labels:{type:"object",required:["seq","labels"],properties:{seq:{type:"integer"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}},info:{type:"object",required:["name"],properties:{name:{type:"string",knownValues:["OutdatedCursor"]},message:{type:"string"}}}}},ComAtprotoModerationCreateReport:{lexicon:1,id:"com.atproto.moderation.createReport",defs:{main:{type:"procedure",description:"Submit a moderation report regarding an atproto account or record. Implemented by moderation services (with PDS proxying), and requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["reasonType","subject"],properties:{reasonType:{type:"ref",description:"Indicates the broad category of violation the report is for.",ref:"lex:com.atproto.moderation.defs#reasonType"},reason:{type:"string",maxGraphemes:2e3,maxLength:2e4,description:"Additional context about the content and violation."},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef"]}}}},output:{encoding:"application/json",schema:{type:"object",required:["id","reasonType","subject","reportedBy","createdAt"],properties:{id:{type:"integer"},reasonType:{type:"ref",ref:"lex:com.atproto.moderation.defs#reasonType"},reason:{type:"string",maxGraphemes:2e3,maxLength:2e4},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef"]},reportedBy:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"}}}}}}},ComAtprotoModerationDefs:{lexicon:1,id:"com.atproto.moderation.defs",defs:{reasonType:{type:"string",knownValues:["com.atproto.moderation.defs#reasonSpam","com.atproto.moderation.defs#reasonViolation","com.atproto.moderation.defs#reasonMisleading","com.atproto.moderation.defs#reasonSexual","com.atproto.moderation.defs#reasonRude","com.atproto.moderation.defs#reasonOther","com.atproto.moderation.defs#reasonAppeal"]},reasonSpam:{type:"token",description:"Spam: frequent unwanted promotion, replies, mentions"},reasonViolation:{type:"token",description:"Direct violation of server rules, laws, terms of service"},reasonMisleading:{type:"token",description:"Misleading identity, affiliation, or content"},reasonSexual:{type:"token",description:"Unwanted or mislabeled sexual content"},reasonRude:{type:"token",description:"Rude, harassing, explicit, or otherwise unwelcoming behavior"},reasonOther:{type:"token",description:"Other: reports not falling under another report category"},reasonAppeal:{type:"token",description:"Appeal: appeal a previously taken moderation action"}}},ComAtprotoRepoApplyWrites:{lexicon:1,id:"com.atproto.repo.applyWrites",defs:{main:{type:"procedure",description:"Apply a batch transaction of repository creates, updates, and deletes. Requires auth, implemented by PDS.",input:{encoding:"application/json",schema:{type:"object",required:["repo","writes"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo (aka, current account)."},validate:{type:"boolean",default:!0,description:"Can be set to 'false' to skip Lexicon schema validation of record data, for all operations."},writes:{type:"array",items:{type:"union",refs:["lex:com.atproto.repo.applyWrites#create","lex:com.atproto.repo.applyWrites#update","lex:com.atproto.repo.applyWrites#delete"],closed:!0}},swapCommit:{type:"string",description:"If provided, the entire operation will fail if the current repo commit CID does not match this value. Used to prevent conflicting repo mutations.",format:"cid"}}}},errors:[{name:"InvalidSwap",description:"Indicates that the 'swapCommit' parameter did not match current commit."}]},create:{type:"object",description:"Operation which creates a new record.",required:["collection","value"],properties:{collection:{type:"string",format:"nsid"},rkey:{type:"string",maxLength:15},value:{type:"unknown"}}},update:{type:"object",description:"Operation which updates an existing record.",required:["collection","rkey","value"],properties:{collection:{type:"string",format:"nsid"},rkey:{type:"string"},value:{type:"unknown"}}},delete:{type:"object",description:"Operation which deletes an existing record.",required:["collection","rkey"],properties:{collection:{type:"string",format:"nsid"},rkey:{type:"string"}}}}},ComAtprotoRepoCreateRecord:{lexicon:1,id:"com.atproto.repo.createRecord",defs:{main:{type:"procedure",description:"Create a single new repository record. Requires auth, implemented by PDS.",input:{encoding:"application/json",schema:{type:"object",required:["repo","collection","record"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo (aka, current account)."},collection:{type:"string",format:"nsid",description:"The NSID of the record collection."},rkey:{type:"string",description:"The Record Key.",maxLength:15},validate:{type:"boolean",default:!0,description:"Can be set to 'false' to skip Lexicon schema validation of record data."},record:{type:"unknown",description:"The record itself. Must contain a $type field."},swapCommit:{type:"string",format:"cid",description:"Compare and swap with the previous commit by CID."}}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","cid"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"}}}},errors:[{name:"InvalidSwap",description:"Indicates that 'swapCommit' didn't match current repo commit."}]}}},ComAtprotoRepoDeleteRecord:{lexicon:1,id:"com.atproto.repo.deleteRecord",defs:{main:{type:"procedure",description:"Delete a repository record, or ensure it doesn't exist. Requires auth, implemented by PDS.",input:{encoding:"application/json",schema:{type:"object",required:["repo","collection","rkey"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo (aka, current account)."},collection:{type:"string",format:"nsid",description:"The NSID of the record collection."},rkey:{type:"string",description:"The Record Key."},swapRecord:{type:"string",format:"cid",description:"Compare and swap with the previous record by CID."},swapCommit:{type:"string",format:"cid",description:"Compare and swap with the previous commit by CID."}}}},errors:[{name:"InvalidSwap"}]}}},ComAtprotoRepoDescribeRepo:{lexicon:1,id:"com.atproto.repo.describeRepo",defs:{main:{type:"query",description:"Get information about an account and repository, including the list of collections. Does not require auth.",parameters:{type:"params",required:["repo"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."}}},output:{encoding:"application/json",schema:{type:"object",required:["handle","did","didDoc","collections","handleIsCorrect"],properties:{handle:{type:"string",format:"handle"},did:{type:"string",format:"did"},didDoc:{type:"unknown",description:"The complete DID document for this account."},collections:{type:"array",description:"List of all the collections (NSIDs) for which this repo contains at least one record.",items:{type:"string",format:"nsid"}},handleIsCorrect:{type:"boolean",description:"Indicates if handle is currently valid (resolves bi-directionally)"}}}}}}},ComAtprotoRepoGetRecord:{lexicon:1,id:"com.atproto.repo.getRecord",defs:{main:{type:"query",description:"Get a single record from a repository. Does not require auth.",parameters:{type:"params",required:["repo","collection","rkey"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."},collection:{type:"string",format:"nsid",description:"The NSID of the record collection."},rkey:{type:"string",description:"The Record Key."},cid:{type:"string",format:"cid",description:"The CID of the version of the record. If not specified, then return the most recent version."}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","value"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},value:{type:"unknown"}}}}}}},ComAtprotoRepoImportRepo:{lexicon:1,id:"com.atproto.repo.importRepo",defs:{main:{type:"procedure",description:"Import a repo in the form of a CAR file. Requires Content-Length HTTP header to be set.",input:{encoding:"application/vnd.ipld.car"}}}},ComAtprotoRepoListMissingBlobs:{lexicon:1,id:"com.atproto.repo.listMissingBlobs",defs:{main:{type:"query",description:"Returns a list of missing blobs for the requesting account. Intended to be used in the account migration flow.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:1e3,default:500},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["blobs"],properties:{cursor:{type:"string"},blobs:{type:"array",items:{type:"ref",ref:"lex:com.atproto.repo.listMissingBlobs#recordBlob"}}}}}},recordBlob:{type:"object",required:["cid","recordUri"],properties:{cid:{type:"string",format:"cid"},recordUri:{type:"string",format:"at-uri"}}}}},ComAtprotoRepoListRecords:{lexicon:1,id:"com.atproto.repo.listRecords",defs:{main:{type:"query",description:"List a range of records in a repository, matching a specific collection. Does not require auth.",parameters:{type:"params",required:["repo","collection"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo."},collection:{type:"string",format:"nsid",description:"The NSID of the record type."},limit:{type:"integer",minimum:1,maximum:100,default:50,description:"The number of records to return."},cursor:{type:"string"},rkeyStart:{type:"string",description:"DEPRECATED: The lowest sort-ordered rkey to start from (exclusive)"},rkeyEnd:{type:"string",description:"DEPRECATED: The highest sort-ordered rkey to stop at (exclusive)"},reverse:{type:"boolean",description:"Flag to reverse the order of the returned records."}}},output:{encoding:"application/json",schema:{type:"object",required:["records"],properties:{cursor:{type:"string"},records:{type:"array",items:{type:"ref",ref:"lex:com.atproto.repo.listRecords#record"}}}}}},record:{type:"object",required:["uri","cid","value"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},value:{type:"unknown"}}}}},ComAtprotoRepoPutRecord:{lexicon:1,id:"com.atproto.repo.putRecord",defs:{main:{type:"procedure",description:"Write a repository record, creating or updating it as needed. Requires auth, implemented by PDS.",input:{encoding:"application/json",schema:{type:"object",required:["repo","collection","rkey","record"],nullable:["swapRecord"],properties:{repo:{type:"string",format:"at-identifier",description:"The handle or DID of the repo (aka, current account)."},collection:{type:"string",format:"nsid",description:"The NSID of the record collection."},rkey:{type:"string",description:"The Record Key.",maxLength:15},validate:{type:"boolean",default:!0,description:"Can be set to 'false' to skip Lexicon schema validation of record data."},record:{type:"unknown",description:"The record to write."},swapRecord:{type:"string",format:"cid",description:"Compare and swap with the previous record by CID. WARNING: nullable and optional field; may cause problems with golang implementation"},swapCommit:{type:"string",format:"cid",description:"Compare and swap with the previous commit by CID."}}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","cid"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"}}}},errors:[{name:"InvalidSwap"}]}}},ComAtprotoRepoStrongRef:{lexicon:1,id:"com.atproto.repo.strongRef",description:"A URI with a content-hash fingerprint.",defs:{main:{type:"object",required:["uri","cid"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"}}}}},ComAtprotoRepoUploadBlob:{lexicon:1,id:"com.atproto.repo.uploadBlob",defs:{main:{type:"procedure",description:"Upload a new blob, to be referenced from a repository record. The blob will be deleted if it is not referenced within a time window (eg, minutes). Blob restrictions (mimetype, size, etc) are enforced when the reference is created. Requires auth, implemented by PDS.",input:{encoding:"*/*"},output:{encoding:"application/json",schema:{type:"object",required:["blob"],properties:{blob:{type:"blob"}}}}}}},ComAtprotoServerActivateAccount:{lexicon:1,id:"com.atproto.server.activateAccount",defs:{main:{type:"procedure",description:"Activates a currently deactivated account. Used to finalize account migration after the account's repo is imported and identity is setup."}}},ComAtprotoServerCheckAccountStatus:{lexicon:1,id:"com.atproto.server.checkAccountStatus",defs:{main:{type:"query",description:"Returns the status of an account, especially as pertaining to import or recovery. Can be called many times over the course of an account migration. Requires auth and can only be called pertaining to oneself.",output:{encoding:"application/json",schema:{type:"object",required:["activated","validDid","repoCommit","repoRev","repoBlocks","indexedRecords","privateStateValues","expectedBlobs","importedBlobs"],properties:{activated:{type:"boolean"},validDid:{type:"boolean"},repoCommit:{type:"string",format:"cid"},repoRev:{type:"string"},repoBlocks:{type:"integer"},indexedRecords:{type:"integer"},privateStateValues:{type:"integer"},expectedBlobs:{type:"integer"},importedBlobs:{type:"integer"}}}}}}},ComAtprotoServerConfirmEmail:{lexicon:1,id:"com.atproto.server.confirmEmail",defs:{main:{type:"procedure",description:"Confirm an email using a token from com.atproto.server.requestEmailConfirmation.",input:{encoding:"application/json",schema:{type:"object",required:["email","token"],properties:{email:{type:"string"},token:{type:"string"}}}},errors:[{name:"AccountNotFound"},{name:"ExpiredToken"},{name:"InvalidToken"},{name:"InvalidEmail"}]}}},ComAtprotoServerCreateAccount:{lexicon:1,id:"com.atproto.server.createAccount",defs:{main:{type:"procedure",description:"Create an account. Implemented by PDS.",input:{encoding:"application/json",schema:{type:"object",required:["handle"],properties:{email:{type:"string"},handle:{type:"string",format:"handle",description:"Requested handle for the account."},did:{type:"string",format:"did",description:"Pre-existing atproto DID, being imported to a new account."},inviteCode:{type:"string"},verificationCode:{type:"string"},verificationPhone:{type:"string"},password:{type:"string",description:"Initial account password. May need to meet instance-specific password strength requirements."},recoveryKey:{type:"string",description:"DID PLC rotation key (aka, recovery key) to be included in PLC creation operation."},plcOp:{type:"unknown",description:"A signed DID PLC operation to be submitted as part of importing an existing account to this instance. NOTE: this optional field may be updated when full account migration is implemented."}}}},output:{encoding:"application/json",schema:{type:"object",description:"Account login session returned on successful account creation.",required:["accessJwt","refreshJwt","handle","did"],properties:{accessJwt:{type:"string"},refreshJwt:{type:"string"},handle:{type:"string",format:"handle"},did:{type:"string",format:"did",description:"The DID of the new account."},didDoc:{type:"unknown",description:"Complete DID document."}}}},errors:[{name:"InvalidHandle"},{name:"InvalidPassword"},{name:"InvalidInviteCode"},{name:"HandleNotAvailable"},{name:"UnsupportedDomain"},{name:"UnresolvableDid"},{name:"IncompatibleDidDoc"}]}}},ComAtprotoServerCreateAppPassword:{lexicon:1,id:"com.atproto.server.createAppPassword",defs:{main:{type:"procedure",description:"Create an App Password.",input:{encoding:"application/json",schema:{type:"object",required:["name"],properties:{name:{type:"string",description:"A short name for the App Password, to help distinguish them."},privileged:{type:"boolean",description:"If an app password has 'privileged' access to possibly sensitive account state. Meant for use with trusted clients."}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:com.atproto.server.createAppPassword#appPassword"}},errors:[{name:"AccountTakedown"}]},appPassword:{type:"object",required:["name","password","createdAt"],properties:{name:{type:"string"},password:{type:"string"},createdAt:{type:"string",format:"datetime"},privileged:{type:"boolean"}}}}},ComAtprotoServerCreateInviteCode:{lexicon:1,id:"com.atproto.server.createInviteCode",defs:{main:{type:"procedure",description:"Create an invite code.",input:{encoding:"application/json",schema:{type:"object",required:["useCount"],properties:{useCount:{type:"integer"},forAccount:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"object",required:["code"],properties:{code:{type:"string"}}}}}}},ComAtprotoServerCreateInviteCodes:{lexicon:1,id:"com.atproto.server.createInviteCodes",defs:{main:{type:"procedure",description:"Create invite codes.",input:{encoding:"application/json",schema:{type:"object",required:["codeCount","useCount"],properties:{codeCount:{type:"integer",default:1},useCount:{type:"integer"},forAccounts:{type:"array",items:{type:"string",format:"did"}}}}},output:{encoding:"application/json",schema:{type:"object",required:["codes"],properties:{codes:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.createInviteCodes#accountCodes"}}}}}},accountCodes:{type:"object",required:["account","codes"],properties:{account:{type:"string"},codes:{type:"array",items:{type:"string"}}}}}},ComAtprotoServerCreateSession:{lexicon:1,id:"com.atproto.server.createSession",defs:{main:{type:"procedure",description:"Create an authentication session.",input:{encoding:"application/json",schema:{type:"object",required:["identifier","password"],properties:{identifier:{type:"string",description:"Handle or other identifier supported by the server for the authenticating user."},password:{type:"string"},authFactorToken:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"object",required:["accessJwt","refreshJwt","handle","did"],properties:{accessJwt:{type:"string"},refreshJwt:{type:"string"},handle:{type:"string",format:"handle"},did:{type:"string",format:"did"},didDoc:{type:"unknown"},email:{type:"string"},emailConfirmed:{type:"boolean"},emailAuthFactor:{type:"boolean"},active:{type:"boolean"},status:{type:"string",description:"If active=false, this optional field indicates a possible reason for why the account is not active. If active=false and no status is supplied, then the host makes no claim for why the repository is no longer being hosted.",knownValues:["takendown","suspended","deactivated"]}}}},errors:[{name:"AccountTakedown"},{name:"AuthFactorTokenRequired"}]}}},ComAtprotoServerDeactivateAccount:{lexicon:1,id:"com.atproto.server.deactivateAccount",defs:{main:{type:"procedure",description:"Deactivates a currently active account. Stops serving of repo, and future writes to repo until reactivated. Used to finalize account migration with the old host after the account has been activated on the new host.",input:{encoding:"application/json",schema:{type:"object",properties:{deleteAfter:{type:"string",format:"datetime",description:"A recommendation to server as to how long they should hold onto the deactivated account before deleting."}}}}}}},ComAtprotoServerDefs:{lexicon:1,id:"com.atproto.server.defs",defs:{inviteCode:{type:"object",required:["code","available","disabled","forAccount","createdBy","createdAt","uses"],properties:{code:{type:"string"},available:{type:"integer"},disabled:{type:"boolean"},forAccount:{type:"string"},createdBy:{type:"string"},createdAt:{type:"string",format:"datetime"},uses:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCodeUse"}}}},inviteCodeUse:{type:"object",required:["usedBy","usedAt"],properties:{usedBy:{type:"string",format:"did"},usedAt:{type:"string",format:"datetime"}}}}},ComAtprotoServerDeleteAccount:{lexicon:1,id:"com.atproto.server.deleteAccount",defs:{main:{type:"procedure",description:"Delete an actor's account with a token and password. Can only be called after requesting a deletion token. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["did","password","token"],properties:{did:{type:"string",format:"did"},password:{type:"string"},token:{type:"string"}}}},errors:[{name:"ExpiredToken"},{name:"InvalidToken"}]}}},ComAtprotoServerDeleteSession:{lexicon:1,id:"com.atproto.server.deleteSession",defs:{main:{type:"procedure",description:"Delete the current session. Requires auth."}}},ComAtprotoServerDescribeServer:{lexicon:1,id:"com.atproto.server.describeServer",defs:{main:{type:"query",description:"Describes the server's account creation requirements and capabilities. Implemented by PDS.",output:{encoding:"application/json",schema:{type:"object",required:["did","availableUserDomains"],properties:{inviteCodeRequired:{type:"boolean",description:"If true, an invite code must be supplied to create an account on this instance."},phoneVerificationRequired:{type:"boolean",description:"If true, a phone verification token must be supplied to create an account on this instance."},availableUserDomains:{type:"array",description:"List of domain suffixes that can be used in account handles.",items:{type:"string"}},links:{type:"ref",description:"URLs of service policy documents.",ref:"lex:com.atproto.server.describeServer#links"},contact:{type:"ref",description:"Contact information",ref:"lex:com.atproto.server.describeServer#contact"},did:{type:"string",format:"did"}}}}},links:{type:"object",properties:{privacyPolicy:{type:"string",format:"uri"},termsOfService:{type:"string",format:"uri"}}},contact:{type:"object",properties:{email:{type:"string"}}}}},ComAtprotoServerGetAccountInviteCodes:{lexicon:1,id:"com.atproto.server.getAccountInviteCodes",defs:{main:{type:"query",description:"Get all invite codes for the current account. Requires auth.",parameters:{type:"params",properties:{includeUsed:{type:"boolean",default:!0},createAvailable:{type:"boolean",default:!0,description:"Controls whether any new 'earned' but not 'created' invites should be created."}}},output:{encoding:"application/json",schema:{type:"object",required:["codes"],properties:{codes:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"}}}}},errors:[{name:"DuplicateCreate"}]}}},ComAtprotoServerGetServiceAuth:{lexicon:1,id:"com.atproto.server.getServiceAuth",defs:{main:{type:"query",description:"Get a signed token on behalf of the requesting DID for the requested service.",parameters:{type:"params",required:["aud"],properties:{aud:{type:"string",format:"did",description:"The DID of the service that the token will be used to authenticate with"},exp:{type:"integer",description:"The time in Unix Epoch seconds that the JWT expires. Defaults to 60 seconds in the future. The service may enforce certain time bounds on tokens depending on the requested scope."},lxm:{type:"string",format:"nsid",description:"Lexicon (XRPC) method to bind the requested token to"}}},output:{encoding:"application/json",schema:{type:"object",required:["token"],properties:{token:{type:"string"}}}},errors:[{name:"BadExpiration",description:"Indicates that the requested expiration date is not a valid. May be in the past or may be reliant on the requested scopes."}]}}},ComAtprotoServerGetSession:{lexicon:1,id:"com.atproto.server.getSession",defs:{main:{type:"query",description:"Get information about the current auth session. Requires auth.",output:{encoding:"application/json",schema:{type:"object",required:["handle","did"],properties:{handle:{type:"string",format:"handle"},did:{type:"string",format:"did"},email:{type:"string"},emailConfirmed:{type:"boolean"},emailAuthFactor:{type:"boolean"},didDoc:{type:"unknown"},active:{type:"boolean"},status:{type:"string",description:"If active=false, this optional field indicates a possible reason for why the account is not active. If active=false and no status is supplied, then the host makes no claim for why the repository is no longer being hosted.",knownValues:["takendown","suspended","deactivated"]}}}}}}},ComAtprotoServerListAppPasswords:{lexicon:1,id:"com.atproto.server.listAppPasswords",defs:{main:{type:"query",description:"List all App Passwords.",output:{encoding:"application/json",schema:{type:"object",required:["passwords"],properties:{passwords:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.listAppPasswords#appPassword"}}}}},errors:[{name:"AccountTakedown"}]},appPassword:{type:"object",required:["name","createdAt"],properties:{name:{type:"string"},createdAt:{type:"string",format:"datetime"},privileged:{type:"boolean"}}}}},ComAtprotoServerRefreshSession:{lexicon:1,id:"com.atproto.server.refreshSession",defs:{main:{type:"procedure",description:"Refresh an authentication session. Requires auth using the 'refreshJwt' (not the 'accessJwt').",output:{encoding:"application/json",schema:{type:"object",required:["accessJwt","refreshJwt","handle","did"],properties:{accessJwt:{type:"string"},refreshJwt:{type:"string"},handle:{type:"string",format:"handle"},did:{type:"string",format:"did"},didDoc:{type:"unknown"},active:{type:"boolean"},status:{type:"string",description:"Hosting status of the account. If not specified, then assume 'active'.",knownValues:["takendown","suspended","deactivated"]}}}},errors:[{name:"AccountTakedown"}]}}},ComAtprotoServerRequestAccountDelete:{lexicon:1,id:"com.atproto.server.requestAccountDelete",defs:{main:{type:"procedure",description:"Initiate a user account deletion via email."}}},ComAtprotoServerRequestEmailConfirmation:{lexicon:1,id:"com.atproto.server.requestEmailConfirmation",defs:{main:{type:"procedure",description:"Request an email with a code to confirm ownership of email."}}},ComAtprotoServerRequestEmailUpdate:{lexicon:1,id:"com.atproto.server.requestEmailUpdate",defs:{main:{type:"procedure",description:"Request a token in order to update email.",output:{encoding:"application/json",schema:{type:"object",required:["tokenRequired"],properties:{tokenRequired:{type:"boolean"}}}}}}},ComAtprotoServerRequestPasswordReset:{lexicon:1,id:"com.atproto.server.requestPasswordReset",defs:{main:{type:"procedure",description:"Initiate a user account password reset via email.",input:{encoding:"application/json",schema:{type:"object",required:["email"],properties:{email:{type:"string"}}}}}}},ComAtprotoServerReserveSigningKey:{lexicon:1,id:"com.atproto.server.reserveSigningKey",defs:{main:{type:"procedure",description:"Reserve a repo signing key, for use with account creation. Necessary so that a DID PLC update operation can be constructed during an account migraiton. Public and does not require auth; implemented by PDS. NOTE: this endpoint may change when full account migration is implemented.",input:{encoding:"application/json",schema:{type:"object",properties:{did:{type:"string",format:"did",description:"The DID to reserve a key for."}}}},output:{encoding:"application/json",schema:{type:"object",required:["signingKey"],properties:{signingKey:{type:"string",description:"The public key for the reserved signing key, in did:key serialization."}}}}}}},ComAtprotoServerResetPassword:{lexicon:1,id:"com.atproto.server.resetPassword",defs:{main:{type:"procedure",description:"Reset a user account password using a token.",input:{encoding:"application/json",schema:{type:"object",required:["token","password"],properties:{token:{type:"string"},password:{type:"string"}}}},errors:[{name:"ExpiredToken"},{name:"InvalidToken"}]}}},ComAtprotoServerRevokeAppPassword:{lexicon:1,id:"com.atproto.server.revokeAppPassword",defs:{main:{type:"procedure",description:"Revoke an App Password by name.",input:{encoding:"application/json",schema:{type:"object",required:["name"],properties:{name:{type:"string"}}}}}}},ComAtprotoServerUpdateEmail:{lexicon:1,id:"com.atproto.server.updateEmail",defs:{main:{type:"procedure",description:"Update an account's email.",input:{encoding:"application/json",schema:{type:"object",required:["email"],properties:{email:{type:"string"},emailAuthFactor:{type:"boolean"},token:{type:"string",description:"Requires a token from com.atproto.sever.requestEmailUpdate if the account's email has been confirmed."}}}},errors:[{name:"ExpiredToken"},{name:"InvalidToken"},{name:"TokenRequired"}]}}},ComAtprotoSyncGetBlob:{lexicon:1,id:"com.atproto.sync.getBlob",defs:{main:{type:"query",description:"Get a blob associated with a given account. Returns the full blob as originally uploaded. Does not require auth; implemented by PDS.",parameters:{type:"params",required:["did","cid"],properties:{did:{type:"string",format:"did",description:"The DID of the account."},cid:{type:"string",format:"cid",description:"The CID of the blob to fetch"}}},output:{encoding:"*/*"},errors:[{name:"BlobNotFound"},{name:"RepoNotFound"},{name:"RepoTakendown"},{name:"RepoSuspended"},{name:"RepoDeactivated"}]}}},ComAtprotoSyncGetBlocks:{lexicon:1,id:"com.atproto.sync.getBlocks",defs:{main:{type:"query",description:"Get data blocks from a given repo, by CID. For example, intermediate MST nodes, or records. Does not require auth; implemented by PDS.",parameters:{type:"params",required:["did","cids"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},cids:{type:"array",items:{type:"string",format:"cid"}}}},output:{encoding:"application/vnd.ipld.car"},errors:[{name:"BlockNotFound"},{name:"RepoNotFound"},{name:"RepoTakendown"},{name:"RepoSuspended"},{name:"RepoDeactivated"}]}}},ComAtprotoSyncGetCheckout:{lexicon:1,id:"com.atproto.sync.getCheckout",defs:{main:{type:"query",description:"DEPRECATED - please use com.atproto.sync.getRepo instead",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."}}},output:{encoding:"application/vnd.ipld.car"}}}},ComAtprotoSyncGetHead:{lexicon:1,id:"com.atproto.sync.getHead",defs:{main:{type:"query",description:"DEPRECATED - please use com.atproto.sync.getLatestCommit instead",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."}}},output:{encoding:"application/json",schema:{type:"object",required:["root"],properties:{root:{type:"string",format:"cid"}}}},errors:[{name:"HeadNotFound"}]}}},ComAtprotoSyncGetLatestCommit:{lexicon:1,id:"com.atproto.sync.getLatestCommit",defs:{main:{type:"query",description:"Get the current commit CID & revision of the specified repo. Does not require auth.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."}}},output:{encoding:"application/json",schema:{type:"object",required:["cid","rev"],properties:{cid:{type:"string",format:"cid"},rev:{type:"string"}}}},errors:[{name:"RepoNotFound"},{name:"RepoTakendown"},{name:"RepoSuspended"},{name:"RepoDeactivated"}]}}},ComAtprotoSyncGetRecord:{lexicon:1,id:"com.atproto.sync.getRecord",defs:{main:{type:"query",description:"Get data blocks needed to prove the existence or non-existence of record in the current version of repo. Does not require auth.",parameters:{type:"params",required:["did","collection","rkey"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},collection:{type:"string",format:"nsid"},rkey:{type:"string",description:"Record Key"},commit:{type:"string",format:"cid",description:"DEPRECATED: referenced a repo commit by CID, and retrieved record as of that commit"}}},output:{encoding:"application/vnd.ipld.car"},errors:[{name:"RecordNotFound"},{name:"RepoNotFound"},{name:"RepoTakendown"},{name:"RepoSuspended"},{name:"RepoDeactivated"}]}}},ComAtprotoSyncGetRepo:{lexicon:1,id:"com.atproto.sync.getRepo",defs:{main:{type:"query",description:"Download a repository export as CAR file. Optionally only a 'diff' since a previous revision. Does not require auth; implemented by PDS.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},since:{type:"string",description:"The revision ('rev') of the repo to create a diff from."}}},output:{encoding:"application/vnd.ipld.car"},errors:[{name:"RepoNotFound"},{name:"RepoTakendown"},{name:"RepoSuspended"},{name:"RepoDeactivated"}]}}},ComAtprotoSyncGetRepoStatus:{lexicon:1,id:"com.atproto.sync.getRepoStatus",defs:{main:{type:"query",description:"Get the hosting status for a repository, on this server. Expected to be implemented by PDS and Relay.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."}}},output:{encoding:"application/json",schema:{type:"object",required:["did","active"],properties:{did:{type:"string",format:"did"},active:{type:"boolean"},status:{type:"string",description:"If active=false, this optional field indicates a possible reason for why the account is not active. If active=false and no status is supplied, then the host makes no claim for why the repository is no longer being hosted.",knownValues:["takendown","suspended","deactivated"]},rev:{type:"string",description:"Optional field, the current rev of the repo, if active=true"}}}},errors:[{name:"RepoNotFound"}]}}},ComAtprotoSyncListBlobs:{lexicon:1,id:"com.atproto.sync.listBlobs",defs:{main:{type:"query",description:"List blob CIDs for an account, since some repo revision. Does not require auth; implemented by PDS.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did",description:"The DID of the repo."},since:{type:"string",description:"Optional revision of the repo to list blobs since."},limit:{type:"integer",minimum:1,maximum:1e3,default:500},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["cids"],properties:{cursor:{type:"string"},cids:{type:"array",items:{type:"string",format:"cid"}}}}},errors:[{name:"RepoNotFound"},{name:"RepoTakendown"},{name:"RepoSuspended"},{name:"RepoDeactivated"}]}}},ComAtprotoSyncListRepos:{lexicon:1,id:"com.atproto.sync.listRepos",defs:{main:{type:"query",description:"Enumerates all the DID, rev, and commit CID for all repos hosted by this service. Does not require auth; implemented by PDS and Relay.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:1e3,default:500},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["repos"],properties:{cursor:{type:"string"},repos:{type:"array",items:{type:"ref",ref:"lex:com.atproto.sync.listRepos#repo"}}}}}},repo:{type:"object",required:["did","head","rev"],properties:{did:{type:"string",format:"did"},head:{type:"string",format:"cid",description:"Current repo commit CID"},rev:{type:"string"},active:{type:"boolean"},status:{type:"string",description:"If active=false, this optional field indicates a possible reason for why the account is not active. If active=false and no status is supplied, then the host makes no claim for why the repository is no longer being hosted.",knownValues:["takendown","suspended","deactivated"]}}}}},ComAtprotoSyncNotifyOfUpdate:{lexicon:1,id:"com.atproto.sync.notifyOfUpdate",defs:{main:{type:"procedure",description:"Notify a crawling service of a recent update, and that crawling should resume. Intended use is after a gap between repo stream events caused the crawling service to disconnect. Does not require auth; implemented by Relay.",input:{encoding:"application/json",schema:{type:"object",required:["hostname"],properties:{hostname:{type:"string",description:"Hostname of the current service (usually a PDS) that is notifying of update."}}}}}}},ComAtprotoSyncRequestCrawl:{lexicon:1,id:"com.atproto.sync.requestCrawl",defs:{main:{type:"procedure",description:"Request a service to persistently crawl hosted repos. Expected use is new PDS instances declaring their existence to Relays. Does not require auth.",input:{encoding:"application/json",schema:{type:"object",required:["hostname"],properties:{hostname:{type:"string",description:"Hostname of the current service (eg, PDS) that is requesting to be crawled."}}}}}}},ComAtprotoSyncSubscribeRepos:{lexicon:1,id:"com.atproto.sync.subscribeRepos",defs:{main:{type:"subscription",description:"Repository event stream, aka Firehose endpoint. Outputs repo commits with diff data, and identity update events, for all repositories on the current server. See the atproto specifications for details around stream sequencing, repo versioning, CAR diff format, and more. Public and does not require auth; implemented by PDS and Relay.",parameters:{type:"params",properties:{cursor:{type:"integer",description:"The last known event seq number to backfill from."}}},message:{schema:{type:"union",refs:["lex:com.atproto.sync.subscribeRepos#commit","lex:com.atproto.sync.subscribeRepos#identity","lex:com.atproto.sync.subscribeRepos#account","lex:com.atproto.sync.subscribeRepos#handle","lex:com.atproto.sync.subscribeRepos#migrate","lex:com.atproto.sync.subscribeRepos#tombstone","lex:com.atproto.sync.subscribeRepos#info"]}},errors:[{name:"FutureCursor"},{name:"ConsumerTooSlow",description:"If the consumer of the stream can not keep up with events, and a backlog gets too large, the server will drop the connection."}]},commit:{type:"object",description:"Represents an update of repository state. Note that empty commits are allowed, which include no repo data changes, but an update to rev and signature.",required:["seq","rebase","tooBig","repo","commit","rev","since","blocks","ops","blobs","time"],nullable:["prev","since"],properties:{seq:{type:"integer",description:"The stream sequence number of this message."},rebase:{type:"boolean",description:"DEPRECATED -- unused"},tooBig:{type:"boolean",description:"Indicates that this commit contained too many ops, or data size was too large. Consumers will need to make a separate request to get missing data."},repo:{type:"string",format:"did",description:"The repo this event comes from."},commit:{type:"cid-link",description:"Repo commit object CID."},prev:{type:"cid-link",description:"DEPRECATED -- unused. WARNING -- nullable and optional; stick with optional to ensure golang interoperability."},rev:{type:"string",description:"The rev of the emitted commit. Note that this information is also in the commit object included in blocks, unless this is a tooBig event."},since:{type:"string",description:"The rev of the last emitted commit from this repo (if any)."},blocks:{type:"bytes",description:"CAR file containing relevant blocks, as a diff since the previous repo state.",maxLength:1e6},ops:{type:"array",items:{type:"ref",ref:"lex:com.atproto.sync.subscribeRepos#repoOp",description:"List of repo mutation operations in this commit (eg, records created, updated, or deleted)."},maxLength:200},blobs:{type:"array",items:{type:"cid-link",description:"List of new blobs (by CID) referenced by records in this commit."}},time:{type:"string",format:"datetime",description:"Timestamp of when this message was originally broadcast."}}},identity:{type:"object",description:"Represents a change to an account's identity. Could be an updated handle, signing key, or pds hosting endpoint. Serves as a prod to all downstream services to refresh their identity cache.",required:["seq","did","time"],properties:{seq:{type:"integer"},did:{type:"string",format:"did"},time:{type:"string",format:"datetime"},handle:{type:"string",format:"handle",description:"The current handle for the account, or 'handle.invalid' if validation fails. This field is optional, might have been validated or passed-through from an upstream source. Semantics and behaviors for PDS vs Relay may evolve in the future; see atproto specs for more details."}}},account:{type:"object",description:"Represents a change to an account's status on a host (eg, PDS or Relay). The semantics of this event are that the status is at the host which emitted the event, not necessarily that at the currently active PDS. Eg, a Relay takedown would emit a takedown with active=false, even if the PDS is still active.",required:["seq","did","time","active"],properties:{seq:{type:"integer"},did:{type:"string",format:"did"},time:{type:"string",format:"datetime"},active:{type:"boolean",description:"Indicates that the account has a repository which can be fetched from the host that emitted this event."},status:{type:"string",description:"If active=false, this optional field indicates a reason for why the account is not active.",knownValues:["takendown","suspended","deleted","deactivated"]}}},handle:{type:"object",description:"DEPRECATED -- Use #identity event instead",required:["seq","did","handle","time"],properties:{seq:{type:"integer"},did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},time:{type:"string",format:"datetime"}}},migrate:{type:"object",description:"DEPRECATED -- Use #account event instead",required:["seq","did","migrateTo","time"],nullable:["migrateTo"],properties:{seq:{type:"integer"},did:{type:"string",format:"did"},migrateTo:{type:"string"},time:{type:"string",format:"datetime"}}},tombstone:{type:"object",description:"DEPRECATED -- Use #account event instead",required:["seq","did","time"],properties:{seq:{type:"integer"},did:{type:"string",format:"did"},time:{type:"string",format:"datetime"}}},info:{type:"object",required:["name"],properties:{name:{type:"string",knownValues:["OutdatedCursor"]},message:{type:"string"}}},repoOp:{type:"object",description:"A repo operation, ie a mutation of a single record.",required:["action","path","cid"],nullable:["cid"],properties:{action:{type:"string",knownValues:["create","update","delete"]},path:{type:"string"},cid:{type:"cid-link",description:"For creates and updates, the new record CID. For deletions, null."}}}}},ComAtprotoTempCheckSignupQueue:{lexicon:1,id:"com.atproto.temp.checkSignupQueue",defs:{main:{type:"query",description:"Check accounts location in signup queue.",output:{encoding:"application/json",schema:{type:"object",required:["activated"],properties:{activated:{type:"boolean"},placeInQueue:{type:"integer"},estimatedTimeMs:{type:"integer"}}}}}}},ComAtprotoTempFetchLabels:{lexicon:1,id:"com.atproto.temp.fetchLabels",defs:{main:{type:"query",description:"DEPRECATED: use queryLabels or subscribeLabels instead -- Fetch all labels from a labeler created after a certain date.",parameters:{type:"params",properties:{since:{type:"integer"},limit:{type:"integer",minimum:1,maximum:250,default:50}}},output:{encoding:"application/json",schema:{type:"object",required:["labels"],properties:{labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}}}}}},ComAtprotoTempRequestPhoneVerification:{lexicon:1,id:"com.atproto.temp.requestPhoneVerification",defs:{main:{type:"procedure",description:"Request a verification code to be sent to the supplied phone number",input:{encoding:"application/json",schema:{type:"object",required:["phoneNumber"],properties:{phoneNumber:{type:"string"}}}}}}},AppBskyActorDefs:{lexicon:1,id:"app.bsky.actor.defs",defs:{profileViewBasic:{type:"object",required:["did","handle"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},displayName:{type:"string",maxGraphemes:64,maxLength:640},avatar:{type:"string",format:"uri"},associated:{type:"ref",ref:"lex:app.bsky.actor.defs#profileAssociated"},viewer:{type:"ref",ref:"lex:app.bsky.actor.defs#viewerState"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},createdAt:{type:"string",format:"datetime"}}},profileView:{type:"object",required:["did","handle"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},displayName:{type:"string",maxGraphemes:64,maxLength:640},description:{type:"string",maxGraphemes:256,maxLength:2560},avatar:{type:"string",format:"uri"},associated:{type:"ref",ref:"lex:app.bsky.actor.defs#profileAssociated"},indexedAt:{type:"string",format:"datetime"},createdAt:{type:"string",format:"datetime"},viewer:{type:"ref",ref:"lex:app.bsky.actor.defs#viewerState"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}},profileViewDetailed:{type:"object",required:["did","handle"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},displayName:{type:"string",maxGraphemes:64,maxLength:640},description:{type:"string",maxGraphemes:256,maxLength:2560},avatar:{type:"string",format:"uri"},banner:{type:"string",format:"uri"},followersCount:{type:"integer"},followsCount:{type:"integer"},postsCount:{type:"integer"},associated:{type:"ref",ref:"lex:app.bsky.actor.defs#profileAssociated"},joinedViaStarterPack:{type:"ref",ref:"lex:app.bsky.graph.defs#starterPackViewBasic"},indexedAt:{type:"string",format:"datetime"},createdAt:{type:"string",format:"datetime"},viewer:{type:"ref",ref:"lex:app.bsky.actor.defs#viewerState"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}},profileAssociated:{type:"object",properties:{lists:{type:"integer"},feedgens:{type:"integer"},starterPacks:{type:"integer"},labeler:{type:"boolean"},chat:{type:"ref",ref:"lex:app.bsky.actor.defs#profileAssociatedChat"}}},profileAssociatedChat:{type:"object",required:["allowIncoming"],properties:{allowIncoming:{type:"string",knownValues:["all","none","following"]}}},viewerState:{type:"object",description:"Metadata about the requesting account's relationship with the subject account. Only has meaningful content for authed requests.",properties:{muted:{type:"boolean"},mutedByList:{type:"ref",ref:"lex:app.bsky.graph.defs#listViewBasic"},blockedBy:{type:"boolean"},blocking:{type:"string",format:"at-uri"},blockingByList:{type:"ref",ref:"lex:app.bsky.graph.defs#listViewBasic"},following:{type:"string",format:"at-uri"},followedBy:{type:"string",format:"at-uri"},knownFollowers:{type:"ref",ref:"lex:app.bsky.actor.defs#knownFollowers"}}},knownFollowers:{type:"object",description:"The subject's followers whom you also follow",required:["count","followers"],properties:{count:{type:"integer"},followers:{type:"array",minLength:0,maxLength:5,items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"}}}},preferences:{type:"array",items:{type:"union",refs:["lex:app.bsky.actor.defs#adultContentPref","lex:app.bsky.actor.defs#contentLabelPref","lex:app.bsky.actor.defs#savedFeedsPref","lex:app.bsky.actor.defs#savedFeedsPrefV2","lex:app.bsky.actor.defs#personalDetailsPref","lex:app.bsky.actor.defs#feedViewPref","lex:app.bsky.actor.defs#threadViewPref","lex:app.bsky.actor.defs#interestsPref","lex:app.bsky.actor.defs#mutedWordsPref","lex:app.bsky.actor.defs#hiddenPostsPref","lex:app.bsky.actor.defs#bskyAppStatePref","lex:app.bsky.actor.defs#labelersPref"]}},adultContentPref:{type:"object",required:["enabled"],properties:{enabled:{type:"boolean",default:!1}}},contentLabelPref:{type:"object",required:["label","visibility"],properties:{labelerDid:{type:"string",description:"Which labeler does this preference apply to? If undefined, applies globally.",format:"did"},label:{type:"string"},visibility:{type:"string",knownValues:["ignore","show","warn","hide"]}}},savedFeed:{type:"object",required:["id","type","value","pinned"],properties:{id:{type:"string"},type:{type:"string",knownValues:["feed","list","timeline"]},value:{type:"string"},pinned:{type:"boolean"}}},savedFeedsPrefV2:{type:"object",required:["items"],properties:{items:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#savedFeed"}}}},savedFeedsPref:{type:"object",required:["pinned","saved"],properties:{pinned:{type:"array",items:{type:"string",format:"at-uri"}},saved:{type:"array",items:{type:"string",format:"at-uri"}},timelineIndex:{type:"integer"}}},personalDetailsPref:{type:"object",properties:{birthDate:{type:"string",format:"datetime",description:"The birth date of account owner."}}},feedViewPref:{type:"object",required:["feed"],properties:{feed:{type:"string",description:"The URI of the feed, or an identifier which describes the feed."},hideReplies:{type:"boolean",description:"Hide replies in the feed."},hideRepliesByUnfollowed:{type:"boolean",description:"Hide replies in the feed if they are not by followed users.",default:!0},hideRepliesByLikeCount:{type:"integer",description:"Hide replies in the feed if they do not have this number of likes."},hideReposts:{type:"boolean",description:"Hide reposts in the feed."},hideQuotePosts:{type:"boolean",description:"Hide quote posts in the feed."}}},threadViewPref:{type:"object",properties:{sort:{type:"string",description:"Sorting mode for threads.",knownValues:["oldest","newest","most-likes","random"]},prioritizeFollowedUsers:{type:"boolean",description:"Show followed users at the top of all replies."}}},interestsPref:{type:"object",required:["tags"],properties:{tags:{type:"array",maxLength:100,items:{type:"string",maxLength:640,maxGraphemes:64},description:"A list of tags which describe the account owner's interests gathered during onboarding."}}},mutedWordTarget:{type:"string",knownValues:["content","tag"],maxLength:640,maxGraphemes:64},mutedWord:{type:"object",description:"A word that the account owner has muted.",required:["value","targets"],properties:{id:{type:"string"},value:{type:"string",description:"The muted word itself.",maxLength:1e4,maxGraphemes:1e3},targets:{type:"array",description:"The intended targets of the muted word.",items:{type:"ref",ref:"lex:app.bsky.actor.defs#mutedWordTarget"}},actorTarget:{type:"string",description:"Groups of users to apply the muted word to. If undefined, applies to all users.",knownValues:["all","exclude-following"],default:"all"},expiresAt:{type:"string",format:"datetime",description:"The date and time at which the muted word will expire and no longer be applied."}}},mutedWordsPref:{type:"object",required:["items"],properties:{items:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#mutedWord"},description:"A list of words the account owner has muted."}}},hiddenPostsPref:{type:"object",required:["items"],properties:{items:{type:"array",items:{type:"string",format:"at-uri"},description:"A list of URIs of posts the account owner has hidden."}}},labelersPref:{type:"object",required:["labelers"],properties:{labelers:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#labelerPrefItem"}}}},labelerPrefItem:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}},bskyAppStatePref:{description:"A grab bag of state that's specific to the bsky.app program. Third-party apps shouldn't use this.",type:"object",properties:{activeProgressGuide:{type:"ref",ref:"lex:app.bsky.actor.defs#bskyAppProgressGuide"},queuedNudges:{description:"An array of tokens which identify nudges (modals, popups, tours, highlight dots) that should be shown to the user.",type:"array",maxLength:1e3,items:{type:"string",maxLength:100}}}},bskyAppProgressGuide:{description:"If set, an active progress guide. Once completed, can be set to undefined. Should have unspecced fields tracking progress.",type:"object",required:["guide"],properties:{guide:{type:"string",maxLength:100}}}}},AppBskyActorGetPreferences:{lexicon:1,id:"app.bsky.actor.getPreferences",defs:{main:{type:"query",description:"Get private preferences attached to the current account. Expected use is synchronization between multiple devices, and import/export during account migration. Requires auth.",parameters:{type:"params",properties:{}},output:{encoding:"application/json",schema:{type:"object",required:["preferences"],properties:{preferences:{type:"ref",ref:"lex:app.bsky.actor.defs#preferences"}}}}}}},AppBskyActorGetProfile:{lexicon:1,id:"app.bsky.actor.getProfile",defs:{main:{type:"query",description:"Get detailed profile view of an actor. Does not require auth, but contains relevant metadata with auth.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier",description:"Handle or DID of account to fetch profile of."}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewDetailed"}}}}},AppBskyActorGetProfiles:{lexicon:1,id:"app.bsky.actor.getProfiles",defs:{main:{type:"query",description:"Get detailed profile views of multiple actors.",parameters:{type:"params",required:["actors"],properties:{actors:{type:"array",items:{type:"string",format:"at-identifier"},maxLength:25}}},output:{encoding:"application/json",schema:{type:"object",required:["profiles"],properties:{profiles:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewDetailed"}}}}}}}},AppBskyActorGetSuggestions:{lexicon:1,id:"app.bsky.actor.getSuggestions",defs:{main:{type:"query",description:"Get a list of suggested actors. Expected use is discovery of accounts to follow during new account onboarding.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["actors"],properties:{cursor:{type:"string"},actors:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyActorProfile:{lexicon:1,id:"app.bsky.actor.profile",defs:{main:{type:"record",description:"A declaration of a Bluesky account profile.",key:"literal:self",record:{type:"object",properties:{displayName:{type:"string",maxGraphemes:64,maxLength:640},description:{type:"string",description:"Free-form profile description text.",maxGraphemes:256,maxLength:2560},avatar:{type:"blob",description:"Small image to be displayed next to posts from account. AKA, 'profile picture'",accept:["image/png","image/jpeg"],maxSize:1e6},banner:{type:"blob",description:"Larger horizontal image to display behind profile view.",accept:["image/png","image/jpeg"],maxSize:1e6},labels:{type:"union",description:"Self-label values, specific to the Bluesky application, on the overall account.",refs:["lex:com.atproto.label.defs#selfLabels"]},joinedViaStarterPack:{type:"ref",ref:"lex:com.atproto.repo.strongRef"},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyActorPutPreferences:{lexicon:1,id:"app.bsky.actor.putPreferences",defs:{main:{type:"procedure",description:"Set the private preferences attached to the account.",input:{encoding:"application/json",schema:{type:"object",required:["preferences"],properties:{preferences:{type:"ref",ref:"lex:app.bsky.actor.defs#preferences"}}}}}}},AppBskyActorSearchActors:{lexicon:1,id:"app.bsky.actor.searchActors",defs:{main:{type:"query",description:"Find actors (profiles) matching search criteria. Does not require auth.",parameters:{type:"params",properties:{term:{type:"string",description:"DEPRECATED: use 'q' instead."},q:{type:"string",description:"Search query string. Syntax, phrase, boolean, and faceting is unspecified, but Lucene query syntax is recommended."},limit:{type:"integer",minimum:1,maximum:100,default:25},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["actors"],properties:{cursor:{type:"string"},actors:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyActorSearchActorsTypeahead:{lexicon:1,id:"app.bsky.actor.searchActorsTypeahead",defs:{main:{type:"query",description:"Find actor suggestions for a prefix search term. Expected use is for auto-completion during text field entry. Does not require auth.",parameters:{type:"params",properties:{term:{type:"string",description:"DEPRECATED: use 'q' instead."},q:{type:"string",description:"Search query prefix; not a full query string."},limit:{type:"integer",minimum:1,maximum:100,default:10}}},output:{encoding:"application/json",schema:{type:"object",required:["actors"],properties:{actors:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"}}}}}}}},AppBskyEmbedExternal:{lexicon:1,id:"app.bsky.embed.external",defs:{main:{type:"object",description:"A representation of some externally linked content (eg, a URL and 'card'), embedded in a Bluesky record (eg, a post).",required:["external"],properties:{external:{type:"ref",ref:"lex:app.bsky.embed.external#external"}}},external:{type:"object",required:["uri","title","description"],properties:{uri:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},thumb:{type:"blob",accept:["image/*"],maxSize:1e6}}},view:{type:"object",required:["external"],properties:{external:{type:"ref",ref:"lex:app.bsky.embed.external#viewExternal"}}},viewExternal:{type:"object",required:["uri","title","description"],properties:{uri:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},thumb:{type:"string",format:"uri"}}}}},AppBskyEmbedImages:{lexicon:1,id:"app.bsky.embed.images",description:"A set of images embedded in a Bluesky record (eg, a post).",defs:{main:{type:"object",required:["images"],properties:{images:{type:"array",items:{type:"ref",ref:"lex:app.bsky.embed.images#image"},maxLength:4}}},image:{type:"object",required:["image","alt"],properties:{image:{type:"blob",accept:["image/*"],maxSize:1e6},alt:{type:"string",description:"Alt text description of the image, for accessibility."},aspectRatio:{type:"ref",ref:"lex:app.bsky.embed.images#aspectRatio"}}},aspectRatio:{type:"object",description:"width:height represents an aspect ratio. It may be approximate, and may not correspond to absolute dimensions in any given unit.",required:["width","height"],properties:{width:{type:"integer",minimum:1},height:{type:"integer",minimum:1}}},view:{type:"object",required:["images"],properties:{images:{type:"array",items:{type:"ref",ref:"lex:app.bsky.embed.images#viewImage"},maxLength:4}}},viewImage:{type:"object",required:["thumb","fullsize","alt"],properties:{thumb:{type:"string",format:"uri",description:"Fully-qualified URL where a thumbnail of the image can be fetched. For example, CDN location provided by the App View."},fullsize:{type:"string",format:"uri",description:"Fully-qualified URL where a large version of the image can be fetched. May or may not be the exact original blob. For example, CDN location provided by the App View."},alt:{type:"string",description:"Alt text description of the image, for accessibility."},aspectRatio:{type:"ref",ref:"lex:app.bsky.embed.images#aspectRatio"}}}}},AppBskyEmbedRecord:{lexicon:1,id:"app.bsky.embed.record",description:"A representation of a record embedded in a Bluesky record (eg, a post). For example, a quote-post, or sharing a feed generator record.",defs:{main:{type:"object",required:["record"],properties:{record:{type:"ref",ref:"lex:com.atproto.repo.strongRef"}}},view:{type:"object",required:["record"],properties:{record:{type:"union",refs:["lex:app.bsky.embed.record#viewRecord","lex:app.bsky.embed.record#viewNotFound","lex:app.bsky.embed.record#viewBlocked","lex:app.bsky.feed.defs#generatorView","lex:app.bsky.graph.defs#listView","lex:app.bsky.labeler.defs#labelerView","lex:app.bsky.graph.defs#starterPackViewBasic"]}}},viewRecord:{type:"object",required:["uri","cid","author","value","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},author:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"},value:{type:"unknown",description:"The record data itself."},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},replyCount:{type:"integer"},repostCount:{type:"integer"},likeCount:{type:"integer"},embeds:{type:"array",items:{type:"union",refs:["lex:app.bsky.embed.images#view","lex:app.bsky.embed.external#view","lex:app.bsky.embed.record#view","lex:app.bsky.embed.recordWithMedia#view"]}},indexedAt:{type:"string",format:"datetime"}}},viewNotFound:{type:"object",required:["uri","notFound"],properties:{uri:{type:"string",format:"at-uri"},notFound:{type:"boolean",const:!0}}},viewBlocked:{type:"object",required:["uri","blocked","author"],properties:{uri:{type:"string",format:"at-uri"},blocked:{type:"boolean",const:!0},author:{type:"ref",ref:"lex:app.bsky.feed.defs#blockedAuthor"}}}}},AppBskyEmbedRecordWithMedia:{lexicon:1,id:"app.bsky.embed.recordWithMedia",description:"A representation of a record embedded in a Bluesky record (eg, a post), alongside other compatible embeds. For example, a quote post and image, or a quote post and external URL card.",defs:{main:{type:"object",required:["record","media"],properties:{record:{type:"ref",ref:"lex:app.bsky.embed.record"},media:{type:"union",refs:["lex:app.bsky.embed.images","lex:app.bsky.embed.external"]}}},view:{type:"object",required:["record","media"],properties:{record:{type:"ref",ref:"lex:app.bsky.embed.record#view"},media:{type:"union",refs:["lex:app.bsky.embed.images#view","lex:app.bsky.embed.external#view"]}}}}},AppBskyFeedDefs:{lexicon:1,id:"app.bsky.feed.defs",defs:{postView:{type:"object",required:["uri","cid","author","record","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},author:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"},record:{type:"unknown"},embed:{type:"union",refs:["lex:app.bsky.embed.images#view","lex:app.bsky.embed.external#view","lex:app.bsky.embed.record#view","lex:app.bsky.embed.recordWithMedia#view"]},replyCount:{type:"integer"},repostCount:{type:"integer"},likeCount:{type:"integer"},indexedAt:{type:"string",format:"datetime"},viewer:{type:"ref",ref:"lex:app.bsky.feed.defs#viewerState"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},threadgate:{type:"ref",ref:"lex:app.bsky.feed.defs#threadgateView"}}},viewerState:{type:"object",description:"Metadata about the requesting account's relationship with the subject content. Only has meaningful content for authed requests.",properties:{repost:{type:"string",format:"at-uri"},like:{type:"string",format:"at-uri"},threadMuted:{type:"boolean"},replyDisabled:{type:"boolean"}}},feedViewPost:{type:"object",required:["post"],properties:{post:{type:"ref",ref:"lex:app.bsky.feed.defs#postView"},reply:{type:"ref",ref:"lex:app.bsky.feed.defs#replyRef"},reason:{type:"union",refs:["lex:app.bsky.feed.defs#reasonRepost"]},feedContext:{type:"string",description:"Context provided by feed generator that may be passed back alongside interactions.",maxLength:2e3}}},replyRef:{type:"object",required:["root","parent"],properties:{root:{type:"union",refs:["lex:app.bsky.feed.defs#postView","lex:app.bsky.feed.defs#notFoundPost","lex:app.bsky.feed.defs#blockedPost"]},parent:{type:"union",refs:["lex:app.bsky.feed.defs#postView","lex:app.bsky.feed.defs#notFoundPost","lex:app.bsky.feed.defs#blockedPost"]},grandparentAuthor:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic",description:"When parent is a reply to another post, this is the author of that post."}}},reasonRepost:{type:"object",required:["by","indexedAt"],properties:{by:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"},indexedAt:{type:"string",format:"datetime"}}},threadViewPost:{type:"object",required:["post"],properties:{post:{type:"ref",ref:"lex:app.bsky.feed.defs#postView"},parent:{type:"union",refs:["lex:app.bsky.feed.defs#threadViewPost","lex:app.bsky.feed.defs#notFoundPost","lex:app.bsky.feed.defs#blockedPost"]},replies:{type:"array",items:{type:"union",refs:["lex:app.bsky.feed.defs#threadViewPost","lex:app.bsky.feed.defs#notFoundPost","lex:app.bsky.feed.defs#blockedPost"]}}}},notFoundPost:{type:"object",required:["uri","notFound"],properties:{uri:{type:"string",format:"at-uri"},notFound:{type:"boolean",const:!0}}},blockedPost:{type:"object",required:["uri","blocked","author"],properties:{uri:{type:"string",format:"at-uri"},blocked:{type:"boolean",const:!0},author:{type:"ref",ref:"lex:app.bsky.feed.defs#blockedAuthor"}}},blockedAuthor:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"},viewer:{type:"ref",ref:"lex:app.bsky.actor.defs#viewerState"}}},generatorView:{type:"object",required:["uri","cid","did","creator","displayName","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},did:{type:"string",format:"did"},creator:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},displayName:{type:"string"},description:{type:"string",maxGraphemes:300,maxLength:3e3},descriptionFacets:{type:"array",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},avatar:{type:"string",format:"uri"},likeCount:{type:"integer",minimum:0},acceptsInteractions:{type:"boolean"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},viewer:{type:"ref",ref:"lex:app.bsky.feed.defs#generatorViewerState"},indexedAt:{type:"string",format:"datetime"}}},generatorViewerState:{type:"object",properties:{like:{type:"string",format:"at-uri"}}},skeletonFeedPost:{type:"object",required:["post"],properties:{post:{type:"string",format:"at-uri"},reason:{type:"union",refs:["lex:app.bsky.feed.defs#skeletonReasonRepost"]},feedContext:{type:"string",description:"Context that will be passed through to client and may be passed to feed generator back alongside interactions.",maxLength:2e3}}},skeletonReasonRepost:{type:"object",required:["repost"],properties:{repost:{type:"string",format:"at-uri"}}},threadgateView:{type:"object",properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},record:{type:"unknown"},lists:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#listViewBasic"}}}},interaction:{type:"object",properties:{item:{type:"string",format:"at-uri"},event:{type:"string",knownValues:["app.bsky.feed.defs#requestLess","app.bsky.feed.defs#requestMore","app.bsky.feed.defs#clickthroughItem","app.bsky.feed.defs#clickthroughAuthor","app.bsky.feed.defs#clickthroughReposter","app.bsky.feed.defs#clickthroughEmbed","app.bsky.feed.defs#interactionSeen","app.bsky.feed.defs#interactionLike","app.bsky.feed.defs#interactionRepost","app.bsky.feed.defs#interactionReply","app.bsky.feed.defs#interactionQuote","app.bsky.feed.defs#interactionShare"]},feedContext:{type:"string",description:"Context on a feed item that was originally supplied by the feed generator on getFeedSkeleton.",maxLength:2e3}}},requestLess:{type:"token",description:"Request that less content like the given feed item be shown in the feed"},requestMore:{type:"token",description:"Request that more content like the given feed item be shown in the feed"},clickthroughItem:{type:"token",description:"User clicked through to the feed item"},clickthroughAuthor:{type:"token",description:"User clicked through to the author of the feed item"},clickthroughReposter:{type:"token",description:"User clicked through to the reposter of the feed item"},clickthroughEmbed:{type:"token",description:"User clicked through to the embedded content of the feed item"},interactionSeen:{type:"token",description:"Feed item was seen by user"},interactionLike:{type:"token",description:"User liked the feed item"},interactionRepost:{type:"token",description:"User reposted the feed item"},interactionReply:{type:"token",description:"User replied to the feed item"},interactionQuote:{type:"token",description:"User quoted the feed item"},interactionShare:{type:"token",description:"User shared the feed item"}}},AppBskyFeedDescribeFeedGenerator:{lexicon:1,id:"app.bsky.feed.describeFeedGenerator",defs:{main:{type:"query",description:"Get information about a feed generator, including policies and offered feed URIs. Does not require auth; implemented by Feed Generator services (not App View).",output:{encoding:"application/json",schema:{type:"object",required:["did","feeds"],properties:{did:{type:"string",format:"did"},feeds:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.describeFeedGenerator#feed"}},links:{type:"ref",ref:"lex:app.bsky.feed.describeFeedGenerator#links"}}}}},feed:{type:"object",required:["uri"],properties:{uri:{type:"string",format:"at-uri"}}},links:{type:"object",properties:{privacyPolicy:{type:"string"},termsOfService:{type:"string"}}}}},AppBskyFeedGenerator:{lexicon:1,id:"app.bsky.feed.generator",defs:{main:{type:"record",description:"Record declaring of the existence of a feed generator, and containing metadata about it. The record can exist in any repository.",key:"any",record:{type:"object",required:["did","displayName","createdAt"],properties:{did:{type:"string",format:"did"},displayName:{type:"string",maxGraphemes:24,maxLength:240},description:{type:"string",maxGraphemes:300,maxLength:3e3},descriptionFacets:{type:"array",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},avatar:{type:"blob",accept:["image/png","image/jpeg"],maxSize:1e6},acceptsInteractions:{type:"boolean",description:"Declaration that a feed accepts feedback interactions from a client through app.bsky.feed.sendInteractions"},labels:{type:"union",description:"Self-label values",refs:["lex:com.atproto.label.defs#selfLabels"]},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyFeedGetActorFeeds:{lexicon:1,id:"app.bsky.feed.getActorFeeds",defs:{main:{type:"query",description:"Get a list of feeds (feed generator records) created by the actor (in the actor's repo).",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feeds"],properties:{cursor:{type:"string"},feeds:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#generatorView"}}}}}}}},AppBskyFeedGetActorLikes:{lexicon:1,id:"app.bsky.feed.getActorLikes",defs:{main:{type:"query",description:"Get a list of posts liked by an actor. Does not require auth.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#feedViewPost"}}}}},errors:[{name:"BlockedActor"},{name:"BlockedByActor"}]}}},AppBskyFeedGetAuthorFeed:{lexicon:1,id:"app.bsky.feed.getAuthorFeed",defs:{main:{type:"query",description:"Get a view of an actor's 'author feed' (post and reposts by the author). Does not require auth.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"},filter:{type:"string",description:"Combinations of post/repost types to include in response.",knownValues:["posts_with_replies","posts_no_replies","posts_with_media","posts_and_author_threads"],default:"posts_with_replies"}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#feedViewPost"}}}}},errors:[{name:"BlockedActor"},{name:"BlockedByActor"}]}}},AppBskyFeedGetFeed:{lexicon:1,id:"app.bsky.feed.getFeed",defs:{main:{type:"query",description:"Get a hydrated feed from an actor's selected feed generator. Implemented by App View.",parameters:{type:"params",required:["feed"],properties:{feed:{type:"string",format:"at-uri"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#feedViewPost"}}}}},errors:[{name:"UnknownFeed"}]}}},AppBskyFeedGetFeedGenerator:{lexicon:1,id:"app.bsky.feed.getFeedGenerator",defs:{main:{type:"query",description:"Get information about a feed generator. Implemented by AppView.",parameters:{type:"params",required:["feed"],properties:{feed:{type:"string",format:"at-uri",description:"AT-URI of the feed generator record."}}},output:{encoding:"application/json",schema:{type:"object",required:["view","isOnline","isValid"],properties:{view:{type:"ref",ref:"lex:app.bsky.feed.defs#generatorView"},isOnline:{type:"boolean",description:"Indicates whether the feed generator service has been online recently, or else seems to be inactive."},isValid:{type:"boolean",description:"Indicates whether the feed generator service is compatible with the record declaration."}}}}}}},AppBskyFeedGetFeedGenerators:{lexicon:1,id:"app.bsky.feed.getFeedGenerators",defs:{main:{type:"query",description:"Get information about a list of feed generators.",parameters:{type:"params",required:["feeds"],properties:{feeds:{type:"array",items:{type:"string",format:"at-uri"}}}},output:{encoding:"application/json",schema:{type:"object",required:["feeds"],properties:{feeds:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#generatorView"}}}}}}}},AppBskyFeedGetFeedSkeleton:{lexicon:1,id:"app.bsky.feed.getFeedSkeleton",defs:{main:{type:"query",description:"Get a skeleton of a feed provided by a feed generator. Auth is optional, depending on provider requirements, and provides the DID of the requester. Implemented by Feed Generator Service.",parameters:{type:"params",required:["feed"],properties:{feed:{type:"string",format:"at-uri",description:"Reference to feed generator record describing the specific feed being requested."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#skeletonFeedPost"}}}}},errors:[{name:"UnknownFeed"}]}}},AppBskyFeedGetLikes:{lexicon:1,id:"app.bsky.feed.getLikes",defs:{main:{type:"query",description:"Get like records which reference a subject (by AT-URI and CID).",parameters:{type:"params",required:["uri"],properties:{uri:{type:"string",format:"at-uri",description:"AT-URI of the subject (eg, a post record)."},cid:{type:"string",format:"cid",description:"CID of the subject record (aka, specific version of record), to filter likes."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","likes"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},cursor:{type:"string"},likes:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.getLikes#like"}}}}}},like:{type:"object",required:["indexedAt","createdAt","actor"],properties:{indexedAt:{type:"string",format:"datetime"},createdAt:{type:"string",format:"datetime"},actor:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}},AppBskyFeedGetListFeed:{lexicon:1,id:"app.bsky.feed.getListFeed",defs:{main:{type:"query",description:"Get a feed of recent posts from a list (posts and reposts from any actors on the list). Does not require auth.",parameters:{type:"params",required:["list"],properties:{list:{type:"string",format:"at-uri",description:"Reference (AT-URI) to the list record."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#feedViewPost"}}}}},errors:[{name:"UnknownList"}]}}},AppBskyFeedGetPostThread:{lexicon:1,id:"app.bsky.feed.getPostThread",defs:{main:{type:"query",description:"Get posts in a thread. Does not require auth, but additional metadata and filtering will be applied for authed requests.",parameters:{type:"params",required:["uri"],properties:{uri:{type:"string",format:"at-uri",description:"Reference (AT-URI) to post record."},depth:{type:"integer",description:"How many levels of reply depth should be included in response.",default:6,minimum:0,maximum:1e3},parentHeight:{type:"integer",description:"How many levels of parent (and grandparent, etc) post to include.",default:80,minimum:0,maximum:1e3}}},output:{encoding:"application/json",schema:{type:"object",required:["thread"],properties:{thread:{type:"union",refs:["lex:app.bsky.feed.defs#threadViewPost","lex:app.bsky.feed.defs#notFoundPost","lex:app.bsky.feed.defs#blockedPost"]}}}},errors:[{name:"NotFound"}]}}},AppBskyFeedGetPosts:{lexicon:1,id:"app.bsky.feed.getPosts",defs:{main:{type:"query",description:"Gets post views for a specified list of posts (by AT-URI). This is sometimes referred to as 'hydrating' a 'feed skeleton'.",parameters:{type:"params",required:["uris"],properties:{uris:{type:"array",description:"List of post AT-URIs to return hydrated views for.",items:{type:"string",format:"at-uri"},maxLength:25}}},output:{encoding:"application/json",schema:{type:"object",required:["posts"],properties:{posts:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#postView"}}}}}}}},AppBskyFeedGetRepostedBy:{lexicon:1,id:"app.bsky.feed.getRepostedBy",defs:{main:{type:"query",description:"Get a list of reposts for a given post.",parameters:{type:"params",required:["uri"],properties:{uri:{type:"string",format:"at-uri",description:"Reference (AT-URI) of post record"},cid:{type:"string",format:"cid",description:"If supplied, filters to reposts of specific version (by CID) of the post record."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["uri","repostedBy"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},cursor:{type:"string"},repostedBy:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyFeedGetSuggestedFeeds:{lexicon:1,id:"app.bsky.feed.getSuggestedFeeds",defs:{main:{type:"query",description:"Get a list of suggested feeds (feed generators) for the requesting account.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feeds"],properties:{cursor:{type:"string"},feeds:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#generatorView"}}}}}}}},AppBskyFeedGetTimeline:{lexicon:1,id:"app.bsky.feed.getTimeline",defs:{main:{type:"query",description:"Get a view of the requesting account's home timeline. This is expected to be some form of reverse-chronological feed.",parameters:{type:"params",properties:{algorithm:{type:"string",description:"Variant 'algorithm' for timeline. Implementation-specific. NOTE: most feed flexibility has been moved to feed generator mechanism."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feed"],properties:{cursor:{type:"string"},feed:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#feedViewPost"}}}}}}}},AppBskyFeedLike:{lexicon:1,id:"app.bsky.feed.like",defs:{main:{type:"record",description:"Record declaring a 'like' of a piece of subject content.",key:"tid",record:{type:"object",required:["subject","createdAt"],properties:{subject:{type:"ref",ref:"lex:com.atproto.repo.strongRef"},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyFeedPost:{lexicon:1,id:"app.bsky.feed.post",defs:{main:{type:"record",description:"Record containing a Bluesky post.",key:"tid",record:{type:"object",required:["text","createdAt"],properties:{text:{type:"string",maxLength:3e3,maxGraphemes:300,description:"The primary post content. May be an empty string, if there are embeds."},entities:{type:"array",description:"DEPRECATED: replaced by app.bsky.richtext.facet.",items:{type:"ref",ref:"lex:app.bsky.feed.post#entity"}},facets:{type:"array",description:"Annotations of text (mentions, URLs, hashtags, etc)",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},reply:{type:"ref",ref:"lex:app.bsky.feed.post#replyRef"},embed:{type:"union",refs:["lex:app.bsky.embed.images","lex:app.bsky.embed.external","lex:app.bsky.embed.record","lex:app.bsky.embed.recordWithMedia"]},langs:{type:"array",description:"Indicates human language of post primary text content.",maxLength:3,items:{type:"string",format:"language"}},labels:{type:"union",description:"Self-label values for this post. Effectively content warnings.",refs:["lex:com.atproto.label.defs#selfLabels"]},tags:{type:"array",description:"Additional hashtags, in addition to any included in post text and facets.",maxLength:8,items:{type:"string",maxLength:640,maxGraphemes:64}},createdAt:{type:"string",format:"datetime",description:"Client-declared timestamp when this post was originally created."}}}},replyRef:{type:"object",required:["root","parent"],properties:{root:{type:"ref",ref:"lex:com.atproto.repo.strongRef"},parent:{type:"ref",ref:"lex:com.atproto.repo.strongRef"}}},entity:{type:"object",description:"Deprecated: use facets instead.",required:["index","type","value"],properties:{index:{type:"ref",ref:"lex:app.bsky.feed.post#textSlice"},type:{type:"string",description:"Expected values are 'mention' and 'link'."},value:{type:"string"}}},textSlice:{type:"object",description:"Deprecated. Use app.bsky.richtext instead -- A text segment. Start is inclusive, end is exclusive. Indices are for utf16-encoded strings.",required:["start","end"],properties:{start:{type:"integer",minimum:0},end:{type:"integer",minimum:0}}}}},AppBskyFeedRepost:{lexicon:1,id:"app.bsky.feed.repost",defs:{main:{description:"Record representing a 'repost' of an existing Bluesky post.",type:"record",key:"tid",record:{type:"object",required:["subject","createdAt"],properties:{subject:{type:"ref",ref:"lex:com.atproto.repo.strongRef"},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyFeedSearchPosts:{lexicon:1,id:"app.bsky.feed.searchPosts",defs:{main:{type:"query",description:"Find posts matching search criteria, returning views of those posts.",parameters:{type:"params",required:["q"],properties:{q:{type:"string",description:"Search query string; syntax, phrase, boolean, and faceting is unspecified, but Lucene query syntax is recommended."},sort:{type:"string",knownValues:["top","latest"],default:"latest",description:"Specifies the ranking order of results."},since:{type:"string",description:"Filter results for posts after the indicated datetime (inclusive). Expected to use 'sortAt' timestamp, which may not match 'createdAt'. Can be a datetime, or just an ISO date (YYYY-MM-DD)."},until:{type:"string",description:"Filter results for posts before the indicated datetime (not inclusive). Expected to use 'sortAt' timestamp, which may not match 'createdAt'. Can be a datetime, or just an ISO date (YYY-MM-DD)."},mentions:{type:"string",format:"at-identifier",description:"Filter to posts which mention the given account. Handles are resolved to DID before query-time. Only matches rich-text facet mentions."},author:{type:"string",format:"at-identifier",description:"Filter to posts by the given account. Handles are resolved to DID before query-time."},lang:{type:"string",format:"language",description:"Filter to posts in the given language. Expected to be based on post language field, though server may override language detection."},domain:{type:"string",description:"Filter to posts with URLs (facet links or embeds) linking to the given domain (hostname). Server may apply hostname normalization."},url:{type:"string",format:"uri",description:"Filter to posts with links (facet links or embeds) pointing to this URL. Server may apply URL normalization or fuzzy matching."},tag:{type:"array",items:{type:"string",maxLength:640,maxGraphemes:64},description:"Filter to posts with the given tag (hashtag), based on rich-text facet or tag field. Do not include the hash (#) prefix. Multiple tags can be specified, with 'AND' matching."},limit:{type:"integer",minimum:1,maximum:100,default:25},cursor:{type:"string",description:"Optional pagination mechanism; may not necessarily allow scrolling through entire result set."}}},output:{encoding:"application/json",schema:{type:"object",required:["posts"],properties:{cursor:{type:"string"},hitsTotal:{type:"integer",description:"Count of search hits. Optional, may be rounded/truncated, and may not be possible to paginate through all hits."},posts:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#postView"}}}}},errors:[{name:"BadQueryString"}]}}},AppBskyFeedSendInteractions:{lexicon:1,id:"app.bsky.feed.sendInteractions",defs:{main:{type:"procedure",description:"Send information about interactions with feed items back to the feed generator that served them.",input:{encoding:"application/json",schema:{type:"object",required:["interactions"],properties:{interactions:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#interaction"}}}}},output:{encoding:"application/json",schema:{type:"object",properties:{}}}}}},AppBskyFeedThreadgate:{lexicon:1,id:"app.bsky.feed.threadgate",defs:{main:{type:"record",key:"tid",description:"Record defining interaction gating rules for a thread (aka, reply controls). The record key (rkey) of the threadgate record must match the record key of the thread's root post, and that record must be in the same repository..",record:{type:"object",required:["post","createdAt"],properties:{post:{type:"string",format:"at-uri",description:"Reference (AT-URI) to the post record."},allow:{type:"array",maxLength:5,items:{type:"union",refs:["lex:app.bsky.feed.threadgate#mentionRule","lex:app.bsky.feed.threadgate#followingRule","lex:app.bsky.feed.threadgate#listRule"]}},createdAt:{type:"string",format:"datetime"}}}},mentionRule:{type:"object",description:"Allow replies from actors mentioned in your post.",properties:{}},followingRule:{type:"object",description:"Allow replies from actors you follow.",properties:{}},listRule:{type:"object",description:"Allow replies from actors on a list.",required:["list"],properties:{list:{type:"string",format:"at-uri"}}}}},AppBskyGraphBlock:{lexicon:1,id:"app.bsky.graph.block",defs:{main:{type:"record",description:"Record declaring a 'block' relationship against another account. NOTE: blocks are public in Bluesky; see blog posts for details.",key:"tid",record:{type:"object",required:["subject","createdAt"],properties:{subject:{type:"string",format:"did",description:"DID of the account to be blocked."},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyGraphDefs:{lexicon:1,id:"app.bsky.graph.defs",defs:{listViewBasic:{type:"object",required:["uri","cid","name","purpose"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},name:{type:"string",maxLength:64,minLength:1},purpose:{type:"ref",ref:"lex:app.bsky.graph.defs#listPurpose"},avatar:{type:"string",format:"uri"},listItemCount:{type:"integer",minimum:0},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},viewer:{type:"ref",ref:"lex:app.bsky.graph.defs#listViewerState"},indexedAt:{type:"string",format:"datetime"}}},listView:{type:"object",required:["uri","cid","creator","name","purpose","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},creator:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},name:{type:"string",maxLength:64,minLength:1},purpose:{type:"ref",ref:"lex:app.bsky.graph.defs#listPurpose"},description:{type:"string",maxGraphemes:300,maxLength:3e3},descriptionFacets:{type:"array",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},avatar:{type:"string",format:"uri"},listItemCount:{type:"integer",minimum:0},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},viewer:{type:"ref",ref:"lex:app.bsky.graph.defs#listViewerState"},indexedAt:{type:"string",format:"datetime"}}},listItemView:{type:"object",required:["uri","subject"],properties:{uri:{type:"string",format:"at-uri"},subject:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}},starterPackView:{type:"object",required:["uri","cid","record","creator","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},record:{type:"unknown"},creator:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"},list:{type:"ref",ref:"lex:app.bsky.graph.defs#listViewBasic"},listItemsSample:{type:"array",maxLength:12,items:{type:"ref",ref:"lex:app.bsky.graph.defs#listItemView"}},feeds:{type:"array",maxLength:3,items:{type:"ref",ref:"lex:app.bsky.feed.defs#generatorView"}},joinedWeekCount:{type:"integer",minimum:0},joinedAllTimeCount:{type:"integer",minimum:0},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},indexedAt:{type:"string",format:"datetime"}}},starterPackViewBasic:{type:"object",required:["uri","cid","record","creator","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},record:{type:"unknown"},creator:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewBasic"},listItemCount:{type:"integer",minimum:0},joinedWeekCount:{type:"integer",minimum:0},joinedAllTimeCount:{type:"integer",minimum:0},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},indexedAt:{type:"string",format:"datetime"}}},listPurpose:{type:"string",knownValues:["app.bsky.graph.defs#modlist","app.bsky.graph.defs#curatelist","app.bsky.graph.defs#referencelist"]},modlist:{type:"token",description:"A list of actors to apply an aggregate moderation action (mute/block) on."},curatelist:{type:"token",description:"A list of actors used for curation purposes such as list feeds or interaction gating."},referencelist:{type:"token",description:"A list of actors used for only for reference purposes such as within a starter pack."},listViewerState:{type:"object",properties:{muted:{type:"boolean"},blocked:{type:"string",format:"at-uri"}}},notFoundActor:{type:"object",description:"indicates that a handle or DID could not be resolved",required:["actor","notFound"],properties:{actor:{type:"string",format:"at-identifier"},notFound:{type:"boolean",const:!0}}},relationship:{type:"object",description:"lists the bi-directional graph relationships between one actor (not indicated in the object), and the target actors (the DID included in the object)",required:["did"],properties:{did:{type:"string",format:"did"},following:{type:"string",format:"at-uri",description:"if the actor follows this DID, this is the AT-URI of the follow record"},followedBy:{type:"string",format:"at-uri",description:"if the actor is followed by this DID, contains the AT-URI of the follow record"}}}}},AppBskyGraphFollow:{lexicon:1,id:"app.bsky.graph.follow",defs:{main:{type:"record",description:"Record declaring a social 'follow' relationship of another account. Duplicate follows will be ignored by the AppView.",key:"tid",record:{type:"object",required:["subject","createdAt"],properties:{subject:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyGraphGetActorStarterPacks:{lexicon:1,id:"app.bsky.graph.getActorStarterPacks",defs:{main:{type:"query",description:"Get a list of starter packs created by the actor.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["starterPacks"],properties:{cursor:{type:"string"},starterPacks:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#starterPackViewBasic"}}}}}}}},AppBskyGraphGetBlocks:{lexicon:1,id:"app.bsky.graph.getBlocks",defs:{main:{type:"query",description:"Enumerates which accounts the requesting account is currently blocking. Requires auth.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["blocks"],properties:{cursor:{type:"string"},blocks:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphGetFollowers:{lexicon:1,id:"app.bsky.graph.getFollowers",defs:{main:{type:"query",description:"Enumerates accounts which follow a specified account (actor).",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["subject","followers"],properties:{subject:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},cursor:{type:"string"},followers:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphGetFollows:{lexicon:1,id:"app.bsky.graph.getFollows",defs:{main:{type:"query",description:"Enumerates accounts which a specified account (actor) follows.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["subject","follows"],properties:{subject:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},cursor:{type:"string"},follows:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphGetKnownFollowers:{lexicon:1,id:"app.bsky.graph.getKnownFollowers",defs:{main:{type:"query",description:"Enumerates accounts which follow a specified account (actor) and are followed by the viewer.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["subject","followers"],properties:{subject:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},cursor:{type:"string"},followers:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphGetList:{lexicon:1,id:"app.bsky.graph.getList",defs:{main:{type:"query",description:"Gets a 'view' (with additional context) of a specified list.",parameters:{type:"params",required:["list"],properties:{list:{type:"string",format:"at-uri",description:"Reference (AT-URI) of the list record to hydrate."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["list","items"],properties:{cursor:{type:"string"},list:{type:"ref",ref:"lex:app.bsky.graph.defs#listView"},items:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#listItemView"}}}}}}}},AppBskyGraphGetListBlocks:{lexicon:1,id:"app.bsky.graph.getListBlocks",defs:{main:{type:"query",description:"Get mod lists that the requesting account (actor) is blocking. Requires auth.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["lists"],properties:{cursor:{type:"string"},lists:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#listView"}}}}}}}},AppBskyGraphGetListMutes:{lexicon:1,id:"app.bsky.graph.getListMutes",defs:{main:{type:"query",description:"Enumerates mod lists that the requesting account (actor) currently has muted. Requires auth.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["lists"],properties:{cursor:{type:"string"},lists:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#listView"}}}}}}}},AppBskyGraphGetLists:{lexicon:1,id:"app.bsky.graph.getLists",defs:{main:{type:"query",description:"Enumerates the lists created by a specified account (actor).",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier",description:"The account (actor) to enumerate lists from."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["lists"],properties:{cursor:{type:"string"},lists:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#listView"}}}}}}}},AppBskyGraphGetMutes:{lexicon:1,id:"app.bsky.graph.getMutes",defs:{main:{type:"query",description:"Enumerates accounts that the requesting account (actor) currently has muted. Requires auth.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["mutes"],properties:{cursor:{type:"string"},mutes:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphGetRelationships:{lexicon:1,id:"app.bsky.graph.getRelationships",defs:{main:{type:"query",description:"Enumerates public relationships between one account, and a list of other accounts. Does not require auth.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier",description:"Primary account requesting relationships for."},others:{type:"array",description:"List of 'other' accounts to be related back to the primary.",maxLength:30,items:{type:"string",format:"at-identifier"}}}},output:{encoding:"application/json",schema:{type:"object",required:["relationships"],properties:{actor:{type:"string",format:"did"},relationships:{type:"array",items:{type:"union",refs:["lex:app.bsky.graph.defs#relationship","lex:app.bsky.graph.defs#notFoundActor"]}}}}},errors:[{name:"ActorNotFound",description:"the primary actor at-identifier could not be resolved"}]}}},AppBskyGraphGetStarterPack:{lexicon:1,id:"app.bsky.graph.getStarterPack",defs:{main:{type:"query",description:"Gets a view of a starter pack.",parameters:{type:"params",required:["starterPack"],properties:{starterPack:{type:"string",format:"at-uri",description:"Reference (AT-URI) of the starter pack record."}}},output:{encoding:"application/json",schema:{type:"object",required:["starterPack"],properties:{starterPack:{type:"ref",ref:"lex:app.bsky.graph.defs#starterPackView"}}}}}}},AppBskyGraphGetStarterPacks:{lexicon:1,id:"app.bsky.graph.getStarterPacks",defs:{main:{type:"query",description:"Get views for a list of starter packs.",parameters:{type:"params",required:["uris"],properties:{uris:{type:"array",items:{type:"string",format:"at-uri"},maxLength:25}}},output:{encoding:"application/json",schema:{type:"object",required:["starterPacks"],properties:{starterPacks:{type:"array",items:{type:"ref",ref:"lex:app.bsky.graph.defs#starterPackViewBasic"}}}}}}}},AppBskyGraphGetSuggestedFollowsByActor:{lexicon:1,id:"app.bsky.graph.getSuggestedFollowsByActor",defs:{main:{type:"query",description:"Enumerates follows similar to a given account (actor). Expected use is to recommend additional accounts immediately after following one account.",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"}}},output:{encoding:"application/json",schema:{type:"object",required:["suggestions"],properties:{suggestions:{type:"array",items:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"}}}}}}}},AppBskyGraphList:{lexicon:1,id:"app.bsky.graph.list",defs:{main:{type:"record",description:"Record representing a list of accounts (actors). Scope includes both moderation-oriented lists and curration-oriented lists.",key:"tid",record:{type:"object",required:["name","purpose","createdAt"],properties:{purpose:{type:"ref",description:"Defines the purpose of the list (aka, moderation-oriented or curration-oriented)",ref:"lex:app.bsky.graph.defs#listPurpose"},name:{type:"string",maxLength:64,minLength:1,description:"Display name for list; can not be empty."},description:{type:"string",maxGraphemes:300,maxLength:3e3},descriptionFacets:{type:"array",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},avatar:{type:"blob",accept:["image/png","image/jpeg"],maxSize:1e6},labels:{type:"union",refs:["lex:com.atproto.label.defs#selfLabels"]},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyGraphListblock:{lexicon:1,id:"app.bsky.graph.listblock",defs:{main:{type:"record",description:"Record representing a block relationship against an entire an entire list of accounts (actors).",key:"tid",record:{type:"object",required:["subject","createdAt"],properties:{subject:{type:"string",format:"at-uri",description:"Reference (AT-URI) to the mod list record."},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyGraphListitem:{lexicon:1,id:"app.bsky.graph.listitem",defs:{main:{type:"record",description:"Record representing an account's inclusion on a specific list. The AppView will ignore duplicate listitem records.",key:"tid",record:{type:"object",required:["subject","list","createdAt"],properties:{subject:{type:"string",format:"did",description:"The account which is included on the list."},list:{type:"string",format:"at-uri",description:"Reference (AT-URI) to the list record (app.bsky.graph.list)."},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyGraphMuteActor:{lexicon:1,id:"app.bsky.graph.muteActor",defs:{main:{type:"procedure",description:"Creates a mute relationship for the specified account. Mutes are private in Bluesky. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"}}}}}}},AppBskyGraphMuteActorList:{lexicon:1,id:"app.bsky.graph.muteActorList",defs:{main:{type:"procedure",description:"Creates a mute relationship for the specified list of accounts. Mutes are private in Bluesky. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["list"],properties:{list:{type:"string",format:"at-uri"}}}}}}},AppBskyGraphMuteThread:{lexicon:1,id:"app.bsky.graph.muteThread",defs:{main:{type:"procedure",description:"Mutes a thread preventing notifications from the thread and any of its children. Mutes are private in Bluesky. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["root"],properties:{root:{type:"string",format:"at-uri"}}}}}}},AppBskyGraphStarterpack:{lexicon:1,id:"app.bsky.graph.starterpack",defs:{main:{type:"record",description:"Record defining a starter pack of actors and feeds for new users.",key:"tid",record:{type:"object",required:["name","list","createdAt"],properties:{name:{type:"string",maxGraphemes:50,maxLength:500,minLength:1,description:"Display name for starter pack; can not be empty."},description:{type:"string",maxGraphemes:300,maxLength:3e3},descriptionFacets:{type:"array",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},list:{type:"string",format:"at-uri",description:"Reference (AT-URI) to the list record."},feeds:{type:"array",maxLength:3,items:{type:"ref",ref:"lex:app.bsky.graph.starterpack#feedItem"}},createdAt:{type:"string",format:"datetime"}}}},feedItem:{type:"object",required:["uri"],properties:{uri:{type:"string",format:"at-uri"}}}}},AppBskyGraphUnmuteActor:{lexicon:1,id:"app.bsky.graph.unmuteActor",defs:{main:{type:"procedure",description:"Unmutes the specified account. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["actor"],properties:{actor:{type:"string",format:"at-identifier"}}}}}}},AppBskyGraphUnmuteActorList:{lexicon:1,id:"app.bsky.graph.unmuteActorList",defs:{main:{type:"procedure",description:"Unmutes the specified list of accounts. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["list"],properties:{list:{type:"string",format:"at-uri"}}}}}}},AppBskyGraphUnmuteThread:{lexicon:1,id:"app.bsky.graph.unmuteThread",defs:{main:{type:"procedure",description:"Unmutes the specified thread. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["root"],properties:{root:{type:"string",format:"at-uri"}}}}}}},AppBskyLabelerDefs:{lexicon:1,id:"app.bsky.labeler.defs",defs:{labelerView:{type:"object",required:["uri","cid","creator","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},creator:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},likeCount:{type:"integer",minimum:0},viewer:{type:"ref",ref:"lex:app.bsky.labeler.defs#labelerViewerState"},indexedAt:{type:"string",format:"datetime"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}},labelerViewDetailed:{type:"object",required:["uri","cid","creator","policies","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},creator:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},policies:{type:"ref",ref:"lex:app.bsky.labeler.defs#labelerPolicies"},likeCount:{type:"integer",minimum:0},viewer:{type:"ref",ref:"lex:app.bsky.labeler.defs#labelerViewerState"},indexedAt:{type:"string",format:"datetime"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}},labelerViewerState:{type:"object",properties:{like:{type:"string",format:"at-uri"}}},labelerPolicies:{type:"object",required:["labelValues"],properties:{labelValues:{type:"array",description:"The label values which this labeler publishes. May include global or custom labels.",items:{type:"ref",ref:"lex:com.atproto.label.defs#labelValue"}},labelValueDefinitions:{type:"array",description:"Label values created by this labeler and scoped exclusively to it. Labels defined here will override global label definitions for this labeler.",items:{type:"ref",ref:"lex:com.atproto.label.defs#labelValueDefinition"}}}}}},AppBskyLabelerGetServices:{lexicon:1,id:"app.bsky.labeler.getServices",defs:{main:{type:"query",description:"Get information about a list of labeler services.",parameters:{type:"params",required:["dids"],properties:{dids:{type:"array",items:{type:"string",format:"did"}},detailed:{type:"boolean",default:!1}}},output:{encoding:"application/json",schema:{type:"object",required:["views"],properties:{views:{type:"array",items:{type:"union",refs:["lex:app.bsky.labeler.defs#labelerView","lex:app.bsky.labeler.defs#labelerViewDetailed"]}}}}}}}},AppBskyLabelerService:{lexicon:1,id:"app.bsky.labeler.service",defs:{main:{type:"record",description:"A declaration of the existence of labeler service.",key:"literal:self",record:{type:"object",required:["policies","createdAt"],properties:{policies:{type:"ref",ref:"lex:app.bsky.labeler.defs#labelerPolicies"},labels:{type:"union",refs:["lex:com.atproto.label.defs#selfLabels"]},createdAt:{type:"string",format:"datetime"}}}}}},AppBskyNotificationGetUnreadCount:{lexicon:1,id:"app.bsky.notification.getUnreadCount",defs:{main:{type:"query",description:"Count the number of unread notifications for the requesting account. Requires auth.",parameters:{type:"params",properties:{priority:{type:"boolean"},seenAt:{type:"string",format:"datetime"}}},output:{encoding:"application/json",schema:{type:"object",required:["count"],properties:{count:{type:"integer"}}}}}}},AppBskyNotificationListNotifications:{lexicon:1,id:"app.bsky.notification.listNotifications",defs:{main:{type:"query",description:"Enumerate notifications for the requesting account. Requires auth.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},priority:{type:"boolean"},cursor:{type:"string"},seenAt:{type:"string",format:"datetime"}}},output:{encoding:"application/json",schema:{type:"object",required:["notifications"],properties:{cursor:{type:"string"},notifications:{type:"array",items:{type:"ref",ref:"lex:app.bsky.notification.listNotifications#notification"}},priority:{type:"boolean"},seenAt:{type:"string",format:"datetime"}}}}},notification:{type:"object",required:["uri","cid","author","reason","record","isRead","indexedAt"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},author:{type:"ref",ref:"lex:app.bsky.actor.defs#profileView"},reason:{type:"string",description:"Expected values are 'like', 'repost', 'follow', 'mention', 'reply', 'quote', and 'starterpack-joined'.",knownValues:["like","repost","follow","mention","reply","quote","starterpack-joined"]},reasonSubject:{type:"string",format:"at-uri"},record:{type:"unknown"},isRead:{type:"boolean"},indexedAt:{type:"string",format:"datetime"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}}}}}},AppBskyNotificationPutPreferences:{lexicon:1,id:"app.bsky.notification.putPreferences",defs:{main:{type:"procedure",description:"Set notification-related preferences for an account. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["priority"],properties:{priority:{type:"boolean"}}}}}}},AppBskyNotificationRegisterPush:{lexicon:1,id:"app.bsky.notification.registerPush",defs:{main:{type:"procedure",description:"Register to receive push notifications, via a specified service, for the requesting account. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["serviceDid","token","platform","appId"],properties:{serviceDid:{type:"string",format:"did"},token:{type:"string"},platform:{type:"string",knownValues:["ios","android","web"]},appId:{type:"string"}}}}}}},AppBskyNotificationUpdateSeen:{lexicon:1,id:"app.bsky.notification.updateSeen",defs:{main:{type:"procedure",description:"Notify server that the requesting account has seen notifications. Requires auth.",input:{encoding:"application/json",schema:{type:"object",required:["seenAt"],properties:{seenAt:{type:"string",format:"datetime"}}}}}}},AppBskyRichtextFacet:{lexicon:1,id:"app.bsky.richtext.facet",defs:{main:{type:"object",description:"Annotation of a sub-string within rich text.",required:["index","features"],properties:{index:{type:"ref",ref:"lex:app.bsky.richtext.facet#byteSlice"},features:{type:"array",items:{type:"union",refs:["lex:app.bsky.richtext.facet#mention","lex:app.bsky.richtext.facet#link","lex:app.bsky.richtext.facet#tag"]}}}},mention:{type:"object",description:"Facet feature for mention of another account. The text is usually a handle, including a '@' prefix, but the facet reference is a DID.",required:["did"],properties:{did:{type:"string",format:"did"}}},link:{type:"object",description:"Facet feature for a URL. The text URL may have been simplified or truncated, but the facet reference should be a complete URL.",required:["uri"],properties:{uri:{type:"string",format:"uri"}}},tag:{type:"object",description:"Facet feature for a hashtag. The text usually includes a '#' prefix, but the facet reference should not (except in the case of 'double hash tags').",required:["tag"],properties:{tag:{type:"string",maxLength:640,maxGraphemes:64}}},byteSlice:{type:"object",description:"Specifies the sub-string range a facet feature applies to. Start index is inclusive, end index is exclusive. Indices are zero-indexed, counting bytes of the UTF-8 encoded text. NOTE: some languages, like Javascript, use UTF-16 or Unicode codepoints for string slice indexing; in these languages, convert to byte arrays before working with facets.",required:["byteStart","byteEnd"],properties:{byteStart:{type:"integer",minimum:0},byteEnd:{type:"integer",minimum:0}}}}},AppBskyUnspeccedDefs:{lexicon:1,id:"app.bsky.unspecced.defs",defs:{skeletonSearchPost:{type:"object",required:["uri"],properties:{uri:{type:"string",format:"at-uri"}}},skeletonSearchActor:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}}}},AppBskyUnspeccedGetPopularFeedGenerators:{lexicon:1,id:"app.bsky.unspecced.getPopularFeedGenerators",defs:{main:{type:"query",description:"An unspecced view of globally popular feed generators.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"},query:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["feeds"],properties:{cursor:{type:"string"},feeds:{type:"array",items:{type:"ref",ref:"lex:app.bsky.feed.defs#generatorView"}}}}}}}},AppBskyUnspeccedGetSuggestionsSkeleton:{lexicon:1,id:"app.bsky.unspecced.getSuggestionsSkeleton",defs:{main:{type:"query",description:"Get a skeleton of suggested actors. Intended to be called and then hydrated through app.bsky.actor.getSuggestions",parameters:{type:"params",properties:{viewer:{type:"string",format:"did",description:"DID of the account making the request (not included for public/unauthenticated queries). Used to boost followed accounts in ranking."},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"},relativeToDid:{type:"string",format:"did",description:"DID of the account to get suggestions relative to. If not provided, suggestions will be based on the viewer."}}},output:{encoding:"application/json",schema:{type:"object",required:["actors"],properties:{cursor:{type:"string"},actors:{type:"array",items:{type:"ref",ref:"lex:app.bsky.unspecced.defs#skeletonSearchActor"}}}}}}}},AppBskyUnspeccedGetTaggedSuggestions:{lexicon:1,id:"app.bsky.unspecced.getTaggedSuggestions",defs:{main:{type:"query",description:"Get a list of suggestions (feeds and users) tagged with categories",parameters:{type:"params",properties:{}},output:{encoding:"application/json",schema:{type:"object",required:["suggestions"],properties:{suggestions:{type:"array",items:{type:"ref",ref:"lex:app.bsky.unspecced.getTaggedSuggestions#suggestion"}}}}}},suggestion:{type:"object",required:["tag","subjectType","subject"],properties:{tag:{type:"string"},subjectType:{type:"string",knownValues:["actor","feed"]},subject:{type:"string",format:"uri"}}}}},AppBskyUnspeccedSearchActorsSkeleton:{lexicon:1,id:"app.bsky.unspecced.searchActorsSkeleton",defs:{main:{type:"query",description:"Backend Actors (profile) search, returns only skeleton.",parameters:{type:"params",required:["q"],properties:{q:{type:"string",description:"Search query string; syntax, phrase, boolean, and faceting is unspecified, but Lucene query syntax is recommended. For typeahead search, only simple term match is supported, not full syntax."},viewer:{type:"string",format:"did",description:"DID of the account making the request (not included for public/unauthenticated queries). Used to boost followed accounts in ranking."},typeahead:{type:"boolean",description:"If true, acts as fast/simple 'typeahead' query."},limit:{type:"integer",minimum:1,maximum:100,default:25},cursor:{type:"string",description:"Optional pagination mechanism; may not necessarily allow scrolling through entire result set."}}},output:{encoding:"application/json",schema:{type:"object",required:["actors"],properties:{cursor:{type:"string"},hitsTotal:{type:"integer",description:"Count of search hits. Optional, may be rounded/truncated, and may not be possible to paginate through all hits."},actors:{type:"array",items:{type:"ref",ref:"lex:app.bsky.unspecced.defs#skeletonSearchActor"}}}}},errors:[{name:"BadQueryString"}]}}},AppBskyUnspeccedSearchPostsSkeleton:{lexicon:1,id:"app.bsky.unspecced.searchPostsSkeleton",defs:{main:{type:"query",description:"Backend Posts search, returns only skeleton",parameters:{type:"params",required:["q"],properties:{q:{type:"string",description:"Search query string; syntax, phrase, boolean, and faceting is unspecified, but Lucene query syntax is recommended."},sort:{type:"string",knownValues:["top","latest"],default:"latest",description:"Specifies the ranking order of results."},since:{type:"string",description:"Filter results for posts after the indicated datetime (inclusive). Expected to use 'sortAt' timestamp, which may not match 'createdAt'. Can be a datetime, or just an ISO date (YYYY-MM-DD)."},until:{type:"string",description:"Filter results for posts before the indicated datetime (not inclusive). Expected to use 'sortAt' timestamp, which may not match 'createdAt'. Can be a datetime, or just an ISO date (YYY-MM-DD)."},mentions:{type:"string",format:"at-identifier",description:"Filter to posts which mention the given account. Handles are resolved to DID before query-time. Only matches rich-text facet mentions."},author:{type:"string",format:"at-identifier",description:"Filter to posts by the given account. Handles are resolved to DID before query-time."},lang:{type:"string",format:"language",description:"Filter to posts in the given language. Expected to be based on post language field, though server may override language detection."},domain:{type:"string",description:"Filter to posts with URLs (facet links or embeds) linking to the given domain (hostname). Server may apply hostname normalization."},url:{type:"string",format:"uri",description:"Filter to posts with links (facet links or embeds) pointing to this URL. Server may apply URL normalization or fuzzy matching."},tag:{type:"array",items:{type:"string",maxLength:640,maxGraphemes:64},description:"Filter to posts with the given tag (hashtag), based on rich-text facet or tag field. Do not include the hash (#) prefix. Multiple tags can be specified, with 'AND' matching."},viewer:{type:"string",format:"did",description:"DID of the account making the request (not included for public/unauthenticated queries). Used for 'from:me' queries."},limit:{type:"integer",minimum:1,maximum:100,default:25},cursor:{type:"string",description:"Optional pagination mechanism; may not necessarily allow scrolling through entire result set."}}},output:{encoding:"application/json",schema:{type:"object",required:["posts"],properties:{cursor:{type:"string"},hitsTotal:{type:"integer",description:"Count of search hits. Optional, may be rounded/truncated, and may not be possible to paginate through all hits."},posts:{type:"array",items:{type:"ref",ref:"lex:app.bsky.unspecced.defs#skeletonSearchPost"}}}}},errors:[{name:"BadQueryString"}]}}},ChatBskyActorDeclaration:{lexicon:1,id:"chat.bsky.actor.declaration",defs:{main:{type:"record",description:"A declaration of a Bluesky chat account.",key:"literal:self",record:{type:"object",required:["allowIncoming"],properties:{allowIncoming:{type:"string",knownValues:["all","none","following"]}}}}}},ChatBskyActorDefs:{lexicon:1,id:"chat.bsky.actor.defs",defs:{profileViewBasic:{type:"object",required:["did","handle"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},displayName:{type:"string",maxGraphemes:64,maxLength:640},avatar:{type:"string",format:"uri"},associated:{type:"ref",ref:"lex:app.bsky.actor.defs#profileAssociated"},viewer:{type:"ref",ref:"lex:app.bsky.actor.defs#viewerState"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},chatDisabled:{type:"boolean",description:"Set to true when the actor cannot actively participate in converations"}}}}},ChatBskyActorDeleteAccount:{lexicon:1,id:"chat.bsky.actor.deleteAccount",defs:{main:{type:"procedure",output:{encoding:"application/json",schema:{type:"object",properties:{}}}}}},ChatBskyActorExportAccountData:{lexicon:1,id:"chat.bsky.actor.exportAccountData",defs:{main:{type:"query",output:{encoding:"application/jsonl"}}}},ChatBskyConvoDefs:{lexicon:1,id:"chat.bsky.convo.defs",defs:{messageRef:{type:"object",required:["did","messageId","convoId"],properties:{did:{type:"string",format:"did"},convoId:{type:"string"},messageId:{type:"string"}}},messageInput:{type:"object",required:["text"],properties:{text:{type:"string",maxLength:1e4,maxGraphemes:1e3},facets:{type:"array",description:"Annotations of text (mentions, URLs, hashtags, etc)",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},embed:{type:"union",refs:["lex:app.bsky.embed.record"]}}},messageView:{type:"object",required:["id","rev","text","sender","sentAt"],properties:{id:{type:"string"},rev:{type:"string"},text:{type:"string",maxLength:1e4,maxGraphemes:1e3},facets:{type:"array",description:"Annotations of text (mentions, URLs, hashtags, etc)",items:{type:"ref",ref:"lex:app.bsky.richtext.facet"}},embed:{type:"union",refs:["lex:app.bsky.embed.record#view"]},sender:{type:"ref",ref:"lex:chat.bsky.convo.defs#messageViewSender"},sentAt:{type:"string",format:"datetime"}}},deletedMessageView:{type:"object",required:["id","rev","sender","sentAt"],properties:{id:{type:"string"},rev:{type:"string"},sender:{type:"ref",ref:"lex:chat.bsky.convo.defs#messageViewSender"},sentAt:{type:"string",format:"datetime"}}},messageViewSender:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}},convoView:{type:"object",required:["id","rev","members","muted","unreadCount"],properties:{id:{type:"string"},rev:{type:"string"},members:{type:"array",items:{type:"ref",ref:"lex:chat.bsky.actor.defs#profileViewBasic"}},lastMessage:{type:"union",refs:["lex:chat.bsky.convo.defs#messageView","lex:chat.bsky.convo.defs#deletedMessageView"]},muted:{type:"boolean"},unreadCount:{type:"integer"}}},logBeginConvo:{type:"object",required:["rev","convoId"],properties:{rev:{type:"string"},convoId:{type:"string"}}},logLeaveConvo:{type:"object",required:["rev","convoId"],properties:{rev:{type:"string"},convoId:{type:"string"}}},logCreateMessage:{type:"object",required:["rev","convoId","message"],properties:{rev:{type:"string"},convoId:{type:"string"},message:{type:"union",refs:["lex:chat.bsky.convo.defs#messageView","lex:chat.bsky.convo.defs#deletedMessageView"]}}},logDeleteMessage:{type:"object",required:["rev","convoId","message"],properties:{rev:{type:"string"},convoId:{type:"string"},message:{type:"union",refs:["lex:chat.bsky.convo.defs#messageView","lex:chat.bsky.convo.defs#deletedMessageView"]}}}}},ChatBskyConvoDeleteMessageForSelf:{lexicon:1,id:"chat.bsky.convo.deleteMessageForSelf",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["convoId","messageId"],properties:{convoId:{type:"string"},messageId:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:chat.bsky.convo.defs#deletedMessageView"}}}}},ChatBskyConvoGetConvo:{lexicon:1,id:"chat.bsky.convo.getConvo",defs:{main:{type:"query",parameters:{type:"params",required:["convoId"],properties:{convoId:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["convo"],properties:{convo:{type:"ref",ref:"lex:chat.bsky.convo.defs#convoView"}}}}}}},ChatBskyConvoGetConvoForMembers:{lexicon:1,id:"chat.bsky.convo.getConvoForMembers",defs:{main:{type:"query",parameters:{type:"params",required:["members"],properties:{members:{type:"array",minLength:1,maxLength:10,items:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"object",required:["convo"],properties:{convo:{type:"ref",ref:"lex:chat.bsky.convo.defs#convoView"}}}}}}},ChatBskyConvoGetLog:{lexicon:1,id:"chat.bsky.convo.getLog",defs:{main:{type:"query",parameters:{type:"params",required:[],properties:{cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["logs"],properties:{cursor:{type:"string"},logs:{type:"array",items:{type:"union",refs:["lex:chat.bsky.convo.defs#logBeginConvo","lex:chat.bsky.convo.defs#logLeaveConvo","lex:chat.bsky.convo.defs#logCreateMessage","lex:chat.bsky.convo.defs#logDeleteMessage"]}}}}}}}},ChatBskyConvoGetMessages:{lexicon:1,id:"chat.bsky.convo.getMessages",defs:{main:{type:"query",parameters:{type:"params",required:["convoId"],properties:{convoId:{type:"string"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["messages"],properties:{cursor:{type:"string"},messages:{type:"array",items:{type:"union",refs:["lex:chat.bsky.convo.defs#messageView","lex:chat.bsky.convo.defs#deletedMessageView"]}}}}}}}},ChatBskyConvoLeaveConvo:{lexicon:1,id:"chat.bsky.convo.leaveConvo",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["convoId"],properties:{convoId:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"object",required:["convoId","rev"],properties:{convoId:{type:"string"},rev:{type:"string"}}}}}}},ChatBskyConvoListConvos:{lexicon:1,id:"chat.bsky.convo.listConvos",defs:{main:{type:"query",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["convos"],properties:{cursor:{type:"string"},convos:{type:"array",items:{type:"ref",ref:"lex:chat.bsky.convo.defs#convoView"}}}}}}}},ChatBskyConvoMuteConvo:{lexicon:1,id:"chat.bsky.convo.muteConvo",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["convoId"],properties:{convoId:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"object",required:["convo"],properties:{convo:{type:"ref",ref:"lex:chat.bsky.convo.defs#convoView"}}}}}}},ChatBskyConvoSendMessage:{lexicon:1,id:"chat.bsky.convo.sendMessage",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["convoId","message"],properties:{convoId:{type:"string"},message:{type:"ref",ref:"lex:chat.bsky.convo.defs#messageInput"}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:chat.bsky.convo.defs#messageView"}}}}},ChatBskyConvoSendMessageBatch:{lexicon:1,id:"chat.bsky.convo.sendMessageBatch",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["items"],properties:{items:{type:"array",maxLength:100,items:{type:"ref",ref:"lex:chat.bsky.convo.sendMessageBatch#batchItem"}}}}},output:{encoding:"application/json",schema:{type:"object",required:["items"],properties:{items:{type:"array",items:{type:"ref",ref:"lex:chat.bsky.convo.defs#messageView"}}}}}},batchItem:{type:"object",required:["convoId","message"],properties:{convoId:{type:"string"},message:{type:"ref",ref:"lex:chat.bsky.convo.defs#messageInput"}}}}},ChatBskyConvoUnmuteConvo:{lexicon:1,id:"chat.bsky.convo.unmuteConvo",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["convoId"],properties:{convoId:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"object",required:["convo"],properties:{convo:{type:"ref",ref:"lex:chat.bsky.convo.defs#convoView"}}}}}}},ChatBskyConvoUpdateRead:{lexicon:1,id:"chat.bsky.convo.updateRead",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["convoId"],properties:{convoId:{type:"string"},messageId:{type:"string"}}}},output:{encoding:"application/json",schema:{type:"object",required:["convo"],properties:{convo:{type:"ref",ref:"lex:chat.bsky.convo.defs#convoView"}}}}}}},ChatBskyModerationGetActorMetadata:{lexicon:1,id:"chat.bsky.moderation.getActorMetadata",defs:{main:{type:"query",parameters:{type:"params",required:["actor"],properties:{actor:{type:"string",format:"did"}}},output:{encoding:"application/json",schema:{type:"object",required:["day","month","all"],properties:{day:{type:"ref",ref:"lex:chat.bsky.moderation.getActorMetadata#metadata"},month:{type:"ref",ref:"lex:chat.bsky.moderation.getActorMetadata#metadata"},all:{type:"ref",ref:"lex:chat.bsky.moderation.getActorMetadata#metadata"}}}}},metadata:{type:"object",required:["messagesSent","messagesReceived","convos","convosStarted"],properties:{messagesSent:{type:"integer"},messagesReceived:{type:"integer"},convos:{type:"integer"},convosStarted:{type:"integer"}}}}},ChatBskyModerationGetMessageContext:{lexicon:1,id:"chat.bsky.moderation.getMessageContext",defs:{main:{type:"query",parameters:{type:"params",required:["messageId"],properties:{convoId:{type:"string",description:"Conversation that the message is from. NOTE: this field will eventually be required."},messageId:{type:"string"},before:{type:"integer",default:5},after:{type:"integer",default:5}}},output:{encoding:"application/json",schema:{type:"object",required:["messages"],properties:{messages:{type:"array",items:{type:"union",refs:["lex:chat.bsky.convo.defs#messageView","lex:chat.bsky.convo.defs#deletedMessageView"]}}}}}}}},ChatBskyModerationUpdateActorAccess:{lexicon:1,id:"chat.bsky.moderation.updateActorAccess",defs:{main:{type:"procedure",input:{encoding:"application/json",schema:{type:"object",required:["actor","allowAccess"],properties:{actor:{type:"string",format:"did"},allowAccess:{type:"boolean"},ref:{type:"string"}}}}}}},ToolsOzoneCommunicationCreateTemplate:{lexicon:1,id:"tools.ozone.communication.createTemplate",defs:{main:{type:"procedure",description:"Administrative action to create a new, re-usable communication (email for now) template.",input:{encoding:"application/json",schema:{type:"object",required:["subject","contentMarkdown","name"],properties:{name:{type:"string",description:"Name of the template."},contentMarkdown:{type:"string",description:"Content of the template, markdown supported, can contain variable placeholders."},subject:{type:"string",description:"Subject of the message, used in emails."},createdBy:{type:"string",format:"did",description:"DID of the user who is creating the template."}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.communication.defs#templateView"}}}}},ToolsOzoneCommunicationDefs:{lexicon:1,id:"tools.ozone.communication.defs",defs:{templateView:{type:"object",required:["id","name","contentMarkdown","disabled","lastUpdatedBy","createdAt","updatedAt"],properties:{id:{type:"string"},name:{type:"string",description:"Name of the template."},subject:{type:"string",description:"Content of the template, can contain markdown and variable placeholders."},contentMarkdown:{type:"string",description:"Subject of the message, used in emails."},disabled:{type:"boolean"},lastUpdatedBy:{type:"string",format:"did",description:"DID of the user who last updated the template."},createdAt:{type:"string",format:"datetime"},updatedAt:{type:"string",format:"datetime"}}}}},ToolsOzoneCommunicationDeleteTemplate:{lexicon:1,id:"tools.ozone.communication.deleteTemplate",defs:{main:{type:"procedure",description:"Delete a communication template.",input:{encoding:"application/json",schema:{type:"object",required:["id"],properties:{id:{type:"string"}}}}}}},ToolsOzoneCommunicationListTemplates:{lexicon:1,id:"tools.ozone.communication.listTemplates",defs:{main:{type:"query",description:"Get list of all communication templates.",output:{encoding:"application/json",schema:{type:"object",required:["communicationTemplates"],properties:{communicationTemplates:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.communication.defs#templateView"}}}}}}}},ToolsOzoneCommunicationUpdateTemplate:{lexicon:1,id:"tools.ozone.communication.updateTemplate",defs:{main:{type:"procedure",description:"Administrative action to update an existing communication template. Allows passing partial fields to patch specific fields only.",input:{encoding:"application/json",schema:{type:"object",required:["id"],properties:{id:{type:"string",description:"ID of the template to be updated."},name:{type:"string",description:"Name of the template."},contentMarkdown:{type:"string",description:"Content of the template, markdown supported, can contain variable placeholders."},subject:{type:"string",description:"Subject of the message, used in emails."},updatedBy:{type:"string",format:"did",description:"DID of the user who is updating the template."},disabled:{type:"boolean"}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.communication.defs#templateView"}}}}},ToolsOzoneModerationDefs:{lexicon:1,id:"tools.ozone.moderation.defs",defs:{modEventView:{type:"object",required:["id","event","subject","subjectBlobCids","createdBy","createdAt"],properties:{id:{type:"integer"},event:{type:"union",refs:["lex:tools.ozone.moderation.defs#modEventTakedown","lex:tools.ozone.moderation.defs#modEventReverseTakedown","lex:tools.ozone.moderation.defs#modEventComment","lex:tools.ozone.moderation.defs#modEventReport","lex:tools.ozone.moderation.defs#modEventLabel","lex:tools.ozone.moderation.defs#modEventAcknowledge","lex:tools.ozone.moderation.defs#modEventEscalate","lex:tools.ozone.moderation.defs#modEventMute","lex:tools.ozone.moderation.defs#modEventUnmute","lex:tools.ozone.moderation.defs#modEventMuteReporter","lex:tools.ozone.moderation.defs#modEventUnmuteReporter","lex:tools.ozone.moderation.defs#modEventEmail","lex:tools.ozone.moderation.defs#modEventResolveAppeal","lex:tools.ozone.moderation.defs#modEventDivert","lex:tools.ozone.moderation.defs#modEventTag"]},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef","lex:chat.bsky.convo.defs#messageRef"]},subjectBlobCids:{type:"array",items:{type:"string"}},createdBy:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"},creatorHandle:{type:"string"},subjectHandle:{type:"string"}}},modEventViewDetail:{type:"object",required:["id","event","subject","subjectBlobs","createdBy","createdAt"],properties:{id:{type:"integer"},event:{type:"union",refs:["lex:tools.ozone.moderation.defs#modEventTakedown","lex:tools.ozone.moderation.defs#modEventReverseTakedown","lex:tools.ozone.moderation.defs#modEventComment","lex:tools.ozone.moderation.defs#modEventReport","lex:tools.ozone.moderation.defs#modEventLabel","lex:tools.ozone.moderation.defs#modEventAcknowledge","lex:tools.ozone.moderation.defs#modEventEscalate","lex:tools.ozone.moderation.defs#modEventMute","lex:tools.ozone.moderation.defs#modEventUnmute","lex:tools.ozone.moderation.defs#modEventMuteReporter","lex:tools.ozone.moderation.defs#modEventUnmuteReporter","lex:tools.ozone.moderation.defs#modEventEmail","lex:tools.ozone.moderation.defs#modEventResolveAppeal","lex:tools.ozone.moderation.defs#modEventDivert","lex:tools.ozone.moderation.defs#modEventTag"]},subject:{type:"union",refs:["lex:tools.ozone.moderation.defs#repoView","lex:tools.ozone.moderation.defs#repoViewNotFound","lex:tools.ozone.moderation.defs#recordView","lex:tools.ozone.moderation.defs#recordViewNotFound"]},subjectBlobs:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.moderation.defs#blobView"}},createdBy:{type:"string",format:"did"},createdAt:{type:"string",format:"datetime"}}},subjectStatusView:{type:"object",required:["id","subject","createdAt","updatedAt","reviewState"],properties:{id:{type:"integer"},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef"]},subjectBlobCids:{type:"array",items:{type:"string",format:"cid"}},subjectRepoHandle:{type:"string"},updatedAt:{type:"string",format:"datetime",description:"Timestamp referencing when the last update was made to the moderation status of the subject"},createdAt:{type:"string",format:"datetime",description:"Timestamp referencing the first moderation status impacting event was emitted on the subject"},reviewState:{type:"ref",ref:"lex:tools.ozone.moderation.defs#subjectReviewState"},comment:{type:"string",description:"Sticky comment on the subject."},muteUntil:{type:"string",format:"datetime"},muteReportingUntil:{type:"string",format:"datetime"},lastReviewedBy:{type:"string",format:"did"},lastReviewedAt:{type:"string",format:"datetime"},lastReportedAt:{type:"string",format:"datetime"},lastAppealedAt:{type:"string",format:"datetime",description:"Timestamp referencing when the author of the subject appealed a moderation action"},takendown:{type:"boolean"},appealed:{type:"boolean",description:"True indicates that the a previously taken moderator action was appealed against, by the author of the content. False indicates last appeal was resolved by moderators."},suspendUntil:{type:"string",format:"datetime"},tags:{type:"array",items:{type:"string"}}}},subjectReviewState:{type:"string",knownValues:["lex:tools.ozone.moderation.defs#reviewOpen","lex:tools.ozone.moderation.defs#reviewEscalated","lex:tools.ozone.moderation.defs#reviewClosed","lex:tools.ozone.moderation.defs#reviewNone"]},reviewOpen:{type:"token",description:"Moderator review status of a subject: Open. Indicates that the subject needs to be reviewed by a moderator"},reviewEscalated:{type:"token",description:"Moderator review status of a subject: Escalated. Indicates that the subject was escalated for review by a moderator"},reviewClosed:{type:"token",description:"Moderator review status of a subject: Closed. Indicates that the subject was already reviewed and resolved by a moderator"},reviewNone:{type:"token",description:"Moderator review status of a subject: Unnecessary. Indicates that the subject does not need a review at the moment but there is probably some moderation related metadata available for it"},modEventTakedown:{type:"object",description:"Take down a subject permanently or temporarily",properties:{comment:{type:"string"},durationInHours:{type:"integer",description:"Indicates how long the takedown should be in effect before automatically expiring."}}},modEventReverseTakedown:{type:"object",description:"Revert take down action on a subject",properties:{comment:{type:"string",description:"Describe reasoning behind the reversal."}}},modEventResolveAppeal:{type:"object",description:"Resolve appeal on a subject",properties:{comment:{type:"string",description:"Describe resolution."}}},modEventComment:{type:"object",description:"Add a comment to a subject",required:["comment"],properties:{comment:{type:"string"},sticky:{type:"boolean",description:"Make the comment persistent on the subject"}}},modEventReport:{type:"object",description:"Report a subject",required:["reportType"],properties:{comment:{type:"string"},isReporterMuted:{type:"boolean",description:"Set to true if the reporter was muted from reporting at the time of the event. These reports won't impact the reviewState of the subject."},reportType:{type:"ref",ref:"lex:com.atproto.moderation.defs#reasonType"}}},modEventLabel:{type:"object",description:"Apply/Negate labels on a subject",required:["createLabelVals","negateLabelVals"],properties:{comment:{type:"string"},createLabelVals:{type:"array",items:{type:"string"}},negateLabelVals:{type:"array",items:{type:"string"}}}},modEventAcknowledge:{type:"object",properties:{comment:{type:"string"}}},modEventEscalate:{type:"object",properties:{comment:{type:"string"}}},modEventMute:{type:"object",description:"Mute incoming reports on a subject",required:["durationInHours"],properties:{comment:{type:"string"},durationInHours:{type:"integer",description:"Indicates how long the subject should remain muted."}}},modEventUnmute:{type:"object",description:"Unmute action on a subject",properties:{comment:{type:"string",description:"Describe reasoning behind the reversal."}}},modEventMuteReporter:{type:"object",description:"Mute incoming reports from an account",required:["durationInHours"],properties:{comment:{type:"string"},durationInHours:{type:"integer",description:"Indicates how long the account should remain muted."}}},modEventUnmuteReporter:{type:"object",description:"Unmute incoming reports from an account",properties:{comment:{type:"string",description:"Describe reasoning behind the reversal."}}},modEventEmail:{type:"object",description:"Keep a log of outgoing email to a user",required:["subjectLine"],properties:{subjectLine:{type:"string",description:"The subject line of the email sent to the user."},content:{type:"string",description:"The content of the email sent to the user."},comment:{type:"string",description:"Additional comment about the outgoing comm."}}},modEventDivert:{type:"object",description:"Divert a record's blobs to a 3rd party service for further scanning/tagging",properties:{comment:{type:"string"}}},modEventTag:{type:"object",description:"Add/Remove a tag on a subject",required:["add","remove"],properties:{add:{type:"array",items:{type:"string"},description:"Tags to be added to the subject. If already exists, won't be duplicated."},remove:{type:"array",items:{type:"string"},description:"Tags to be removed to the subject. Ignores a tag If it doesn't exist, won't be duplicated."},comment:{type:"string",description:"Additional comment about added/removed tags."}}},repoView:{type:"object",required:["did","handle","relatedRecords","indexedAt","moderation"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},email:{type:"string"},relatedRecords:{type:"array",items:{type:"unknown"}},indexedAt:{type:"string",format:"datetime"},moderation:{type:"ref",ref:"lex:tools.ozone.moderation.defs#moderation"},invitedBy:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"},invitesDisabled:{type:"boolean"},inviteNote:{type:"string"},deactivatedAt:{type:"string",format:"datetime"}}},repoViewDetail:{type:"object",required:["did","handle","relatedRecords","indexedAt","moderation"],properties:{did:{type:"string",format:"did"},handle:{type:"string",format:"handle"},email:{type:"string"},relatedRecords:{type:"array",items:{type:"unknown"}},indexedAt:{type:"string",format:"datetime"},moderation:{type:"ref",ref:"lex:tools.ozone.moderation.defs#moderationDetail"},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},invitedBy:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"},invites:{type:"array",items:{type:"ref",ref:"lex:com.atproto.server.defs#inviteCode"}},invitesDisabled:{type:"boolean"},inviteNote:{type:"string"},emailConfirmedAt:{type:"string",format:"datetime"},deactivatedAt:{type:"string",format:"datetime"}}},repoViewNotFound:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}},recordView:{type:"object",required:["uri","cid","value","blobCids","indexedAt","moderation","repo"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},value:{type:"unknown"},blobCids:{type:"array",items:{type:"string",format:"cid"}},indexedAt:{type:"string",format:"datetime"},moderation:{type:"ref",ref:"lex:tools.ozone.moderation.defs#moderation"},repo:{type:"ref",ref:"lex:tools.ozone.moderation.defs#repoView"}}},recordViewDetail:{type:"object",required:["uri","cid","value","blobs","indexedAt","moderation","repo"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"},value:{type:"unknown"},blobs:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.moderation.defs#blobView"}},labels:{type:"array",items:{type:"ref",ref:"lex:com.atproto.label.defs#label"}},indexedAt:{type:"string",format:"datetime"},moderation:{type:"ref",ref:"lex:tools.ozone.moderation.defs#moderationDetail"},repo:{type:"ref",ref:"lex:tools.ozone.moderation.defs#repoView"}}},recordViewNotFound:{type:"object",required:["uri"],properties:{uri:{type:"string",format:"at-uri"}}},moderation:{type:"object",properties:{subjectStatus:{type:"ref",ref:"lex:tools.ozone.moderation.defs#subjectStatusView"}}},moderationDetail:{type:"object",properties:{subjectStatus:{type:"ref",ref:"lex:tools.ozone.moderation.defs#subjectStatusView"}}},blobView:{type:"object",required:["cid","mimeType","size","createdAt"],properties:{cid:{type:"string",format:"cid"},mimeType:{type:"string"},size:{type:"integer"},createdAt:{type:"string",format:"datetime"},details:{type:"union",refs:["lex:tools.ozone.moderation.defs#imageDetails","lex:tools.ozone.moderation.defs#videoDetails"]},moderation:{type:"ref",ref:"lex:tools.ozone.moderation.defs#moderation"}}},imageDetails:{type:"object",required:["width","height"],properties:{width:{type:"integer"},height:{type:"integer"}}},videoDetails:{type:"object",required:["width","height","length"],properties:{width:{type:"integer"},height:{type:"integer"},length:{type:"integer"}}}}},ToolsOzoneModerationEmitEvent:{lexicon:1,id:"tools.ozone.moderation.emitEvent",defs:{main:{type:"procedure",description:"Take a moderation action on an actor.",input:{encoding:"application/json",schema:{type:"object",required:["event","subject","createdBy"],properties:{event:{type:"union",refs:["lex:tools.ozone.moderation.defs#modEventTakedown","lex:tools.ozone.moderation.defs#modEventAcknowledge","lex:tools.ozone.moderation.defs#modEventEscalate","lex:tools.ozone.moderation.defs#modEventComment","lex:tools.ozone.moderation.defs#modEventLabel","lex:tools.ozone.moderation.defs#modEventReport","lex:tools.ozone.moderation.defs#modEventMute","lex:tools.ozone.moderation.defs#modEventUnmute","lex:tools.ozone.moderation.defs#modEventMuteReporter","lex:tools.ozone.moderation.defs#modEventUnmuteReporter","lex:tools.ozone.moderation.defs#modEventReverseTakedown","lex:tools.ozone.moderation.defs#modEventEmail","lex:tools.ozone.moderation.defs#modEventTag"]},subject:{type:"union",refs:["lex:com.atproto.admin.defs#repoRef","lex:com.atproto.repo.strongRef"]},subjectBlobCids:{type:"array",items:{type:"string",format:"cid"}},createdBy:{type:"string",format:"did"}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.moderation.defs#modEventView"}},errors:[{name:"SubjectHasAction"}]}}},ToolsOzoneModerationGetEvent:{lexicon:1,id:"tools.ozone.moderation.getEvent",defs:{main:{type:"query",description:"Get details about a moderation event.",parameters:{type:"params",required:["id"],properties:{id:{type:"integer"}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.moderation.defs#modEventViewDetail"}}}}},ToolsOzoneModerationGetRecord:{lexicon:1,id:"tools.ozone.moderation.getRecord",defs:{main:{type:"query",description:"Get details about a record.",parameters:{type:"params",required:["uri"],properties:{uri:{type:"string",format:"at-uri"},cid:{type:"string",format:"cid"}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.moderation.defs#recordViewDetail"}},errors:[{name:"RecordNotFound"}]}}},ToolsOzoneModerationGetRepo:{lexicon:1,id:"tools.ozone.moderation.getRepo",defs:{main:{type:"query",description:"Get details about a repository.",parameters:{type:"params",required:["did"],properties:{did:{type:"string",format:"did"}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.moderation.defs#repoViewDetail"}},errors:[{name:"RepoNotFound"}]}}},ToolsOzoneModerationQueryEvents:{lexicon:1,id:"tools.ozone.moderation.queryEvents",defs:{main:{type:"query",description:"List moderation events related to a subject.",parameters:{type:"params",properties:{types:{type:"array",items:{type:"string"},description:"The types of events (fully qualified string in the format of tools.ozone.moderation.defs#modEvent<name>) to filter by. If not specified, all events are returned."},createdBy:{type:"string",format:"did"},sortDirection:{type:"string",default:"desc",enum:["asc","desc"],description:"Sort direction for the events. Defaults to descending order of created at timestamp."},createdAfter:{type:"string",format:"datetime",description:"Retrieve events created after a given timestamp"},createdBefore:{type:"string",format:"datetime",description:"Retrieve events created before a given timestamp"},subject:{type:"string",format:"uri"},includeAllUserRecords:{type:"boolean",default:!1,description:"If true, events on all record types (posts, lists, profile etc.) owned by the did are returned"},limit:{type:"integer",minimum:1,maximum:100,default:50},hasComment:{type:"boolean",description:"If true, only events with comments are returned"},comment:{type:"string",description:"If specified, only events with comments containing the keyword are returned"},addedLabels:{type:"array",items:{type:"string"},description:"If specified, only events where all of these labels were added are returned"},removedLabels:{type:"array",items:{type:"string"},description:"If specified, only events where all of these labels were removed are returned"},addedTags:{type:"array",items:{type:"string"},description:"If specified, only events where all of these tags were added are returned"},removedTags:{type:"array",items:{type:"string"},description:"If specified, only events where all of these tags were removed are returned"},reportTypes:{type:"array",items:{type:"string"}},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["events"],properties:{cursor:{type:"string"},events:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.moderation.defs#modEventView"}}}}}}}},ToolsOzoneModerationQueryStatuses:{lexicon:1,id:"tools.ozone.moderation.queryStatuses",defs:{main:{type:"query",description:"View moderation statuses of subjects (record or repo).",parameters:{type:"params",properties:{subject:{type:"string",format:"uri"},comment:{type:"string",description:"Search subjects by keyword from comments"},reportedAfter:{type:"string",format:"datetime",description:"Search subjects reported after a given timestamp"},reportedBefore:{type:"string",format:"datetime",description:"Search subjects reported before a given timestamp"},reviewedAfter:{type:"string",format:"datetime",description:"Search subjects reviewed after a given timestamp"},reviewedBefore:{type:"string",format:"datetime",description:"Search subjects reviewed before a given timestamp"},includeMuted:{type:"boolean",description:"By default, we don't include muted subjects in the results. Set this to true to include them."},onlyMuted:{type:"boolean",description:"When set to true, only muted subjects and reporters will be returned."},reviewState:{type:"string",description:"Specify when fetching subjects in a certain state"},ignoreSubjects:{type:"array",items:{type:"string",format:"uri"}},lastReviewedBy:{type:"string",format:"did",description:"Get all subject statuses that were reviewed by a specific moderator"},sortField:{type:"string",default:"lastReportedAt",enum:["lastReviewedAt","lastReportedAt"]},sortDirection:{type:"string",default:"desc",enum:["asc","desc"]},takendown:{type:"boolean",description:"Get subjects that were taken down"},appealed:{type:"boolean",description:"Get subjects in unresolved appealed status"},limit:{type:"integer",minimum:1,maximum:100,default:50},tags:{type:"array",items:{type:"string"}},excludeTags:{type:"array",items:{type:"string"}},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["subjectStatuses"],properties:{cursor:{type:"string"},subjectStatuses:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.moderation.defs#subjectStatusView"}}}}}}}},ToolsOzoneModerationSearchRepos:{lexicon:1,id:"tools.ozone.moderation.searchRepos",defs:{main:{type:"query",description:"Find repositories based on a search term.",parameters:{type:"params",properties:{term:{type:"string",description:"DEPRECATED: use 'q' instead"},q:{type:"string"},limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["repos"],properties:{cursor:{type:"string"},repos:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.moderation.defs#repoView"}}}}}}}},ToolsOzoneServerGetConfig:{lexicon:1,id:"tools.ozone.server.getConfig",defs:{main:{type:"query",description:"Get details about ozone's server configuration.",output:{encoding:"application/json",schema:{type:"object",properties:{appview:{type:"ref",ref:"lex:tools.ozone.server.getConfig#serviceConfig"},pds:{type:"ref",ref:"lex:tools.ozone.server.getConfig#serviceConfig"},blobDivert:{type:"ref",ref:"lex:tools.ozone.server.getConfig#serviceConfig"},chat:{type:"ref",ref:"lex:tools.ozone.server.getConfig#serviceConfig"},viewer:{type:"ref",ref:"lex:tools.ozone.server.getConfig#viewerConfig"}}}}},serviceConfig:{type:"object",properties:{url:{type:"string",format:"uri"}}},viewerConfig:{type:"object",properties:{role:{type:"string",knownValues:["tools.ozone.team.defs#roleAdmin","tools.ozone.team.defs#roleModerator","tools.ozone.team.defs#roleTriage"]}}}}},ToolsOzoneTeamAddMember:{lexicon:1,id:"tools.ozone.team.addMember",defs:{main:{type:"procedure",description:"Add a member to the ozone team. Requires admin role.",input:{encoding:"application/json",schema:{type:"object",required:["did","role"],properties:{did:{type:"string",format:"did"},role:{type:"string",knownValues:["tools.ozone.team.defs#roleAdmin","tools.ozone.team.defs#roleModerator","tools.ozone.team.defs#roleTriage"]}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.team.defs#member"}},errors:[{name:"MemberAlreadyExists",description:"Member already exists in the team."}]}}},ToolsOzoneTeamDefs:{lexicon:1,id:"tools.ozone.team.defs",defs:{member:{type:"object",required:["did","role"],properties:{did:{type:"string",format:"did"},disabled:{type:"boolean"},profile:{type:"ref",ref:"lex:app.bsky.actor.defs#profileViewDetailed"},createdAt:{type:"string",format:"datetime"},updatedAt:{type:"string",format:"datetime"},lastUpdatedBy:{type:"string"},role:{type:"string",knownValues:["lex:tools.ozone.team.defs#roleAdmin","lex:tools.ozone.team.defs#roleModerator","lex:tools.ozone.team.defs#roleTriage"]}}},roleAdmin:{type:"token",description:"Admin role. Highest level of access, can perform all actions."},roleModerator:{type:"token",description:"Moderator role. Can perform most actions."},roleTriage:{type:"token",description:"Triage role. Mostly intended for monitoring and escalating issues."}}},ToolsOzoneTeamDeleteMember:{lexicon:1,id:"tools.ozone.team.deleteMember",defs:{main:{type:"procedure",description:"Delete a member from ozone team. Requires admin role.",input:{encoding:"application/json",schema:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"}}}},errors:[{name:"MemberNotFound",description:"The member being deleted does not exist"},{name:"CannotDeleteSelf",description:"You can not delete yourself from the team"}]}}},ToolsOzoneTeamListMembers:{lexicon:1,id:"tools.ozone.team.listMembers",defs:{main:{type:"query",description:"List all members with access to the ozone service.",parameters:{type:"params",properties:{limit:{type:"integer",minimum:1,maximum:100,default:50},cursor:{type:"string"}}},output:{encoding:"application/json",schema:{type:"object",required:["members"],properties:{cursor:{type:"string"},members:{type:"array",items:{type:"ref",ref:"lex:tools.ozone.team.defs#member"}}}}}}}},ToolsOzoneTeamUpdateMember:{lexicon:1,id:"tools.ozone.team.updateMember",defs:{main:{type:"procedure",description:"Update a member in the ozone service. Requires admin role.",input:{encoding:"application/json",schema:{type:"object",required:["did"],properties:{did:{type:"string",format:"did"},disabled:{type:"boolean"},role:{type:"string",knownValues:["tools.ozone.team.defs#roleAdmin","tools.ozone.team.defs#roleModerator","tools.ozone.team.defs#roleTriage"]}}}},output:{encoding:"application/json",schema:{type:"ref",ref:"lex:tools.ozone.team.defs#member"}},errors:[{name:"MemberNotFound",description:"The member being updated does not exist in the team"}]}}}},dm.schemas=Object.values(dm.schemaDict),dm.lexicons=new nx.Lexicons(dm.schemas),dm.ids={ComAtprotoAdminDefs:"com.atproto.admin.defs",ComAtprotoAdminDeleteAccount:"com.atproto.admin.deleteAccount",ComAtprotoAdminDisableAccountInvites:"com.atproto.admin.disableAccountInvites",ComAtprotoAdminDisableInviteCodes:"com.atproto.admin.disableInviteCodes",ComAtprotoAdminEnableAccountInvites:"com.atproto.admin.enableAccountInvites",ComAtprotoAdminGetAccountInfo:"com.atproto.admin.getAccountInfo",ComAtprotoAdminGetAccountInfos:"com.atproto.admin.getAccountInfos",ComAtprotoAdminGetInviteCodes:"com.atproto.admin.getInviteCodes",ComAtprotoAdminGetSubjectStatus:"com.atproto.admin.getSubjectStatus",ComAtprotoAdminSearchAccounts:"com.atproto.admin.searchAccounts",ComAtprotoAdminSendEmail:"com.atproto.admin.sendEmail",ComAtprotoAdminUpdateAccountEmail:"com.atproto.admin.updateAccountEmail",ComAtprotoAdminUpdateAccountHandle:"com.atproto.admin.updateAccountHandle",ComAtprotoAdminUpdateAccountPassword:"com.atproto.admin.updateAccountPassword",ComAtprotoAdminUpdateSubjectStatus:"com.atproto.admin.updateSubjectStatus",ComAtprotoIdentityGetRecommendedDidCredentials:"com.atproto.identity.getRecommendedDidCredentials",ComAtprotoIdentityRequestPlcOperationSignature:"com.atproto.identity.requestPlcOperationSignature",ComAtprotoIdentityResolveHandle:"com.atproto.identity.resolveHandle",ComAtprotoIdentitySignPlcOperation:"com.atproto.identity.signPlcOperation",ComAtprotoIdentitySubmitPlcOperation:"com.atproto.identity.submitPlcOperation",ComAtprotoIdentityUpdateHandle:"com.atproto.identity.updateHandle",ComAtprotoLabelDefs:"com.atproto.label.defs",ComAtprotoLabelQueryLabels:"com.atproto.label.queryLabels",ComAtprotoLabelSubscribeLabels:"com.atproto.label.subscribeLabels",ComAtprotoModerationCreateReport:"com.atproto.moderation.createReport",ComAtprotoModerationDefs:"com.atproto.moderation.defs",ComAtprotoRepoApplyWrites:"com.atproto.repo.applyWrites",ComAtprotoRepoCreateRecord:"com.atproto.repo.createRecord",ComAtprotoRepoDeleteRecord:"com.atproto.repo.deleteRecord",ComAtprotoRepoDescribeRepo:"com.atproto.repo.describeRepo",ComAtprotoRepoGetRecord:"com.atproto.repo.getRecord",ComAtprotoRepoImportRepo:"com.atproto.repo.importRepo",ComAtprotoRepoListMissingBlobs:"com.atproto.repo.listMissingBlobs",ComAtprotoRepoListRecords:"com.atproto.repo.listRecords",ComAtprotoRepoPutRecord:"com.atproto.repo.putRecord",ComAtprotoRepoStrongRef:"com.atproto.repo.strongRef",ComAtprotoRepoUploadBlob:"com.atproto.repo.uploadBlob",ComAtprotoServerActivateAccount:"com.atproto.server.activateAccount",ComAtprotoServerCheckAccountStatus:"com.atproto.server.checkAccountStatus",ComAtprotoServerConfirmEmail:"com.atproto.server.confirmEmail",ComAtprotoServerCreateAccount:"com.atproto.server.createAccount",ComAtprotoServerCreateAppPassword:"com.atproto.server.createAppPassword",ComAtprotoServerCreateInviteCode:"com.atproto.server.createInviteCode",ComAtprotoServerCreateInviteCodes:"com.atproto.server.createInviteCodes",ComAtprotoServerCreateSession:"com.atproto.server.createSession",ComAtprotoServerDeactivateAccount:"com.atproto.server.deactivateAccount",ComAtprotoServerDefs:"com.atproto.server.defs",ComAtprotoServerDeleteAccount:"com.atproto.server.deleteAccount",ComAtprotoServerDeleteSession:"com.atproto.server.deleteSession",ComAtprotoServerDescribeServer:"com.atproto.server.describeServer",ComAtprotoServerGetAccountInviteCodes:"com.atproto.server.getAccountInviteCodes",ComAtprotoServerGetServiceAuth:"com.atproto.server.getServiceAuth",ComAtprotoServerGetSession:"com.atproto.server.getSession",ComAtprotoServerListAppPasswords:"com.atproto.server.listAppPasswords",ComAtprotoServerRefreshSession:"com.atproto.server.refreshSession",ComAtprotoServerRequestAccountDelete:"com.atproto.server.requestAccountDelete",ComAtprotoServerRequestEmailConfirmation:"com.atproto.server.requestEmailConfirmation",ComAtprotoServerRequestEmailUpdate:"com.atproto.server.requestEmailUpdate",ComAtprotoServerRequestPasswordReset:"com.atproto.server.requestPasswordReset",ComAtprotoServerReserveSigningKey:"com.atproto.server.reserveSigningKey",ComAtprotoServerResetPassword:"com.atproto.server.resetPassword",ComAtprotoServerRevokeAppPassword:"com.atproto.server.revokeAppPassword",ComAtprotoServerUpdateEmail:"com.atproto.server.updateEmail",ComAtprotoSyncGetBlob:"com.atproto.sync.getBlob",ComAtprotoSyncGetBlocks:"com.atproto.sync.getBlocks",ComAtprotoSyncGetCheckout:"com.atproto.sync.getCheckout",ComAtprotoSyncGetHead:"com.atproto.sync.getHead",ComAtprotoSyncGetLatestCommit:"com.atproto.sync.getLatestCommit",ComAtprotoSyncGetRecord:"com.atproto.sync.getRecord",ComAtprotoSyncGetRepo:"com.atproto.sync.getRepo",ComAtprotoSyncGetRepoStatus:"com.atproto.sync.getRepoStatus",ComAtprotoSyncListBlobs:"com.atproto.sync.listBlobs",ComAtprotoSyncListRepos:"com.atproto.sync.listRepos",ComAtprotoSyncNotifyOfUpdate:"com.atproto.sync.notifyOfUpdate",ComAtprotoSyncRequestCrawl:"com.atproto.sync.requestCrawl",ComAtprotoSyncSubscribeRepos:"com.atproto.sync.subscribeRepos",ComAtprotoTempCheckSignupQueue:"com.atproto.temp.checkSignupQueue",ComAtprotoTempFetchLabels:"com.atproto.temp.fetchLabels",ComAtprotoTempRequestPhoneVerification:"com.atproto.temp.requestPhoneVerification",AppBskyActorDefs:"app.bsky.actor.defs",AppBskyActorGetPreferences:"app.bsky.actor.getPreferences",AppBskyActorGetProfile:"app.bsky.actor.getProfile",AppBskyActorGetProfiles:"app.bsky.actor.getProfiles",AppBskyActorGetSuggestions:"app.bsky.actor.getSuggestions",AppBskyActorProfile:"app.bsky.actor.profile",AppBskyActorPutPreferences:"app.bsky.actor.putPreferences",AppBskyActorSearchActors:"app.bsky.actor.searchActors",AppBskyActorSearchActorsTypeahead:"app.bsky.actor.searchActorsTypeahead",AppBskyEmbedExternal:"app.bsky.embed.external",AppBskyEmbedImages:"app.bsky.embed.images",AppBskyEmbedRecord:"app.bsky.embed.record",AppBskyEmbedRecordWithMedia:"app.bsky.embed.recordWithMedia",AppBskyFeedDefs:"app.bsky.feed.defs",AppBskyFeedDescribeFeedGenerator:"app.bsky.feed.describeFeedGenerator",AppBskyFeedGenerator:"app.bsky.feed.generator",AppBskyFeedGetActorFeeds:"app.bsky.feed.getActorFeeds",AppBskyFeedGetActorLikes:"app.bsky.feed.getActorLikes",AppBskyFeedGetAuthorFeed:"app.bsky.feed.getAuthorFeed",AppBskyFeedGetFeed:"app.bsky.feed.getFeed",AppBskyFeedGetFeedGenerator:"app.bsky.feed.getFeedGenerator",AppBskyFeedGetFeedGenerators:"app.bsky.feed.getFeedGenerators",AppBskyFeedGetFeedSkeleton:"app.bsky.feed.getFeedSkeleton",AppBskyFeedGetLikes:"app.bsky.feed.getLikes",AppBskyFeedGetListFeed:"app.bsky.feed.getListFeed",AppBskyFeedGetPostThread:"app.bsky.feed.getPostThread",AppBskyFeedGetPosts:"app.bsky.feed.getPosts",AppBskyFeedGetRepostedBy:"app.bsky.feed.getRepostedBy",AppBskyFeedGetSuggestedFeeds:"app.bsky.feed.getSuggestedFeeds",AppBskyFeedGetTimeline:"app.bsky.feed.getTimeline",AppBskyFeedLike:"app.bsky.feed.like",AppBskyFeedPost:"app.bsky.feed.post",AppBskyFeedRepost:"app.bsky.feed.repost",AppBskyFeedSearchPosts:"app.bsky.feed.searchPosts",AppBskyFeedSendInteractions:"app.bsky.feed.sendInteractions",AppBskyFeedThreadgate:"app.bsky.feed.threadgate",AppBskyGraphBlock:"app.bsky.graph.block",AppBskyGraphDefs:"app.bsky.graph.defs",AppBskyGraphFollow:"app.bsky.graph.follow",AppBskyGraphGetActorStarterPacks:"app.bsky.graph.getActorStarterPacks",AppBskyGraphGetBlocks:"app.bsky.graph.getBlocks",AppBskyGraphGetFollowers:"app.bsky.graph.getFollowers",AppBskyGraphGetFollows:"app.bsky.graph.getFollows",AppBskyGraphGetKnownFollowers:"app.bsky.graph.getKnownFollowers",AppBskyGraphGetList:"app.bsky.graph.getList",AppBskyGraphGetListBlocks:"app.bsky.graph.getListBlocks",AppBskyGraphGetListMutes:"app.bsky.graph.getListMutes",AppBskyGraphGetLists:"app.bsky.graph.getLists",AppBskyGraphGetMutes:"app.bsky.graph.getMutes",AppBskyGraphGetRelationships:"app.bsky.graph.getRelationships",AppBskyGraphGetStarterPack:"app.bsky.graph.getStarterPack",AppBskyGraphGetStarterPacks:"app.bsky.graph.getStarterPacks",AppBskyGraphGetSuggestedFollowsByActor:"app.bsky.graph.getSuggestedFollowsByActor",AppBskyGraphList:"app.bsky.graph.list",AppBskyGraphListblock:"app.bsky.graph.listblock",AppBskyGraphListitem:"app.bsky.graph.listitem",AppBskyGraphMuteActor:"app.bsky.graph.muteActor",AppBskyGraphMuteActorList:"app.bsky.graph.muteActorList",AppBskyGraphMuteThread:"app.bsky.graph.muteThread",AppBskyGraphStarterpack:"app.bsky.graph.starterpack",AppBskyGraphUnmuteActor:"app.bsky.graph.unmuteActor",AppBskyGraphUnmuteActorList:"app.bsky.graph.unmuteActorList",AppBskyGraphUnmuteThread:"app.bsky.graph.unmuteThread",AppBskyLabelerDefs:"app.bsky.labeler.defs",AppBskyLabelerGetServices:"app.bsky.labeler.getServices",AppBskyLabelerService:"app.bsky.labeler.service",AppBskyNotificationGetUnreadCount:"app.bsky.notification.getUnreadCount",AppBskyNotificationListNotifications:"app.bsky.notification.listNotifications",AppBskyNotificationPutPreferences:"app.bsky.notification.putPreferences",AppBskyNotificationRegisterPush:"app.bsky.notification.registerPush",AppBskyNotificationUpdateSeen:"app.bsky.notification.updateSeen",AppBskyRichtextFacet:"app.bsky.richtext.facet",AppBskyUnspeccedDefs:"app.bsky.unspecced.defs",AppBskyUnspeccedGetPopularFeedGenerators:"app.bsky.unspecced.getPopularFeedGenerators",AppBskyUnspeccedGetSuggestionsSkeleton:"app.bsky.unspecced.getSuggestionsSkeleton",AppBskyUnspeccedGetTaggedSuggestions:"app.bsky.unspecced.getTaggedSuggestions",AppBskyUnspeccedSearchActorsSkeleton:"app.bsky.unspecced.searchActorsSkeleton",AppBskyUnspeccedSearchPostsSkeleton:"app.bsky.unspecced.searchPostsSkeleton",ChatBskyActorDeclaration:"chat.bsky.actor.declaration",ChatBskyActorDefs:"chat.bsky.actor.defs",ChatBskyActorDeleteAccount:"chat.bsky.actor.deleteAccount",ChatBskyActorExportAccountData:"chat.bsky.actor.exportAccountData",ChatBskyConvoDefs:"chat.bsky.convo.defs",ChatBskyConvoDeleteMessageForSelf:"chat.bsky.convo.deleteMessageForSelf",ChatBskyConvoGetConvo:"chat.bsky.convo.getConvo",ChatBskyConvoGetConvoForMembers:"chat.bsky.convo.getConvoForMembers",ChatBskyConvoGetLog:"chat.bsky.convo.getLog",ChatBskyConvoGetMessages:"chat.bsky.convo.getMessages",ChatBskyConvoLeaveConvo:"chat.bsky.convo.leaveConvo",ChatBskyConvoListConvos:"chat.bsky.convo.listConvos",ChatBskyConvoMuteConvo:"chat.bsky.convo.muteConvo",ChatBskyConvoSendMessage:"chat.bsky.convo.sendMessage",ChatBskyConvoSendMessageBatch:"chat.bsky.convo.sendMessageBatch",ChatBskyConvoUnmuteConvo:"chat.bsky.convo.unmuteConvo",ChatBskyConvoUpdateRead:"chat.bsky.convo.updateRead",ChatBskyModerationGetActorMetadata:"chat.bsky.moderation.getActorMetadata",ChatBskyModerationGetMessageContext:"chat.bsky.moderation.getMessageContext",ChatBskyModerationUpdateActorAccess:"chat.bsky.moderation.updateActorAccess",ToolsOzoneCommunicationCreateTemplate:"tools.ozone.communication.createTemplate",ToolsOzoneCommunicationDefs:"tools.ozone.communication.defs",ToolsOzoneCommunicationDeleteTemplate:"tools.ozone.communication.deleteTemplate",ToolsOzoneCommunicationListTemplates:"tools.ozone.communication.listTemplates",ToolsOzoneCommunicationUpdateTemplate:"tools.ozone.communication.updateTemplate",ToolsOzoneModerationDefs:"tools.ozone.moderation.defs",ToolsOzoneModerationEmitEvent:"tools.ozone.moderation.emitEvent",ToolsOzoneModerationGetEvent:"tools.ozone.moderation.getEvent",ToolsOzoneModerationGetRecord:"tools.ozone.moderation.getRecord",ToolsOzoneModerationGetRepo:"tools.ozone.moderation.getRepo",ToolsOzoneModerationQueryEvents:"tools.ozone.moderation.queryEvents",ToolsOzoneModerationQueryStatuses:"tools.ozone.moderation.queryStatuses",ToolsOzoneModerationSearchRepos:"tools.ozone.moderation.searchRepos",ToolsOzoneServerGetConfig:"tools.ozone.server.getConfig",ToolsOzoneTeamAddMember:"tools.ozone.team.addMember",ToolsOzoneTeamDefs:"tools.ozone.team.defs",ToolsOzoneTeamDeleteMember:"tools.ozone.team.deleteMember",ToolsOzoneTeamListMembers:"tools.ozone.team.listMembers",ToolsOzoneTeamUpdateMember:"tools.ozone.team.updateMember"};var dy={};Object.defineProperty(dy,"__esModule",{value:!0}),dy.toKnownErr=void 0,dy.toKnownErr=function(e){return da.XRPCError,e};var dg={};Object.defineProperty(dg,"__esModule",{value:!0}),dg.toKnownErr=void 0,dg.toKnownErr=function(e){return da.XRPCError,e};var db={};Object.defineProperty(db,"__esModule",{value:!0}),db.toKnownErr=void 0,db.toKnownErr=function(e){return da.XRPCError,e};var dv={};Object.defineProperty(dv,"__esModule",{value:!0}),dv.toKnownErr=void 0,dv.toKnownErr=function(e){return da.XRPCError,e};var dE={};Object.defineProperty(dE,"__esModule",{value:!0}),dE.toKnownErr=void 0,dE.toKnownErr=function(e){return da.XRPCError,e};var dR={};Object.defineProperty(dR,"__esModule",{value:!0}),dR.toKnownErr=void 0,dR.toKnownErr=function(e){return da.XRPCError,e};var dA={};Object.defineProperty(dA,"__esModule",{value:!0}),dA.toKnownErr=void 0,dA.toKnownErr=function(e){return da.XRPCError,e};var d_={};Object.defineProperty(d_,"__esModule",{value:!0}),d_.toKnownErr=void 0,d_.toKnownErr=function(e){return da.XRPCError,e};var dT={};Object.defineProperty(dT,"__esModule",{value:!0}),dT.toKnownErr=void 0,dT.toKnownErr=function(e){return da.XRPCError,e};var dw={};Object.defineProperty(dw,"__esModule",{value:!0}),dw.toKnownErr=void 0,dw.toKnownErr=function(e){return da.XRPCError,e};var dC={};Object.defineProperty(dC,"__esModule",{value:!0}),dC.toKnownErr=void 0,dC.toKnownErr=function(e){return da.XRPCError,e};var dS={};Object.defineProperty(dS,"__esModule",{value:!0}),dS.toKnownErr=void 0,dS.toKnownErr=function(e){return da.XRPCError,e};var dL={};Object.defineProperty(dL,"__esModule",{value:!0}),dL.toKnownErr=void 0,dL.toKnownErr=function(e){return da.XRPCError,e};var dk={};Object.defineProperty(dk,"__esModule",{value:!0}),dk.toKnownErr=void 0,dk.toKnownErr=function(e){return da.XRPCError,e};var dx={};Object.defineProperty(dx,"__esModule",{value:!0}),dx.toKnownErr=void 0,dx.toKnownErr=function(e){return da.XRPCError,e};var dP={};Object.defineProperty(dP,"__esModule",{value:!0}),dP.toKnownErr=void 0,dP.toKnownErr=function(e){return da.XRPCError,e};var dB={};Object.defineProperty(dB,"__esModule",{value:!0}),dB.toKnownErr=void 0,dB.toKnownErr=function(e){return da.XRPCError,e};var dD={};Object.defineProperty(dD,"__esModule",{value:!0}),dD.toKnownErr=void 0,dD.toKnownErr=function(e){return da.XRPCError,e};var dO={};Object.defineProperty(dO,"__esModule",{value:!0}),dO.toKnownErr=void 0,dO.toKnownErr=function(e){return da.XRPCError,e};var dU={};Object.defineProperty(dU,"__esModule",{value:!0}),dU.toKnownErr=void 0,dU.toKnownErr=function(e){return da.XRPCError,e};var dI={};Object.defineProperty(dI,"__esModule",{value:!0}),dI.toKnownErr=void 0,dI.toKnownErr=function(e){return da.XRPCError,e};var dK={};Object.defineProperty(dK,"__esModule",{value:!0}),dK.toKnownErr=void 0,dK.toKnownErr=function(e){return da.XRPCError,e};var dj={},dM={};Object.defineProperty(dM,"__esModule",{value:!0}),dM.hasProp=dM.isObj=void 0,dM.isObj=function(e){return"object"==typeof e&&null!==e},dM.hasProp=function(e,t){return t in e},Object.defineProperty(dj,"__esModule",{value:!0}),dj.validateDelete=dj.isDelete=dj.validateUpdate=dj.isUpdate=dj.validateCreate=dj.isCreate=dj.toKnownErr=dj.InvalidSwapError=void 0;let dN=da,dV=class extends dN.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};dj.InvalidSwapError=dV,dj.toKnownErr=function(e){return e instanceof dN.XRPCError&&"InvalidSwap"===e.error?new dV(e):e},dj.isCreate=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.repo.applyWrites#create"===e.$type},dj.validateCreate=function(e){return dm.lexicons.validate("com.atproto.repo.applyWrites#create",e)},dj.isUpdate=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.repo.applyWrites#update"===e.$type},dj.validateUpdate=function(e){return dm.lexicons.validate("com.atproto.repo.applyWrites#update",e)},dj.isDelete=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.repo.applyWrites#delete"===e.$type},dj.validateDelete=function(e){return dm.lexicons.validate("com.atproto.repo.applyWrites#delete",e)};var dF={};Object.defineProperty(dF,"__esModule",{value:!0}),dF.toKnownErr=dF.InvalidSwapError=void 0;let dG=da,dq=class extends dG.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};dF.InvalidSwapError=dq,dF.toKnownErr=function(e){return e instanceof dG.XRPCError&&"InvalidSwap"===e.error?new dq(e):e};var d$={};Object.defineProperty(d$,"__esModule",{value:!0}),d$.toKnownErr=d$.InvalidSwapError=void 0;let dz=da,dX=class extends dz.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};d$.InvalidSwapError=dX,d$.toKnownErr=function(e){return e instanceof dz.XRPCError&&"InvalidSwap"===e.error?new dX(e):e};var dH={};Object.defineProperty(dH,"__esModule",{value:!0}),dH.toKnownErr=void 0,dH.toKnownErr=function(e){return da.XRPCError,e};var dZ={};Object.defineProperty(dZ,"__esModule",{value:!0}),dZ.toKnownErr=void 0,dZ.toKnownErr=function(e){return da.XRPCError,e};var dW={};Object.defineProperty(dW,"__esModule",{value:!0}),dW.toKnownErr=void 0,dW.toKnownErr=function(e){return da.XRPCError,e};var dY={};Object.defineProperty(dY,"__esModule",{value:!0}),dY.validateRecordBlob=dY.isRecordBlob=dY.toKnownErr=void 0,dY.toKnownErr=function(e){return da.XRPCError,e},dY.isRecordBlob=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.repo.listMissingBlobs#recordBlob"===e.$type},dY.validateRecordBlob=function(e){return dm.lexicons.validate("com.atproto.repo.listMissingBlobs#recordBlob",e)};var dQ={};Object.defineProperty(dQ,"__esModule",{value:!0}),dQ.validateRecord=dQ.isRecord=dQ.toKnownErr=void 0,dQ.toKnownErr=function(e){return da.XRPCError,e},dQ.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.repo.listRecords#record"===e.$type},dQ.validateRecord=function(e){return dm.lexicons.validate("com.atproto.repo.listRecords#record",e)};var dJ={};Object.defineProperty(dJ,"__esModule",{value:!0}),dJ.toKnownErr=dJ.InvalidSwapError=void 0;let d0=da;class d1 extends d0.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}dJ.InvalidSwapError=d1,dJ.toKnownErr=function(e){return e instanceof d0.XRPCError&&"InvalidSwap"===e.error?new d1(e):e};var d4={};Object.defineProperty(d4,"__esModule",{value:!0}),d4.toKnownErr=void 0,d4.toKnownErr=function(e){return da.XRPCError,e};var d5={};Object.defineProperty(d5,"__esModule",{value:!0}),d5.toKnownErr=void 0,d5.toKnownErr=function(e){return da.XRPCError,e};var d2={};Object.defineProperty(d2,"__esModule",{value:!0}),d2.toKnownErr=void 0,d2.toKnownErr=function(e){return da.XRPCError,e};var d3={};Object.defineProperty(d3,"__esModule",{value:!0}),d3.toKnownErr=d3.InvalidEmailError=d3.InvalidTokenError=d3.ExpiredTokenError=d3.AccountNotFoundError=void 0;let d7=da;class d6 extends d7.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}d3.AccountNotFoundError=d6;let d9=class extends d7.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};d3.ExpiredTokenError=d9;let d8=class extends d7.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};d3.InvalidTokenError=d8;class ce extends d7.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}d3.InvalidEmailError=ce,d3.toKnownErr=function(e){if(e instanceof d7.XRPCError){if("AccountNotFound"===e.error)return new d6(e);if("ExpiredToken"===e.error)return new d9(e);if("InvalidToken"===e.error)return new d8(e);if("InvalidEmail"===e.error)return new ce(e)}return e};var ct={};Object.defineProperty(ct,"__esModule",{value:!0}),ct.toKnownErr=ct.IncompatibleDidDocError=ct.UnresolvableDidError=ct.UnsupportedDomainError=ct.HandleNotAvailableError=ct.InvalidInviteCodeError=ct.InvalidPasswordError=ct.InvalidHandleError=void 0;let cr=da;class ci extends cr.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}ct.InvalidHandleError=ci;class co extends cr.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}ct.InvalidPasswordError=co;class cn extends cr.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}ct.InvalidInviteCodeError=cn;class cs extends cr.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}ct.HandleNotAvailableError=cs;class ca extends cr.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}ct.UnsupportedDomainError=ca;class cl extends cr.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}ct.UnresolvableDidError=cl;class cd extends cr.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}ct.IncompatibleDidDocError=cd,ct.toKnownErr=function(e){if(e instanceof cr.XRPCError){if("InvalidHandle"===e.error)return new ci(e);if("InvalidPassword"===e.error)return new co(e);if("InvalidInviteCode"===e.error)return new cn(e);if("HandleNotAvailable"===e.error)return new cs(e);if("UnsupportedDomain"===e.error)return new ca(e);if("UnresolvableDid"===e.error)return new cl(e);if("IncompatibleDidDoc"===e.error)return new cd(e)}return e};var cc={};Object.defineProperty(cc,"__esModule",{value:!0}),cc.validateAppPassword=cc.isAppPassword=cc.toKnownErr=cc.AccountTakedownError=void 0;let cp=da,cu=class extends cp.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};cc.AccountTakedownError=cu,cc.toKnownErr=function(e){return e instanceof cp.XRPCError&&"AccountTakedown"===e.error?new cu(e):e},cc.isAppPassword=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.server.createAppPassword#appPassword"===e.$type},cc.validateAppPassword=function(e){return dm.lexicons.validate("com.atproto.server.createAppPassword#appPassword",e)};var cf={};Object.defineProperty(cf,"__esModule",{value:!0}),cf.toKnownErr=void 0,cf.toKnownErr=function(e){return da.XRPCError,e};var ch={};Object.defineProperty(ch,"__esModule",{value:!0}),ch.validateAccountCodes=ch.isAccountCodes=ch.toKnownErr=void 0,ch.toKnownErr=function(e){return da.XRPCError,e},ch.isAccountCodes=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.server.createInviteCodes#accountCodes"===e.$type},ch.validateAccountCodes=function(e){return dm.lexicons.validate("com.atproto.server.createInviteCodes#accountCodes",e)};var cm={};Object.defineProperty(cm,"__esModule",{value:!0}),cm.toKnownErr=cm.AuthFactorTokenRequiredError=cm.AccountTakedownError=void 0;let cy=da,cg=class extends cy.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};cm.AccountTakedownError=cg;class cb extends cy.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}cm.AuthFactorTokenRequiredError=cb,cm.toKnownErr=function(e){if(e instanceof cy.XRPCError){if("AccountTakedown"===e.error)return new cg(e);if("AuthFactorTokenRequired"===e.error)return new cb(e)}return e};var cv={};Object.defineProperty(cv,"__esModule",{value:!0}),cv.toKnownErr=void 0,cv.toKnownErr=function(e){return da.XRPCError,e};var cE={};Object.defineProperty(cE,"__esModule",{value:!0}),cE.toKnownErr=cE.InvalidTokenError=cE.ExpiredTokenError=void 0;let cR=da,cA=class extends cR.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};cE.ExpiredTokenError=cA;let c_=class extends cR.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};cE.InvalidTokenError=c_,cE.toKnownErr=function(e){if(e instanceof cR.XRPCError){if("ExpiredToken"===e.error)return new cA(e);if("InvalidToken"===e.error)return new c_(e)}return e};var cT={};Object.defineProperty(cT,"__esModule",{value:!0}),cT.toKnownErr=void 0,cT.toKnownErr=function(e){return da.XRPCError,e};var cw={};Object.defineProperty(cw,"__esModule",{value:!0}),cw.validateContact=cw.isContact=cw.validateLinks=cw.isLinks=cw.toKnownErr=void 0,cw.toKnownErr=function(e){return da.XRPCError,e},cw.isLinks=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.server.describeServer#links"===e.$type},cw.validateLinks=function(e){return dm.lexicons.validate("com.atproto.server.describeServer#links",e)},cw.isContact=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.server.describeServer#contact"===e.$type},cw.validateContact=function(e){return dm.lexicons.validate("com.atproto.server.describeServer#contact",e)};var cC={};Object.defineProperty(cC,"__esModule",{value:!0}),cC.toKnownErr=cC.DuplicateCreateError=void 0;let cS=da;class cL extends cS.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}cC.DuplicateCreateError=cL,cC.toKnownErr=function(e){return e instanceof cS.XRPCError&&"DuplicateCreate"===e.error?new cL(e):e};var ck={};Object.defineProperty(ck,"__esModule",{value:!0}),ck.toKnownErr=ck.BadExpirationError=void 0;let cx=da;class cP extends cx.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}ck.BadExpirationError=cP,ck.toKnownErr=function(e){return e instanceof cx.XRPCError&&"BadExpiration"===e.error?new cP(e):e};var cB={};Object.defineProperty(cB,"__esModule",{value:!0}),cB.toKnownErr=void 0,cB.toKnownErr=function(e){return da.XRPCError,e};var cD={};Object.defineProperty(cD,"__esModule",{value:!0}),cD.validateAppPassword=cD.isAppPassword=cD.toKnownErr=cD.AccountTakedownError=void 0;let cO=da,cU=class extends cO.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};cD.AccountTakedownError=cU,cD.toKnownErr=function(e){return e instanceof cO.XRPCError&&"AccountTakedown"===e.error?new cU(e):e},cD.isAppPassword=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.server.listAppPasswords#appPassword"===e.$type},cD.validateAppPassword=function(e){return dm.lexicons.validate("com.atproto.server.listAppPasswords#appPassword",e)};var cI={};Object.defineProperty(cI,"__esModule",{value:!0}),cI.toKnownErr=cI.AccountTakedownError=void 0;let cK=da;class cj extends cK.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}cI.AccountTakedownError=cj,cI.toKnownErr=function(e){return e instanceof cK.XRPCError&&"AccountTakedown"===e.error?new cj(e):e};var cM={};Object.defineProperty(cM,"__esModule",{value:!0}),cM.toKnownErr=void 0,cM.toKnownErr=function(e){return da.XRPCError,e};var cN={};Object.defineProperty(cN,"__esModule",{value:!0}),cN.toKnownErr=void 0,cN.toKnownErr=function(e){return da.XRPCError,e};var cV={};Object.defineProperty(cV,"__esModule",{value:!0}),cV.toKnownErr=void 0,cV.toKnownErr=function(e){return da.XRPCError,e};var cF={};Object.defineProperty(cF,"__esModule",{value:!0}),cF.toKnownErr=void 0,cF.toKnownErr=function(e){return da.XRPCError,e};var cG={};Object.defineProperty(cG,"__esModule",{value:!0}),cG.toKnownErr=void 0,cG.toKnownErr=function(e){return da.XRPCError,e};var cq={};Object.defineProperty(cq,"__esModule",{value:!0}),cq.toKnownErr=cq.InvalidTokenError=cq.ExpiredTokenError=void 0;let c$=da,cz=class extends c$.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};cq.ExpiredTokenError=cz;let cX=class extends c$.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};cq.InvalidTokenError=cX,cq.toKnownErr=function(e){if(e instanceof c$.XRPCError){if("ExpiredToken"===e.error)return new cz(e);if("InvalidToken"===e.error)return new cX(e)}return e};var cH={};Object.defineProperty(cH,"__esModule",{value:!0}),cH.toKnownErr=void 0,cH.toKnownErr=function(e){return da.XRPCError,e};var cZ={};Object.defineProperty(cZ,"__esModule",{value:!0}),cZ.toKnownErr=cZ.TokenRequiredError=cZ.InvalidTokenError=cZ.ExpiredTokenError=void 0;let cW=da;class cY extends cW.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}cZ.ExpiredTokenError=cY;class cQ extends cW.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}cZ.InvalidTokenError=cQ;class cJ extends cW.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}cZ.TokenRequiredError=cJ,cZ.toKnownErr=function(e){if(e instanceof cW.XRPCError){if("ExpiredToken"===e.error)return new cY(e);if("InvalidToken"===e.error)return new cQ(e);if("TokenRequired"===e.error)return new cJ(e)}return e};var c0={};Object.defineProperty(c0,"__esModule",{value:!0}),c0.toKnownErr=c0.RepoDeactivatedError=c0.RepoSuspendedError=c0.RepoTakendownError=c0.RepoNotFoundError=c0.BlobNotFoundError=void 0;let c1=da;class c4 extends c1.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}c0.BlobNotFoundError=c4;let c5=class extends c1.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};c0.RepoNotFoundError=c5;let c2=class extends c1.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};c0.RepoTakendownError=c2;let c3=class extends c1.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};c0.RepoSuspendedError=c3;let c7=class extends c1.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};c0.RepoDeactivatedError=c7,c0.toKnownErr=function(e){if(e instanceof c1.XRPCError){if("BlobNotFound"===e.error)return new c4(e);if("RepoNotFound"===e.error)return new c5(e);if("RepoTakendown"===e.error)return new c2(e);if("RepoSuspended"===e.error)return new c3(e);if("RepoDeactivated"===e.error)return new c7(e)}return e};var c6={};Object.defineProperty(c6,"__esModule",{value:!0}),c6.toKnownErr=c6.RepoDeactivatedError=c6.RepoSuspendedError=c6.RepoTakendownError=c6.RepoNotFoundError=c6.BlockNotFoundError=void 0;let c9=da;class c8 extends c9.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}c6.BlockNotFoundError=c8;let pe=class extends c9.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};c6.RepoNotFoundError=pe;let pt=class extends c9.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};c6.RepoTakendownError=pt;let pr=class extends c9.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};c6.RepoSuspendedError=pr;let pi=class extends c9.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};c6.RepoDeactivatedError=pi,c6.toKnownErr=function(e){if(e instanceof c9.XRPCError){if("BlockNotFound"===e.error)return new c8(e);if("RepoNotFound"===e.error)return new pe(e);if("RepoTakendown"===e.error)return new pt(e);if("RepoSuspended"===e.error)return new pr(e);if("RepoDeactivated"===e.error)return new pi(e)}return e};var po={};Object.defineProperty(po,"__esModule",{value:!0}),po.toKnownErr=void 0,po.toKnownErr=function(e){return da.XRPCError,e};var pn={};Object.defineProperty(pn,"__esModule",{value:!0}),pn.toKnownErr=pn.HeadNotFoundError=void 0;let ps=da;class pa extends ps.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}pn.HeadNotFoundError=pa,pn.toKnownErr=function(e){return e instanceof ps.XRPCError&&"HeadNotFound"===e.error?new pa(e):e};var pl={};Object.defineProperty(pl,"__esModule",{value:!0}),pl.toKnownErr=pl.RepoDeactivatedError=pl.RepoSuspendedError=pl.RepoTakendownError=pl.RepoNotFoundError=void 0;let pd=da,pc=class extends pd.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};pl.RepoNotFoundError=pc;let pp=class extends pd.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};pl.RepoTakendownError=pp;let pu=class extends pd.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};pl.RepoSuspendedError=pu;let pf=class extends pd.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};pl.RepoDeactivatedError=pf,pl.toKnownErr=function(e){if(e instanceof pd.XRPCError){if("RepoNotFound"===e.error)return new pc(e);if("RepoTakendown"===e.error)return new pp(e);if("RepoSuspended"===e.error)return new pu(e);if("RepoDeactivated"===e.error)return new pf(e)}return e};var ph={};Object.defineProperty(ph,"__esModule",{value:!0}),ph.toKnownErr=ph.RepoDeactivatedError=ph.RepoSuspendedError=ph.RepoTakendownError=ph.RepoNotFoundError=ph.RecordNotFoundError=void 0;let pm=da,py=class extends pm.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};ph.RecordNotFoundError=py;let pg=class extends pm.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};ph.RepoNotFoundError=pg;let pb=class extends pm.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};ph.RepoTakendownError=pb;let pv=class extends pm.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};ph.RepoSuspendedError=pv;let pE=class extends pm.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};ph.RepoDeactivatedError=pE,ph.toKnownErr=function(e){if(e instanceof pm.XRPCError){if("RecordNotFound"===e.error)return new py(e);if("RepoNotFound"===e.error)return new pg(e);if("RepoTakendown"===e.error)return new pb(e);if("RepoSuspended"===e.error)return new pv(e);if("RepoDeactivated"===e.error)return new pE(e)}return e};var pR={};Object.defineProperty(pR,"__esModule",{value:!0}),pR.toKnownErr=pR.RepoDeactivatedError=pR.RepoSuspendedError=pR.RepoTakendownError=pR.RepoNotFoundError=void 0;let pA=da,p_=class extends pA.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};pR.RepoNotFoundError=p_;let pT=class extends pA.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};pR.RepoTakendownError=pT;let pw=class extends pA.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};pR.RepoSuspendedError=pw;let pC=class extends pA.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};pR.RepoDeactivatedError=pC,pR.toKnownErr=function(e){if(e instanceof pA.XRPCError){if("RepoNotFound"===e.error)return new p_(e);if("RepoTakendown"===e.error)return new pT(e);if("RepoSuspended"===e.error)return new pw(e);if("RepoDeactivated"===e.error)return new pC(e)}return e};var pS={};Object.defineProperty(pS,"__esModule",{value:!0}),pS.toKnownErr=pS.RepoNotFoundError=void 0;let pL=da,pk=class extends pL.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};pS.RepoNotFoundError=pk,pS.toKnownErr=function(e){return e instanceof pL.XRPCError&&"RepoNotFound"===e.error?new pk(e):e};var px={};Object.defineProperty(px,"__esModule",{value:!0}),px.toKnownErr=px.RepoDeactivatedError=px.RepoSuspendedError=px.RepoTakendownError=px.RepoNotFoundError=void 0;let pP=da,pB=class extends pP.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};px.RepoNotFoundError=pB;class pD extends pP.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}px.RepoTakendownError=pD;class pO extends pP.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}px.RepoSuspendedError=pO;class pU extends pP.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}px.RepoDeactivatedError=pU,px.toKnownErr=function(e){if(e instanceof pP.XRPCError){if("RepoNotFound"===e.error)return new pB(e);if("RepoTakendown"===e.error)return new pD(e);if("RepoSuspended"===e.error)return new pO(e);if("RepoDeactivated"===e.error)return new pU(e)}return e};var pI={};Object.defineProperty(pI,"__esModule",{value:!0}),pI.validateRepo=pI.isRepo=pI.toKnownErr=void 0,pI.toKnownErr=function(e){return da.XRPCError,e},pI.isRepo=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.sync.listRepos#repo"===e.$type},pI.validateRepo=function(e){return dm.lexicons.validate("com.atproto.sync.listRepos#repo",e)};var pK={};Object.defineProperty(pK,"__esModule",{value:!0}),pK.toKnownErr=void 0,pK.toKnownErr=function(e){return da.XRPCError,e};var pj={};Object.defineProperty(pj,"__esModule",{value:!0}),pj.toKnownErr=void 0,pj.toKnownErr=function(e){return da.XRPCError,e};var pM={};Object.defineProperty(pM,"__esModule",{value:!0}),pM.toKnownErr=void 0,pM.toKnownErr=function(e){return da.XRPCError,e};var pN={};Object.defineProperty(pN,"__esModule",{value:!0}),pN.toKnownErr=void 0,pN.toKnownErr=function(e){return da.XRPCError,e};var pV={};Object.defineProperty(pV,"__esModule",{value:!0}),pV.toKnownErr=void 0,pV.toKnownErr=function(e){return da.XRPCError,e};var pF={};Object.defineProperty(pF,"__esModule",{value:!0}),pF.toKnownErr=void 0,pF.toKnownErr=function(e){return da.XRPCError,e};var pG={};Object.defineProperty(pG,"__esModule",{value:!0}),pG.toKnownErr=void 0,pG.toKnownErr=function(e){return da.XRPCError,e};var pq={};Object.defineProperty(pq,"__esModule",{value:!0}),pq.toKnownErr=void 0,pq.toKnownErr=function(e){return da.XRPCError,e};var p$={};Object.defineProperty(p$,"__esModule",{value:!0}),p$.toKnownErr=void 0,p$.toKnownErr=function(e){return da.XRPCError,e};var pz={};Object.defineProperty(pz,"__esModule",{value:!0}),pz.toKnownErr=void 0,pz.toKnownErr=function(e){return da.XRPCError,e};var pX={};Object.defineProperty(pX,"__esModule",{value:!0}),pX.toKnownErr=void 0,pX.toKnownErr=function(e){return da.XRPCError,e};var pH={};Object.defineProperty(pH,"__esModule",{value:!0}),pH.toKnownErr=void 0,pH.toKnownErr=function(e){return da.XRPCError,e};var pZ={};Object.defineProperty(pZ,"__esModule",{value:!0}),pZ.validateLinks=pZ.isLinks=pZ.validateFeed=pZ.isFeed=pZ.toKnownErr=void 0,pZ.toKnownErr=function(e){return da.XRPCError,e},pZ.isFeed=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.describeFeedGenerator#feed"===e.$type},pZ.validateFeed=function(e){return dm.lexicons.validate("app.bsky.feed.describeFeedGenerator#feed",e)},pZ.isLinks=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.describeFeedGenerator#links"===e.$type},pZ.validateLinks=function(e){return dm.lexicons.validate("app.bsky.feed.describeFeedGenerator#links",e)};var pW={};Object.defineProperty(pW,"__esModule",{value:!0}),pW.toKnownErr=void 0,pW.toKnownErr=function(e){return da.XRPCError,e};var pY={};Object.defineProperty(pY,"__esModule",{value:!0}),pY.toKnownErr=pY.BlockedByActorError=pY.BlockedActorError=void 0;let pQ=da,pJ=class extends pQ.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};pY.BlockedActorError=pJ;let p0=class extends pQ.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};pY.BlockedByActorError=p0,pY.toKnownErr=function(e){if(e instanceof pQ.XRPCError){if("BlockedActor"===e.error)return new pJ(e);if("BlockedByActor"===e.error)return new p0(e)}return e};var p1={};Object.defineProperty(p1,"__esModule",{value:!0}),p1.toKnownErr=p1.BlockedByActorError=p1.BlockedActorError=void 0;let p4=da;class p5 extends p4.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}p1.BlockedActorError=p5;class p2 extends p4.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}p1.BlockedByActorError=p2,p1.toKnownErr=function(e){if(e instanceof p4.XRPCError){if("BlockedActor"===e.error)return new p5(e);if("BlockedByActor"===e.error)return new p2(e)}return e};var p3={};Object.defineProperty(p3,"__esModule",{value:!0}),p3.toKnownErr=p3.UnknownFeedError=void 0;let p7=da,p6=class extends p7.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};p3.UnknownFeedError=p6,p3.toKnownErr=function(e){return e instanceof p7.XRPCError&&"UnknownFeed"===e.error?new p6(e):e};var p9={};Object.defineProperty(p9,"__esModule",{value:!0}),p9.toKnownErr=void 0,p9.toKnownErr=function(e){return da.XRPCError,e};var p8={};Object.defineProperty(p8,"__esModule",{value:!0}),p8.toKnownErr=void 0,p8.toKnownErr=function(e){return da.XRPCError,e};var ue={};Object.defineProperty(ue,"__esModule",{value:!0}),ue.toKnownErr=ue.UnknownFeedError=void 0;let ut=da;class ur extends ut.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}ue.UnknownFeedError=ur,ue.toKnownErr=function(e){return e instanceof ut.XRPCError&&"UnknownFeed"===e.error?new ur(e):e};var ui={};Object.defineProperty(ui,"__esModule",{value:!0}),ui.validateLike=ui.isLike=ui.toKnownErr=void 0,ui.toKnownErr=function(e){return da.XRPCError,e},ui.isLike=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.getLikes#like"===e.$type},ui.validateLike=function(e){return dm.lexicons.validate("app.bsky.feed.getLikes#like",e)};var uo={};Object.defineProperty(uo,"__esModule",{value:!0}),uo.toKnownErr=uo.UnknownListError=void 0;let un=da;class us extends un.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}uo.UnknownListError=us,uo.toKnownErr=function(e){return e instanceof un.XRPCError&&"UnknownList"===e.error?new us(e):e};var ua={};Object.defineProperty(ua,"__esModule",{value:!0}),ua.toKnownErr=ua.NotFoundError=void 0;let ul=da;class ud extends ul.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}ua.NotFoundError=ud,ua.toKnownErr=function(e){return e instanceof ul.XRPCError&&"NotFound"===e.error?new ud(e):e};var uc={};Object.defineProperty(uc,"__esModule",{value:!0}),uc.toKnownErr=void 0,uc.toKnownErr=function(e){return da.XRPCError,e};var up={};Object.defineProperty(up,"__esModule",{value:!0}),up.toKnownErr=void 0,up.toKnownErr=function(e){return da.XRPCError,e};var uu={};Object.defineProperty(uu,"__esModule",{value:!0}),uu.toKnownErr=void 0,uu.toKnownErr=function(e){return da.XRPCError,e};var uf={};Object.defineProperty(uf,"__esModule",{value:!0}),uf.toKnownErr=void 0,uf.toKnownErr=function(e){return da.XRPCError,e};var uh={};Object.defineProperty(uh,"__esModule",{value:!0}),uh.toKnownErr=uh.BadQueryStringError=void 0;let um=da,uy=class extends um.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};uh.BadQueryStringError=uy,uh.toKnownErr=function(e){return e instanceof um.XRPCError&&"BadQueryString"===e.error?new uy(e):e};var ug={};Object.defineProperty(ug,"__esModule",{value:!0}),ug.toKnownErr=void 0,ug.toKnownErr=function(e){return da.XRPCError,e};var ub={};Object.defineProperty(ub,"__esModule",{value:!0}),ub.toKnownErr=void 0,ub.toKnownErr=function(e){return da.XRPCError,e};var uv={};Object.defineProperty(uv,"__esModule",{value:!0}),uv.toKnownErr=void 0,uv.toKnownErr=function(e){return da.XRPCError,e};var uE={};Object.defineProperty(uE,"__esModule",{value:!0}),uE.toKnownErr=void 0,uE.toKnownErr=function(e){return da.XRPCError,e};var uR={};Object.defineProperty(uR,"__esModule",{value:!0}),uR.toKnownErr=void 0,uR.toKnownErr=function(e){return da.XRPCError,e};var uA={};Object.defineProperty(uA,"__esModule",{value:!0}),uA.toKnownErr=void 0,uA.toKnownErr=function(e){return da.XRPCError,e};var u_={};Object.defineProperty(u_,"__esModule",{value:!0}),u_.toKnownErr=void 0,u_.toKnownErr=function(e){return da.XRPCError,e};var uT={};Object.defineProperty(uT,"__esModule",{value:!0}),uT.toKnownErr=void 0,uT.toKnownErr=function(e){return da.XRPCError,e};var uw={};Object.defineProperty(uw,"__esModule",{value:!0}),uw.toKnownErr=void 0,uw.toKnownErr=function(e){return da.XRPCError,e};var uC={};Object.defineProperty(uC,"__esModule",{value:!0}),uC.toKnownErr=void 0,uC.toKnownErr=function(e){return da.XRPCError,e};var uS={};Object.defineProperty(uS,"__esModule",{value:!0}),uS.toKnownErr=void 0,uS.toKnownErr=function(e){return da.XRPCError,e};var uL={};Object.defineProperty(uL,"__esModule",{value:!0}),uL.toKnownErr=uL.ActorNotFoundError=void 0;let uk=da;class ux extends uk.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}uL.ActorNotFoundError=ux,uL.toKnownErr=function(e){return e instanceof uk.XRPCError&&"ActorNotFound"===e.error?new ux(e):e};var uP={};Object.defineProperty(uP,"__esModule",{value:!0}),uP.toKnownErr=void 0,uP.toKnownErr=function(e){return da.XRPCError,e};var uB={};Object.defineProperty(uB,"__esModule",{value:!0}),uB.toKnownErr=void 0,uB.toKnownErr=function(e){return da.XRPCError,e};var uD={};Object.defineProperty(uD,"__esModule",{value:!0}),uD.toKnownErr=void 0,uD.toKnownErr=function(e){return da.XRPCError,e};var uO={};Object.defineProperty(uO,"__esModule",{value:!0}),uO.toKnownErr=void 0,uO.toKnownErr=function(e){return da.XRPCError,e};var uU={};Object.defineProperty(uU,"__esModule",{value:!0}),uU.toKnownErr=void 0,uU.toKnownErr=function(e){return da.XRPCError,e};var uI={};Object.defineProperty(uI,"__esModule",{value:!0}),uI.toKnownErr=void 0,uI.toKnownErr=function(e){return da.XRPCError,e};var uK={};Object.defineProperty(uK,"__esModule",{value:!0}),uK.toKnownErr=void 0,uK.toKnownErr=function(e){return da.XRPCError,e};var uj={};Object.defineProperty(uj,"__esModule",{value:!0}),uj.toKnownErr=void 0,uj.toKnownErr=function(e){return da.XRPCError,e};var uM={};Object.defineProperty(uM,"__esModule",{value:!0}),uM.toKnownErr=void 0,uM.toKnownErr=function(e){return da.XRPCError,e};var uN={};Object.defineProperty(uN,"__esModule",{value:!0}),uN.toKnownErr=void 0,uN.toKnownErr=function(e){return da.XRPCError,e};var uV={};Object.defineProperty(uV,"__esModule",{value:!0}),uV.toKnownErr=void 0,uV.toKnownErr=function(e){return da.XRPCError,e};var uF={};Object.defineProperty(uF,"__esModule",{value:!0}),uF.validateNotification=uF.isNotification=uF.toKnownErr=void 0,uF.toKnownErr=function(e){return da.XRPCError,e},uF.isNotification=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.notification.listNotifications#notification"===e.$type},uF.validateNotification=function(e){return dm.lexicons.validate("app.bsky.notification.listNotifications#notification",e)};var uG={};Object.defineProperty(uG,"__esModule",{value:!0}),uG.toKnownErr=void 0,uG.toKnownErr=function(e){return da.XRPCError,e};var uq={};Object.defineProperty(uq,"__esModule",{value:!0}),uq.toKnownErr=void 0,uq.toKnownErr=function(e){return da.XRPCError,e};var u$={};Object.defineProperty(u$,"__esModule",{value:!0}),u$.toKnownErr=void 0,u$.toKnownErr=function(e){return da.XRPCError,e};var uz={};Object.defineProperty(uz,"__esModule",{value:!0}),uz.toKnownErr=void 0,uz.toKnownErr=function(e){return da.XRPCError,e};var uX={};Object.defineProperty(uX,"__esModule",{value:!0}),uX.toKnownErr=void 0,uX.toKnownErr=function(e){return da.XRPCError,e};var uH={};Object.defineProperty(uH,"__esModule",{value:!0}),uH.validateSuggestion=uH.isSuggestion=uH.toKnownErr=void 0,uH.toKnownErr=function(e){return da.XRPCError,e},uH.isSuggestion=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.unspecced.getTaggedSuggestions#suggestion"===e.$type},uH.validateSuggestion=function(e){return dm.lexicons.validate("app.bsky.unspecced.getTaggedSuggestions#suggestion",e)};var uZ={};Object.defineProperty(uZ,"__esModule",{value:!0}),uZ.toKnownErr=uZ.BadQueryStringError=void 0;let uW=da,uY=class extends uW.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};uZ.BadQueryStringError=uY,uZ.toKnownErr=function(e){return e instanceof uW.XRPCError&&"BadQueryString"===e.error?new uY(e):e};var uQ={};Object.defineProperty(uQ,"__esModule",{value:!0}),uQ.toKnownErr=uQ.BadQueryStringError=void 0;let uJ=da;class u0 extends uJ.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}uQ.BadQueryStringError=u0,uQ.toKnownErr=function(e){return e instanceof uJ.XRPCError&&"BadQueryString"===e.error?new u0(e):e};var u1={};Object.defineProperty(u1,"__esModule",{value:!0}),u1.toKnownErr=void 0,u1.toKnownErr=function(e){return da.XRPCError,e};var u4={};Object.defineProperty(u4,"__esModule",{value:!0}),u4.toKnownErr=void 0,u4.toKnownErr=function(e){return da.XRPCError,e};var u5={};Object.defineProperty(u5,"__esModule",{value:!0}),u5.toKnownErr=void 0,u5.toKnownErr=function(e){return da.XRPCError,e};var u2={};Object.defineProperty(u2,"__esModule",{value:!0}),u2.toKnownErr=void 0,u2.toKnownErr=function(e){return da.XRPCError,e};var u3={};Object.defineProperty(u3,"__esModule",{value:!0}),u3.toKnownErr=void 0,u3.toKnownErr=function(e){return da.XRPCError,e};var u7={};Object.defineProperty(u7,"__esModule",{value:!0}),u7.toKnownErr=void 0,u7.toKnownErr=function(e){return da.XRPCError,e};var u6={};Object.defineProperty(u6,"__esModule",{value:!0}),u6.toKnownErr=void 0,u6.toKnownErr=function(e){return da.XRPCError,e};var u9={};Object.defineProperty(u9,"__esModule",{value:!0}),u9.toKnownErr=void 0,u9.toKnownErr=function(e){return da.XRPCError,e};var u8={};Object.defineProperty(u8,"__esModule",{value:!0}),u8.toKnownErr=void 0,u8.toKnownErr=function(e){return da.XRPCError,e};var fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.toKnownErr=void 0,fe.toKnownErr=function(e){return da.XRPCError,e};var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.toKnownErr=void 0,ft.toKnownErr=function(e){return da.XRPCError,e};var fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.validateBatchItem=fr.isBatchItem=fr.toKnownErr=void 0,fr.toKnownErr=function(e){return da.XRPCError,e},fr.isBatchItem=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"chat.bsky.convo.sendMessageBatch#batchItem"===e.$type},fr.validateBatchItem=function(e){return dm.lexicons.validate("chat.bsky.convo.sendMessageBatch#batchItem",e)};var fi={};Object.defineProperty(fi,"__esModule",{value:!0}),fi.toKnownErr=void 0,fi.toKnownErr=function(e){return da.XRPCError,e};var fo={};Object.defineProperty(fo,"__esModule",{value:!0}),fo.toKnownErr=void 0,fo.toKnownErr=function(e){return da.XRPCError,e};var fn={};Object.defineProperty(fn,"__esModule",{value:!0}),fn.validateMetadata=fn.isMetadata=fn.toKnownErr=void 0,fn.toKnownErr=function(e){return da.XRPCError,e},fn.isMetadata=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"chat.bsky.moderation.getActorMetadata#metadata"===e.$type},fn.validateMetadata=function(e){return dm.lexicons.validate("chat.bsky.moderation.getActorMetadata#metadata",e)};var fs={};Object.defineProperty(fs,"__esModule",{value:!0}),fs.toKnownErr=void 0,fs.toKnownErr=function(e){return da.XRPCError,e};var fa={};Object.defineProperty(fa,"__esModule",{value:!0}),fa.toKnownErr=void 0,fa.toKnownErr=function(e){return da.XRPCError,e};var fl={};Object.defineProperty(fl,"__esModule",{value:!0}),fl.toKnownErr=void 0,fl.toKnownErr=function(e){return da.XRPCError,e};var fd={};Object.defineProperty(fd,"__esModule",{value:!0}),fd.toKnownErr=void 0,fd.toKnownErr=function(e){return da.XRPCError,e};var fc={};Object.defineProperty(fc,"__esModule",{value:!0}),fc.toKnownErr=void 0,fc.toKnownErr=function(e){return da.XRPCError,e};var fp={};Object.defineProperty(fp,"__esModule",{value:!0}),fp.toKnownErr=void 0,fp.toKnownErr=function(e){return da.XRPCError,e};var fu={};Object.defineProperty(fu,"__esModule",{value:!0}),fu.toKnownErr=fu.SubjectHasActionError=void 0;let ff=da;class fh extends ff.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}fu.SubjectHasActionError=fh,fu.toKnownErr=function(e){return e instanceof ff.XRPCError&&"SubjectHasAction"===e.error?new fh(e):e};var fm={};Object.defineProperty(fm,"__esModule",{value:!0}),fm.toKnownErr=void 0,fm.toKnownErr=function(e){return da.XRPCError,e};var fy={};Object.defineProperty(fy,"__esModule",{value:!0}),fy.toKnownErr=fy.RecordNotFoundError=void 0;let fg=da;class fb extends fg.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}fy.RecordNotFoundError=fb,fy.toKnownErr=function(e){return e instanceof fg.XRPCError&&"RecordNotFound"===e.error?new fb(e):e};var fv={};Object.defineProperty(fv,"__esModule",{value:!0}),fv.toKnownErr=fv.RepoNotFoundError=void 0;let fE=da;class fR extends fE.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}fv.RepoNotFoundError=fR,fv.toKnownErr=function(e){return e instanceof fE.XRPCError&&"RepoNotFound"===e.error?new fR(e):e};var fA={};Object.defineProperty(fA,"__esModule",{value:!0}),fA.toKnownErr=void 0,fA.toKnownErr=function(e){return da.XRPCError,e};var f_={};Object.defineProperty(f_,"__esModule",{value:!0}),f_.toKnownErr=void 0,f_.toKnownErr=function(e){return da.XRPCError,e};var fT={};Object.defineProperty(fT,"__esModule",{value:!0}),fT.toKnownErr=void 0,fT.toKnownErr=function(e){return da.XRPCError,e};var fw={};Object.defineProperty(fw,"__esModule",{value:!0}),fw.validateViewerConfig=fw.isViewerConfig=fw.validateServiceConfig=fw.isServiceConfig=fw.toKnownErr=void 0,fw.toKnownErr=function(e){return da.XRPCError,e},fw.isServiceConfig=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.server.getConfig#serviceConfig"===e.$type},fw.validateServiceConfig=function(e){return dm.lexicons.validate("tools.ozone.server.getConfig#serviceConfig",e)},fw.isViewerConfig=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.server.getConfig#viewerConfig"===e.$type},fw.validateViewerConfig=function(e){return dm.lexicons.validate("tools.ozone.server.getConfig#viewerConfig",e)};var fC={};Object.defineProperty(fC,"__esModule",{value:!0}),fC.toKnownErr=fC.MemberAlreadyExistsError=void 0;let fS=da;class fL extends fS.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}fC.MemberAlreadyExistsError=fL,fC.toKnownErr=function(e){return e instanceof fS.XRPCError&&"MemberAlreadyExists"===e.error?new fL(e):e};var fk={};Object.defineProperty(fk,"__esModule",{value:!0}),fk.toKnownErr=fk.CannotDeleteSelfError=fk.MemberNotFoundError=void 0;let fx=da,fP=class extends fx.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}};fk.MemberNotFoundError=fP;class fB extends fx.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}fk.CannotDeleteSelfError=fB,fk.toKnownErr=function(e){if(e instanceof fx.XRPCError){if("MemberNotFound"===e.error)return new fP(e);if("CannotDeleteSelf"===e.error)return new fB(e)}return e};var fD={};Object.defineProperty(fD,"__esModule",{value:!0}),fD.toKnownErr=void 0,fD.toKnownErr=function(e){return da.XRPCError,e};var fO={};Object.defineProperty(fO,"__esModule",{value:!0}),fO.toKnownErr=fO.MemberNotFoundError=void 0;let fU=da;class fI extends fU.XRPCError{constructor(e){super(e.status,e.error,e.message,e.headers)}}fO.MemberNotFoundError=fI,fO.toKnownErr=function(e){return e instanceof fU.XRPCError&&"MemberNotFound"===e.error?new fI(e):e};var fK={};Object.defineProperty(fK,"__esModule",{value:!0}),fK.validateRepoBlobRef=fK.isRepoBlobRef=fK.validateRepoRef=fK.isRepoRef=fK.validateAccountView=fK.isAccountView=fK.validateStatusAttr=fK.isStatusAttr=void 0,fK.isStatusAttr=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.admin.defs#statusAttr"===e.$type},fK.validateStatusAttr=function(e){return dm.lexicons.validate("com.atproto.admin.defs#statusAttr",e)},fK.isAccountView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.admin.defs#accountView"===e.$type},fK.validateAccountView=function(e){return dm.lexicons.validate("com.atproto.admin.defs#accountView",e)},fK.isRepoRef=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.admin.defs#repoRef"===e.$type},fK.validateRepoRef=function(e){return dm.lexicons.validate("com.atproto.admin.defs#repoRef",e)},fK.isRepoBlobRef=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.admin.defs#repoBlobRef"===e.$type},fK.validateRepoBlobRef=function(e){return dm.lexicons.validate("com.atproto.admin.defs#repoBlobRef",e)};var fj={};Object.defineProperty(fj,"__esModule",{value:!0}),fj.validateLabelValueDefinitionStrings=fj.isLabelValueDefinitionStrings=fj.validateLabelValueDefinition=fj.isLabelValueDefinition=fj.validateSelfLabel=fj.isSelfLabel=fj.validateSelfLabels=fj.isSelfLabels=fj.validateLabel=fj.isLabel=void 0,fj.isLabel=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.label.defs#label"===e.$type},fj.validateLabel=function(e){return dm.lexicons.validate("com.atproto.label.defs#label",e)},fj.isSelfLabels=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.label.defs#selfLabels"===e.$type},fj.validateSelfLabels=function(e){return dm.lexicons.validate("com.atproto.label.defs#selfLabels",e)},fj.isSelfLabel=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.label.defs#selfLabel"===e.$type},fj.validateSelfLabel=function(e){return dm.lexicons.validate("com.atproto.label.defs#selfLabel",e)},fj.isLabelValueDefinition=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.label.defs#labelValueDefinition"===e.$type},fj.validateLabelValueDefinition=function(e){return dm.lexicons.validate("com.atproto.label.defs#labelValueDefinition",e)},fj.isLabelValueDefinitionStrings=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.label.defs#labelValueDefinitionStrings"===e.$type},fj.validateLabelValueDefinitionStrings=function(e){return dm.lexicons.validate("com.atproto.label.defs#labelValueDefinitionStrings",e)};var fM={};Object.defineProperty(fM,"__esModule",{value:!0}),fM.validateInfo=fM.isInfo=fM.validateLabels=fM.isLabels=void 0,fM.isLabels=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.label.subscribeLabels#labels"===e.$type},fM.validateLabels=function(e){return dm.lexicons.validate("com.atproto.label.subscribeLabels#labels",e)},fM.isInfo=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.label.subscribeLabels#info"===e.$type},fM.validateInfo=function(e){return dm.lexicons.validate("com.atproto.label.subscribeLabels#info",e)};var fN={};Object.defineProperty(fN,"__esModule",{value:!0}),fN.REASONAPPEAL=fN.REASONOTHER=fN.REASONRUDE=fN.REASONSEXUAL=fN.REASONMISLEADING=fN.REASONVIOLATION=fN.REASONSPAM=void 0,fN.REASONSPAM="com.atproto.moderation.defs#reasonSpam",fN.REASONVIOLATION="com.atproto.moderation.defs#reasonViolation",fN.REASONMISLEADING="com.atproto.moderation.defs#reasonMisleading",fN.REASONSEXUAL="com.atproto.moderation.defs#reasonSexual",fN.REASONRUDE="com.atproto.moderation.defs#reasonRude",fN.REASONOTHER="com.atproto.moderation.defs#reasonOther",fN.REASONAPPEAL="com.atproto.moderation.defs#reasonAppeal";var fV={};Object.defineProperty(fV,"__esModule",{value:!0}),fV.validateMain=fV.isMain=void 0,fV.isMain=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("com.atproto.repo.strongRef#main"===e.$type||"com.atproto.repo.strongRef"===e.$type)},fV.validateMain=function(e){return dm.lexicons.validate("com.atproto.repo.strongRef#main",e)};var fF={};Object.defineProperty(fF,"__esModule",{value:!0}),fF.validateInviteCodeUse=fF.isInviteCodeUse=fF.validateInviteCode=fF.isInviteCode=void 0,fF.isInviteCode=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.server.defs#inviteCode"===e.$type},fF.validateInviteCode=function(e){return dm.lexicons.validate("com.atproto.server.defs#inviteCode",e)},fF.isInviteCodeUse=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.server.defs#inviteCodeUse"===e.$type},fF.validateInviteCodeUse=function(e){return dm.lexicons.validate("com.atproto.server.defs#inviteCodeUse",e)};var fG={};Object.defineProperty(fG,"__esModule",{value:!0}),fG.validateRepoOp=fG.isRepoOp=fG.validateInfo=fG.isInfo=fG.validateTombstone=fG.isTombstone=fG.validateMigrate=fG.isMigrate=fG.validateHandle=fG.isHandle=fG.validateAccount=fG.isAccount=fG.validateIdentity=fG.isIdentity=fG.validateCommit=fG.isCommit=void 0,fG.isCommit=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.sync.subscribeRepos#commit"===e.$type},fG.validateCommit=function(e){return dm.lexicons.validate("com.atproto.sync.subscribeRepos#commit",e)},fG.isIdentity=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.sync.subscribeRepos#identity"===e.$type},fG.validateIdentity=function(e){return dm.lexicons.validate("com.atproto.sync.subscribeRepos#identity",e)},fG.isAccount=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.sync.subscribeRepos#account"===e.$type},fG.validateAccount=function(e){return dm.lexicons.validate("com.atproto.sync.subscribeRepos#account",e)},fG.isHandle=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.sync.subscribeRepos#handle"===e.$type},fG.validateHandle=function(e){return dm.lexicons.validate("com.atproto.sync.subscribeRepos#handle",e)},fG.isMigrate=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.sync.subscribeRepos#migrate"===e.$type},fG.validateMigrate=function(e){return dm.lexicons.validate("com.atproto.sync.subscribeRepos#migrate",e)},fG.isTombstone=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.sync.subscribeRepos#tombstone"===e.$type},fG.validateTombstone=function(e){return dm.lexicons.validate("com.atproto.sync.subscribeRepos#tombstone",e)},fG.isInfo=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.sync.subscribeRepos#info"===e.$type},fG.validateInfo=function(e){return dm.lexicons.validate("com.atproto.sync.subscribeRepos#info",e)},fG.isRepoOp=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"com.atproto.sync.subscribeRepos#repoOp"===e.$type},fG.validateRepoOp=function(e){return dm.lexicons.validate("com.atproto.sync.subscribeRepos#repoOp",e)};var fq={};Object.defineProperty(fq,"__esModule",{value:!0}),fq.validateBskyAppProgressGuide=fq.isBskyAppProgressGuide=fq.validateBskyAppStatePref=fq.isBskyAppStatePref=fq.validateLabelerPrefItem=fq.isLabelerPrefItem=fq.validateLabelersPref=fq.isLabelersPref=fq.validateHiddenPostsPref=fq.isHiddenPostsPref=fq.validateMutedWordsPref=fq.isMutedWordsPref=fq.validateMutedWord=fq.isMutedWord=fq.validateInterestsPref=fq.isInterestsPref=fq.validateThreadViewPref=fq.isThreadViewPref=fq.validateFeedViewPref=fq.isFeedViewPref=fq.validatePersonalDetailsPref=fq.isPersonalDetailsPref=fq.validateSavedFeedsPref=fq.isSavedFeedsPref=fq.validateSavedFeedsPrefV2=fq.isSavedFeedsPrefV2=fq.validateSavedFeed=fq.isSavedFeed=fq.validateContentLabelPref=fq.isContentLabelPref=fq.validateAdultContentPref=fq.isAdultContentPref=fq.validateKnownFollowers=fq.isKnownFollowers=fq.validateViewerState=fq.isViewerState=fq.validateProfileAssociatedChat=fq.isProfileAssociatedChat=fq.validateProfileAssociated=fq.isProfileAssociated=fq.validateProfileViewDetailed=fq.isProfileViewDetailed=fq.validateProfileView=fq.isProfileView=fq.validateProfileViewBasic=fq.isProfileViewBasic=void 0,fq.isProfileViewBasic=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#profileViewBasic"===e.$type},fq.validateProfileViewBasic=function(e){return dm.lexicons.validate("app.bsky.actor.defs#profileViewBasic",e)},fq.isProfileView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#profileView"===e.$type},fq.validateProfileView=function(e){return dm.lexicons.validate("app.bsky.actor.defs#profileView",e)},fq.isProfileViewDetailed=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#profileViewDetailed"===e.$type},fq.validateProfileViewDetailed=function(e){return dm.lexicons.validate("app.bsky.actor.defs#profileViewDetailed",e)},fq.isProfileAssociated=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#profileAssociated"===e.$type},fq.validateProfileAssociated=function(e){return dm.lexicons.validate("app.bsky.actor.defs#profileAssociated",e)},fq.isProfileAssociatedChat=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#profileAssociatedChat"===e.$type},fq.validateProfileAssociatedChat=function(e){return dm.lexicons.validate("app.bsky.actor.defs#profileAssociatedChat",e)},fq.isViewerState=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#viewerState"===e.$type},fq.validateViewerState=function(e){return dm.lexicons.validate("app.bsky.actor.defs#viewerState",e)},fq.isKnownFollowers=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#knownFollowers"===e.$type},fq.validateKnownFollowers=function(e){return dm.lexicons.validate("app.bsky.actor.defs#knownFollowers",e)},fq.isAdultContentPref=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#adultContentPref"===e.$type},fq.validateAdultContentPref=function(e){return dm.lexicons.validate("app.bsky.actor.defs#adultContentPref",e)},fq.isContentLabelPref=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#contentLabelPref"===e.$type},fq.validateContentLabelPref=function(e){return dm.lexicons.validate("app.bsky.actor.defs#contentLabelPref",e)},fq.isSavedFeed=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#savedFeed"===e.$type},fq.validateSavedFeed=function(e){return dm.lexicons.validate("app.bsky.actor.defs#savedFeed",e)},fq.isSavedFeedsPrefV2=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#savedFeedsPrefV2"===e.$type},fq.validateSavedFeedsPrefV2=function(e){return dm.lexicons.validate("app.bsky.actor.defs#savedFeedsPrefV2",e)},fq.isSavedFeedsPref=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#savedFeedsPref"===e.$type},fq.validateSavedFeedsPref=function(e){return dm.lexicons.validate("app.bsky.actor.defs#savedFeedsPref",e)},fq.isPersonalDetailsPref=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#personalDetailsPref"===e.$type},fq.validatePersonalDetailsPref=function(e){return dm.lexicons.validate("app.bsky.actor.defs#personalDetailsPref",e)},fq.isFeedViewPref=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#feedViewPref"===e.$type},fq.validateFeedViewPref=function(e){return dm.lexicons.validate("app.bsky.actor.defs#feedViewPref",e)},fq.isThreadViewPref=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#threadViewPref"===e.$type},fq.validateThreadViewPref=function(e){return dm.lexicons.validate("app.bsky.actor.defs#threadViewPref",e)},fq.isInterestsPref=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#interestsPref"===e.$type},fq.validateInterestsPref=function(e){return dm.lexicons.validate("app.bsky.actor.defs#interestsPref",e)},fq.isMutedWord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#mutedWord"===e.$type},fq.validateMutedWord=function(e){return dm.lexicons.validate("app.bsky.actor.defs#mutedWord",e)},fq.isMutedWordsPref=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#mutedWordsPref"===e.$type},fq.validateMutedWordsPref=function(e){return dm.lexicons.validate("app.bsky.actor.defs#mutedWordsPref",e)},fq.isHiddenPostsPref=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#hiddenPostsPref"===e.$type},fq.validateHiddenPostsPref=function(e){return dm.lexicons.validate("app.bsky.actor.defs#hiddenPostsPref",e)},fq.isLabelersPref=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#labelersPref"===e.$type},fq.validateLabelersPref=function(e){return dm.lexicons.validate("app.bsky.actor.defs#labelersPref",e)},fq.isLabelerPrefItem=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#labelerPrefItem"===e.$type},fq.validateLabelerPrefItem=function(e){return dm.lexicons.validate("app.bsky.actor.defs#labelerPrefItem",e)},fq.isBskyAppStatePref=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#bskyAppStatePref"===e.$type},fq.validateBskyAppStatePref=function(e){return dm.lexicons.validate("app.bsky.actor.defs#bskyAppStatePref",e)},fq.isBskyAppProgressGuide=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.actor.defs#bskyAppProgressGuide"===e.$type},fq.validateBskyAppProgressGuide=function(e){return dm.lexicons.validate("app.bsky.actor.defs#bskyAppProgressGuide",e)};var f$={};Object.defineProperty(f$,"__esModule",{value:!0}),f$.validateRecord=f$.isRecord=void 0,f$.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.actor.profile#main"===e.$type||"app.bsky.actor.profile"===e.$type)},f$.validateRecord=function(e){return dm.lexicons.validate("app.bsky.actor.profile#main",e)};var fz={};Object.defineProperty(fz,"__esModule",{value:!0}),fz.validateViewExternal=fz.isViewExternal=fz.validateView=fz.isView=fz.validateExternal=fz.isExternal=fz.validateMain=fz.isMain=void 0,fz.isMain=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.embed.external#main"===e.$type||"app.bsky.embed.external"===e.$type)},fz.validateMain=function(e){return dm.lexicons.validate("app.bsky.embed.external#main",e)},fz.isExternal=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.embed.external#external"===e.$type},fz.validateExternal=function(e){return dm.lexicons.validate("app.bsky.embed.external#external",e)},fz.isView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.embed.external#view"===e.$type},fz.validateView=function(e){return dm.lexicons.validate("app.bsky.embed.external#view",e)},fz.isViewExternal=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.embed.external#viewExternal"===e.$type},fz.validateViewExternal=function(e){return dm.lexicons.validate("app.bsky.embed.external#viewExternal",e)};var fX={};Object.defineProperty(fX,"__esModule",{value:!0}),fX.validateViewImage=fX.isViewImage=fX.validateView=fX.isView=fX.validateAspectRatio=fX.isAspectRatio=fX.validateImage=fX.isImage=fX.validateMain=fX.isMain=void 0,fX.isMain=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.embed.images#main"===e.$type||"app.bsky.embed.images"===e.$type)},fX.validateMain=function(e){return dm.lexicons.validate("app.bsky.embed.images#main",e)},fX.isImage=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.embed.images#image"===e.$type},fX.validateImage=function(e){return dm.lexicons.validate("app.bsky.embed.images#image",e)},fX.isAspectRatio=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.embed.images#aspectRatio"===e.$type},fX.validateAspectRatio=function(e){return dm.lexicons.validate("app.bsky.embed.images#aspectRatio",e)},fX.isView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.embed.images#view"===e.$type},fX.validateView=function(e){return dm.lexicons.validate("app.bsky.embed.images#view",e)},fX.isViewImage=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.embed.images#viewImage"===e.$type},fX.validateViewImage=function(e){return dm.lexicons.validate("app.bsky.embed.images#viewImage",e)};var fH={};Object.defineProperty(fH,"__esModule",{value:!0}),fH.validateViewBlocked=fH.isViewBlocked=fH.validateViewNotFound=fH.isViewNotFound=fH.validateViewRecord=fH.isViewRecord=fH.validateView=fH.isView=fH.validateMain=fH.isMain=void 0,fH.isMain=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.embed.record#main"===e.$type||"app.bsky.embed.record"===e.$type)},fH.validateMain=function(e){return dm.lexicons.validate("app.bsky.embed.record#main",e)},fH.isView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.embed.record#view"===e.$type},fH.validateView=function(e){return dm.lexicons.validate("app.bsky.embed.record#view",e)},fH.isViewRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.embed.record#viewRecord"===e.$type},fH.validateViewRecord=function(e){return dm.lexicons.validate("app.bsky.embed.record#viewRecord",e)},fH.isViewNotFound=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.embed.record#viewNotFound"===e.$type},fH.validateViewNotFound=function(e){return dm.lexicons.validate("app.bsky.embed.record#viewNotFound",e)},fH.isViewBlocked=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.embed.record#viewBlocked"===e.$type},fH.validateViewBlocked=function(e){return dm.lexicons.validate("app.bsky.embed.record#viewBlocked",e)};var fZ={};Object.defineProperty(fZ,"__esModule",{value:!0}),fZ.validateView=fZ.isView=fZ.validateMain=fZ.isMain=void 0,fZ.isMain=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.embed.recordWithMedia#main"===e.$type||"app.bsky.embed.recordWithMedia"===e.$type)},fZ.validateMain=function(e){return dm.lexicons.validate("app.bsky.embed.recordWithMedia#main",e)},fZ.isView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.embed.recordWithMedia#view"===e.$type},fZ.validateView=function(e){return dm.lexicons.validate("app.bsky.embed.recordWithMedia#view",e)};var fW={};Object.defineProperty(fW,"__esModule",{value:!0}),fW.INTERACTIONSHARE=fW.INTERACTIONQUOTE=fW.INTERACTIONREPLY=fW.INTERACTIONREPOST=fW.INTERACTIONLIKE=fW.INTERACTIONSEEN=fW.CLICKTHROUGHEMBED=fW.CLICKTHROUGHREPOSTER=fW.CLICKTHROUGHAUTHOR=fW.CLICKTHROUGHITEM=fW.REQUESTMORE=fW.REQUESTLESS=fW.validateInteraction=fW.isInteraction=fW.validateThreadgateView=fW.isThreadgateView=fW.validateSkeletonReasonRepost=fW.isSkeletonReasonRepost=fW.validateSkeletonFeedPost=fW.isSkeletonFeedPost=fW.validateGeneratorViewerState=fW.isGeneratorViewerState=fW.validateGeneratorView=fW.isGeneratorView=fW.validateBlockedAuthor=fW.isBlockedAuthor=fW.validateBlockedPost=fW.isBlockedPost=fW.validateNotFoundPost=fW.isNotFoundPost=fW.validateThreadViewPost=fW.isThreadViewPost=fW.validateReasonRepost=fW.isReasonRepost=fW.validateReplyRef=fW.isReplyRef=fW.validateFeedViewPost=fW.isFeedViewPost=fW.validateViewerState=fW.isViewerState=fW.validatePostView=fW.isPostView=void 0,fW.isPostView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#postView"===e.$type},fW.validatePostView=function(e){return dm.lexicons.validate("app.bsky.feed.defs#postView",e)},fW.isViewerState=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#viewerState"===e.$type},fW.validateViewerState=function(e){return dm.lexicons.validate("app.bsky.feed.defs#viewerState",e)},fW.isFeedViewPost=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#feedViewPost"===e.$type},fW.validateFeedViewPost=function(e){return dm.lexicons.validate("app.bsky.feed.defs#feedViewPost",e)},fW.isReplyRef=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#replyRef"===e.$type},fW.validateReplyRef=function(e){return dm.lexicons.validate("app.bsky.feed.defs#replyRef",e)},fW.isReasonRepost=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#reasonRepost"===e.$type},fW.validateReasonRepost=function(e){return dm.lexicons.validate("app.bsky.feed.defs#reasonRepost",e)},fW.isThreadViewPost=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#threadViewPost"===e.$type},fW.validateThreadViewPost=function(e){return dm.lexicons.validate("app.bsky.feed.defs#threadViewPost",e)},fW.isNotFoundPost=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#notFoundPost"===e.$type},fW.validateNotFoundPost=function(e){return dm.lexicons.validate("app.bsky.feed.defs#notFoundPost",e)},fW.isBlockedPost=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#blockedPost"===e.$type},fW.validateBlockedPost=function(e){return dm.lexicons.validate("app.bsky.feed.defs#blockedPost",e)},fW.isBlockedAuthor=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#blockedAuthor"===e.$type},fW.validateBlockedAuthor=function(e){return dm.lexicons.validate("app.bsky.feed.defs#blockedAuthor",e)},fW.isGeneratorView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#generatorView"===e.$type},fW.validateGeneratorView=function(e){return dm.lexicons.validate("app.bsky.feed.defs#generatorView",e)},fW.isGeneratorViewerState=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#generatorViewerState"===e.$type},fW.validateGeneratorViewerState=function(e){return dm.lexicons.validate("app.bsky.feed.defs#generatorViewerState",e)},fW.isSkeletonFeedPost=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#skeletonFeedPost"===e.$type},fW.validateSkeletonFeedPost=function(e){return dm.lexicons.validate("app.bsky.feed.defs#skeletonFeedPost",e)},fW.isSkeletonReasonRepost=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#skeletonReasonRepost"===e.$type},fW.validateSkeletonReasonRepost=function(e){return dm.lexicons.validate("app.bsky.feed.defs#skeletonReasonRepost",e)},fW.isThreadgateView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#threadgateView"===e.$type},fW.validateThreadgateView=function(e){return dm.lexicons.validate("app.bsky.feed.defs#threadgateView",e)},fW.isInteraction=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.defs#interaction"===e.$type},fW.validateInteraction=function(e){return dm.lexicons.validate("app.bsky.feed.defs#interaction",e)},fW.REQUESTLESS="app.bsky.feed.defs#requestLess",fW.REQUESTMORE="app.bsky.feed.defs#requestMore",fW.CLICKTHROUGHITEM="app.bsky.feed.defs#clickthroughItem",fW.CLICKTHROUGHAUTHOR="app.bsky.feed.defs#clickthroughAuthor",fW.CLICKTHROUGHREPOSTER="app.bsky.feed.defs#clickthroughReposter",fW.CLICKTHROUGHEMBED="app.bsky.feed.defs#clickthroughEmbed",fW.INTERACTIONSEEN="app.bsky.feed.defs#interactionSeen",fW.INTERACTIONLIKE="app.bsky.feed.defs#interactionLike",fW.INTERACTIONREPOST="app.bsky.feed.defs#interactionRepost",fW.INTERACTIONREPLY="app.bsky.feed.defs#interactionReply",fW.INTERACTIONQUOTE="app.bsky.feed.defs#interactionQuote",fW.INTERACTIONSHARE="app.bsky.feed.defs#interactionShare";var fY={};Object.defineProperty(fY,"__esModule",{value:!0}),fY.validateRecord=fY.isRecord=void 0,fY.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.feed.generator#main"===e.$type||"app.bsky.feed.generator"===e.$type)},fY.validateRecord=function(e){return dm.lexicons.validate("app.bsky.feed.generator#main",e)};var fQ={};Object.defineProperty(fQ,"__esModule",{value:!0}),fQ.validateRecord=fQ.isRecord=void 0,fQ.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.feed.like#main"===e.$type||"app.bsky.feed.like"===e.$type)},fQ.validateRecord=function(e){return dm.lexicons.validate("app.bsky.feed.like#main",e)};var fJ={};Object.defineProperty(fJ,"__esModule",{value:!0}),fJ.validateTextSlice=fJ.isTextSlice=fJ.validateEntity=fJ.isEntity=fJ.validateReplyRef=fJ.isReplyRef=fJ.validateRecord=fJ.isRecord=void 0,fJ.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.feed.post#main"===e.$type||"app.bsky.feed.post"===e.$type)},fJ.validateRecord=function(e){return dm.lexicons.validate("app.bsky.feed.post#main",e)},fJ.isReplyRef=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.post#replyRef"===e.$type},fJ.validateReplyRef=function(e){return dm.lexicons.validate("app.bsky.feed.post#replyRef",e)},fJ.isEntity=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.post#entity"===e.$type},fJ.validateEntity=function(e){return dm.lexicons.validate("app.bsky.feed.post#entity",e)},fJ.isTextSlice=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.post#textSlice"===e.$type},fJ.validateTextSlice=function(e){return dm.lexicons.validate("app.bsky.feed.post#textSlice",e)};var f0={};Object.defineProperty(f0,"__esModule",{value:!0}),f0.validateRecord=f0.isRecord=void 0,f0.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.feed.repost#main"===e.$type||"app.bsky.feed.repost"===e.$type)},f0.validateRecord=function(e){return dm.lexicons.validate("app.bsky.feed.repost#main",e)};var f1={};Object.defineProperty(f1,"__esModule",{value:!0}),f1.validateListRule=f1.isListRule=f1.validateFollowingRule=f1.isFollowingRule=f1.validateMentionRule=f1.isMentionRule=f1.validateRecord=f1.isRecord=void 0,f1.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.feed.threadgate#main"===e.$type||"app.bsky.feed.threadgate"===e.$type)},f1.validateRecord=function(e){return dm.lexicons.validate("app.bsky.feed.threadgate#main",e)},f1.isMentionRule=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.threadgate#mentionRule"===e.$type},f1.validateMentionRule=function(e){return dm.lexicons.validate("app.bsky.feed.threadgate#mentionRule",e)},f1.isFollowingRule=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.threadgate#followingRule"===e.$type},f1.validateFollowingRule=function(e){return dm.lexicons.validate("app.bsky.feed.threadgate#followingRule",e)},f1.isListRule=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.feed.threadgate#listRule"===e.$type},f1.validateListRule=function(e){return dm.lexicons.validate("app.bsky.feed.threadgate#listRule",e)};var f4={};Object.defineProperty(f4,"__esModule",{value:!0}),f4.validateRecord=f4.isRecord=void 0,f4.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.graph.block#main"===e.$type||"app.bsky.graph.block"===e.$type)},f4.validateRecord=function(e){return dm.lexicons.validate("app.bsky.graph.block#main",e)};var f5={};Object.defineProperty(f5,"__esModule",{value:!0}),f5.validateRelationship=f5.isRelationship=f5.validateNotFoundActor=f5.isNotFoundActor=f5.validateListViewerState=f5.isListViewerState=f5.REFERENCELIST=f5.CURATELIST=f5.MODLIST=f5.validateStarterPackViewBasic=f5.isStarterPackViewBasic=f5.validateStarterPackView=f5.isStarterPackView=f5.validateListItemView=f5.isListItemView=f5.validateListView=f5.isListView=f5.validateListViewBasic=f5.isListViewBasic=void 0,f5.isListViewBasic=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.graph.defs#listViewBasic"===e.$type},f5.validateListViewBasic=function(e){return dm.lexicons.validate("app.bsky.graph.defs#listViewBasic",e)},f5.isListView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.graph.defs#listView"===e.$type},f5.validateListView=function(e){return dm.lexicons.validate("app.bsky.graph.defs#listView",e)},f5.isListItemView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.graph.defs#listItemView"===e.$type},f5.validateListItemView=function(e){return dm.lexicons.validate("app.bsky.graph.defs#listItemView",e)},f5.isStarterPackView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.graph.defs#starterPackView"===e.$type},f5.validateStarterPackView=function(e){return dm.lexicons.validate("app.bsky.graph.defs#starterPackView",e)},f5.isStarterPackViewBasic=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.graph.defs#starterPackViewBasic"===e.$type},f5.validateStarterPackViewBasic=function(e){return dm.lexicons.validate("app.bsky.graph.defs#starterPackViewBasic",e)},f5.MODLIST="app.bsky.graph.defs#modlist",f5.CURATELIST="app.bsky.graph.defs#curatelist",f5.REFERENCELIST="app.bsky.graph.defs#referencelist",f5.isListViewerState=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.graph.defs#listViewerState"===e.$type},f5.validateListViewerState=function(e){return dm.lexicons.validate("app.bsky.graph.defs#listViewerState",e)},f5.isNotFoundActor=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.graph.defs#notFoundActor"===e.$type},f5.validateNotFoundActor=function(e){return dm.lexicons.validate("app.bsky.graph.defs#notFoundActor",e)},f5.isRelationship=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.graph.defs#relationship"===e.$type},f5.validateRelationship=function(e){return dm.lexicons.validate("app.bsky.graph.defs#relationship",e)};var f2={};Object.defineProperty(f2,"__esModule",{value:!0}),f2.validateRecord=f2.isRecord=void 0,f2.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.graph.follow#main"===e.$type||"app.bsky.graph.follow"===e.$type)},f2.validateRecord=function(e){return dm.lexicons.validate("app.bsky.graph.follow#main",e)};var f3={};Object.defineProperty(f3,"__esModule",{value:!0}),f3.validateRecord=f3.isRecord=void 0,f3.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.graph.list#main"===e.$type||"app.bsky.graph.list"===e.$type)},f3.validateRecord=function(e){return dm.lexicons.validate("app.bsky.graph.list#main",e)};var f7={};Object.defineProperty(f7,"__esModule",{value:!0}),f7.validateRecord=f7.isRecord=void 0,f7.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.graph.listblock#main"===e.$type||"app.bsky.graph.listblock"===e.$type)},f7.validateRecord=function(e){return dm.lexicons.validate("app.bsky.graph.listblock#main",e)};var f6={};Object.defineProperty(f6,"__esModule",{value:!0}),f6.validateRecord=f6.isRecord=void 0,f6.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.graph.listitem#main"===e.$type||"app.bsky.graph.listitem"===e.$type)},f6.validateRecord=function(e){return dm.lexicons.validate("app.bsky.graph.listitem#main",e)};var f9={};Object.defineProperty(f9,"__esModule",{value:!0}),f9.validateFeedItem=f9.isFeedItem=f9.validateRecord=f9.isRecord=void 0,f9.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.graph.starterpack#main"===e.$type||"app.bsky.graph.starterpack"===e.$type)},f9.validateRecord=function(e){return dm.lexicons.validate("app.bsky.graph.starterpack#main",e)},f9.isFeedItem=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.graph.starterpack#feedItem"===e.$type},f9.validateFeedItem=function(e){return dm.lexicons.validate("app.bsky.graph.starterpack#feedItem",e)};var f8={};Object.defineProperty(f8,"__esModule",{value:!0}),f8.validateLabelerPolicies=f8.isLabelerPolicies=f8.validateLabelerViewerState=f8.isLabelerViewerState=f8.validateLabelerViewDetailed=f8.isLabelerViewDetailed=f8.validateLabelerView=f8.isLabelerView=void 0,f8.isLabelerView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.labeler.defs#labelerView"===e.$type},f8.validateLabelerView=function(e){return dm.lexicons.validate("app.bsky.labeler.defs#labelerView",e)},f8.isLabelerViewDetailed=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.labeler.defs#labelerViewDetailed"===e.$type},f8.validateLabelerViewDetailed=function(e){return dm.lexicons.validate("app.bsky.labeler.defs#labelerViewDetailed",e)},f8.isLabelerViewerState=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.labeler.defs#labelerViewerState"===e.$type},f8.validateLabelerViewerState=function(e){return dm.lexicons.validate("app.bsky.labeler.defs#labelerViewerState",e)},f8.isLabelerPolicies=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.labeler.defs#labelerPolicies"===e.$type},f8.validateLabelerPolicies=function(e){return dm.lexicons.validate("app.bsky.labeler.defs#labelerPolicies",e)};var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.validateRecord=he.isRecord=void 0,he.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.labeler.service#main"===e.$type||"app.bsky.labeler.service"===e.$type)},he.validateRecord=function(e){return dm.lexicons.validate("app.bsky.labeler.service#main",e)};var ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.validateByteSlice=ht.isByteSlice=ht.validateTag=ht.isTag=ht.validateLink=ht.isLink=ht.validateMention=ht.isMention=ht.validateMain=ht.isMain=void 0,ht.isMain=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("app.bsky.richtext.facet#main"===e.$type||"app.bsky.richtext.facet"===e.$type)},ht.validateMain=function(e){return dm.lexicons.validate("app.bsky.richtext.facet#main",e)},ht.isMention=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.richtext.facet#mention"===e.$type},ht.validateMention=function(e){return dm.lexicons.validate("app.bsky.richtext.facet#mention",e)},ht.isLink=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.richtext.facet#link"===e.$type},ht.validateLink=function(e){return dm.lexicons.validate("app.bsky.richtext.facet#link",e)},ht.isTag=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.richtext.facet#tag"===e.$type},ht.validateTag=function(e){return dm.lexicons.validate("app.bsky.richtext.facet#tag",e)},ht.isByteSlice=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.richtext.facet#byteSlice"===e.$type},ht.validateByteSlice=function(e){return dm.lexicons.validate("app.bsky.richtext.facet#byteSlice",e)};var hr={};Object.defineProperty(hr,"__esModule",{value:!0}),hr.validateSkeletonSearchActor=hr.isSkeletonSearchActor=hr.validateSkeletonSearchPost=hr.isSkeletonSearchPost=void 0,hr.isSkeletonSearchPost=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.unspecced.defs#skeletonSearchPost"===e.$type},hr.validateSkeletonSearchPost=function(e){return dm.lexicons.validate("app.bsky.unspecced.defs#skeletonSearchPost",e)},hr.isSkeletonSearchActor=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"app.bsky.unspecced.defs#skeletonSearchActor"===e.$type},hr.validateSkeletonSearchActor=function(e){return dm.lexicons.validate("app.bsky.unspecced.defs#skeletonSearchActor",e)};var hi={};Object.defineProperty(hi,"__esModule",{value:!0}),hi.validateRecord=hi.isRecord=void 0,hi.isRecord=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&("chat.bsky.actor.declaration#main"===e.$type||"chat.bsky.actor.declaration"===e.$type)},hi.validateRecord=function(e){return dm.lexicons.validate("chat.bsky.actor.declaration#main",e)};var ho={};Object.defineProperty(ho,"__esModule",{value:!0}),ho.validateProfileViewBasic=ho.isProfileViewBasic=void 0,ho.isProfileViewBasic=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"chat.bsky.actor.defs#profileViewBasic"===e.$type},ho.validateProfileViewBasic=function(e){return dm.lexicons.validate("chat.bsky.actor.defs#profileViewBasic",e)};var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.validateLogDeleteMessage=hn.isLogDeleteMessage=hn.validateLogCreateMessage=hn.isLogCreateMessage=hn.validateLogLeaveConvo=hn.isLogLeaveConvo=hn.validateLogBeginConvo=hn.isLogBeginConvo=hn.validateConvoView=hn.isConvoView=hn.validateMessageViewSender=hn.isMessageViewSender=hn.validateDeletedMessageView=hn.isDeletedMessageView=hn.validateMessageView=hn.isMessageView=hn.validateMessageInput=hn.isMessageInput=hn.validateMessageRef=hn.isMessageRef=void 0,hn.isMessageRef=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"chat.bsky.convo.defs#messageRef"===e.$type},hn.validateMessageRef=function(e){return dm.lexicons.validate("chat.bsky.convo.defs#messageRef",e)},hn.isMessageInput=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"chat.bsky.convo.defs#messageInput"===e.$type},hn.validateMessageInput=function(e){return dm.lexicons.validate("chat.bsky.convo.defs#messageInput",e)},hn.isMessageView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"chat.bsky.convo.defs#messageView"===e.$type},hn.validateMessageView=function(e){return dm.lexicons.validate("chat.bsky.convo.defs#messageView",e)},hn.isDeletedMessageView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"chat.bsky.convo.defs#deletedMessageView"===e.$type},hn.validateDeletedMessageView=function(e){return dm.lexicons.validate("chat.bsky.convo.defs#deletedMessageView",e)},hn.isMessageViewSender=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"chat.bsky.convo.defs#messageViewSender"===e.$type},hn.validateMessageViewSender=function(e){return dm.lexicons.validate("chat.bsky.convo.defs#messageViewSender",e)},hn.isConvoView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"chat.bsky.convo.defs#convoView"===e.$type},hn.validateConvoView=function(e){return dm.lexicons.validate("chat.bsky.convo.defs#convoView",e)},hn.isLogBeginConvo=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"chat.bsky.convo.defs#logBeginConvo"===e.$type},hn.validateLogBeginConvo=function(e){return dm.lexicons.validate("chat.bsky.convo.defs#logBeginConvo",e)},hn.isLogLeaveConvo=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"chat.bsky.convo.defs#logLeaveConvo"===e.$type},hn.validateLogLeaveConvo=function(e){return dm.lexicons.validate("chat.bsky.convo.defs#logLeaveConvo",e)},hn.isLogCreateMessage=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"chat.bsky.convo.defs#logCreateMessage"===e.$type},hn.validateLogCreateMessage=function(e){return dm.lexicons.validate("chat.bsky.convo.defs#logCreateMessage",e)},hn.isLogDeleteMessage=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"chat.bsky.convo.defs#logDeleteMessage"===e.$type},hn.validateLogDeleteMessage=function(e){return dm.lexicons.validate("chat.bsky.convo.defs#logDeleteMessage",e)};var hs={};Object.defineProperty(hs,"__esModule",{value:!0}),hs.validateTemplateView=hs.isTemplateView=void 0,hs.isTemplateView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.communication.defs#templateView"===e.$type},hs.validateTemplateView=function(e){return dm.lexicons.validate("tools.ozone.communication.defs#templateView",e)};var ha={};Object.defineProperty(ha,"__esModule",{value:!0}),ha.validateRecordViewDetail=ha.isRecordViewDetail=ha.validateRecordView=ha.isRecordView=ha.validateRepoViewNotFound=ha.isRepoViewNotFound=ha.validateRepoViewDetail=ha.isRepoViewDetail=ha.validateRepoView=ha.isRepoView=ha.validateModEventTag=ha.isModEventTag=ha.validateModEventDivert=ha.isModEventDivert=ha.validateModEventEmail=ha.isModEventEmail=ha.validateModEventUnmuteReporter=ha.isModEventUnmuteReporter=ha.validateModEventMuteReporter=ha.isModEventMuteReporter=ha.validateModEventUnmute=ha.isModEventUnmute=ha.validateModEventMute=ha.isModEventMute=ha.validateModEventEscalate=ha.isModEventEscalate=ha.validateModEventAcknowledge=ha.isModEventAcknowledge=ha.validateModEventLabel=ha.isModEventLabel=ha.validateModEventReport=ha.isModEventReport=ha.validateModEventComment=ha.isModEventComment=ha.validateModEventResolveAppeal=ha.isModEventResolveAppeal=ha.validateModEventReverseTakedown=ha.isModEventReverseTakedown=ha.validateModEventTakedown=ha.isModEventTakedown=ha.REVIEWNONE=ha.REVIEWCLOSED=ha.REVIEWESCALATED=ha.REVIEWOPEN=ha.validateSubjectStatusView=ha.isSubjectStatusView=ha.validateModEventViewDetail=ha.isModEventViewDetail=ha.validateModEventView=ha.isModEventView=void 0,ha.validateVideoDetails=ha.isVideoDetails=ha.validateImageDetails=ha.isImageDetails=ha.validateBlobView=ha.isBlobView=ha.validateModerationDetail=ha.isModerationDetail=ha.validateModeration=ha.isModeration=ha.validateRecordViewNotFound=ha.isRecordViewNotFound=void 0,ha.isModEventView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventView"===e.$type},ha.validateModEventView=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventView",e)},ha.isModEventViewDetail=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventViewDetail"===e.$type},ha.validateModEventViewDetail=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventViewDetail",e)},ha.isSubjectStatusView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#subjectStatusView"===e.$type},ha.validateSubjectStatusView=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#subjectStatusView",e)},ha.REVIEWOPEN="tools.ozone.moderation.defs#reviewOpen",ha.REVIEWESCALATED="tools.ozone.moderation.defs#reviewEscalated",ha.REVIEWCLOSED="tools.ozone.moderation.defs#reviewClosed",ha.REVIEWNONE="tools.ozone.moderation.defs#reviewNone",ha.isModEventTakedown=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventTakedown"===e.$type},ha.validateModEventTakedown=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventTakedown",e)},ha.isModEventReverseTakedown=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventReverseTakedown"===e.$type},ha.validateModEventReverseTakedown=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventReverseTakedown",e)},ha.isModEventResolveAppeal=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventResolveAppeal"===e.$type},ha.validateModEventResolveAppeal=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventResolveAppeal",e)},ha.isModEventComment=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventComment"===e.$type},ha.validateModEventComment=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventComment",e)},ha.isModEventReport=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventReport"===e.$type},ha.validateModEventReport=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventReport",e)},ha.isModEventLabel=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventLabel"===e.$type},ha.validateModEventLabel=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventLabel",e)},ha.isModEventAcknowledge=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventAcknowledge"===e.$type},ha.validateModEventAcknowledge=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventAcknowledge",e)},ha.isModEventEscalate=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventEscalate"===e.$type},ha.validateModEventEscalate=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventEscalate",e)},ha.isModEventMute=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventMute"===e.$type},ha.validateModEventMute=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventMute",e)},ha.isModEventUnmute=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventUnmute"===e.$type},ha.validateModEventUnmute=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventUnmute",e)},ha.isModEventMuteReporter=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventMuteReporter"===e.$type},ha.validateModEventMuteReporter=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventMuteReporter",e)},ha.isModEventUnmuteReporter=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventUnmuteReporter"===e.$type},ha.validateModEventUnmuteReporter=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventUnmuteReporter",e)},ha.isModEventEmail=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventEmail"===e.$type},ha.validateModEventEmail=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventEmail",e)},ha.isModEventDivert=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventDivert"===e.$type},ha.validateModEventDivert=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventDivert",e)},ha.isModEventTag=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#modEventTag"===e.$type},ha.validateModEventTag=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#modEventTag",e)},ha.isRepoView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#repoView"===e.$type},ha.validateRepoView=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#repoView",e)},ha.isRepoViewDetail=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#repoViewDetail"===e.$type},ha.validateRepoViewDetail=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#repoViewDetail",e)},ha.isRepoViewNotFound=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#repoViewNotFound"===e.$type},ha.validateRepoViewNotFound=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#repoViewNotFound",e)},ha.isRecordView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#recordView"===e.$type},ha.validateRecordView=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#recordView",e)},ha.isRecordViewDetail=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#recordViewDetail"===e.$type},ha.validateRecordViewDetail=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#recordViewDetail",e)},ha.isRecordViewNotFound=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#recordViewNotFound"===e.$type},ha.validateRecordViewNotFound=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#recordViewNotFound",e)},ha.isModeration=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#moderation"===e.$type},ha.validateModeration=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#moderation",e)},ha.isModerationDetail=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#moderationDetail"===e.$type},ha.validateModerationDetail=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#moderationDetail",e)},ha.isBlobView=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#blobView"===e.$type},ha.validateBlobView=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#blobView",e)},ha.isImageDetails=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#imageDetails"===e.$type},ha.validateImageDetails=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#imageDetails",e)},ha.isVideoDetails=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.moderation.defs#videoDetails"===e.$type},ha.validateVideoDetails=function(e){return dm.lexicons.validate("tools.ozone.moderation.defs#videoDetails",e)};var hl={};Object.defineProperty(hl,"__esModule",{value:!0}),hl.ROLETRIAGE=hl.ROLEMODERATOR=hl.ROLEADMIN=hl.validateMember=hl.isMember=void 0,hl.isMember=function(e){return(0,dM.isObj)(e)&&(0,dM.hasProp)(e,"$type")&&"tools.ozone.team.defs#member"===e.$type},hl.validateMember=function(e){return dm.lexicons.validate("tools.ozone.team.defs#member",e)},hl.ROLEADMIN="tools.ozone.team.defs#roleAdmin",hl.ROLEMODERATOR="tools.ozone.team.defs#roleModerator",hl.ROLETRIAGE="tools.ozone.team.defs#roleTriage";var hd=np&&np.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),hc=np&&np.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hp=np&&np.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&hd(t,e,r);return hc(t,e),t};Object.defineProperty(ds,"__esModule",{value:!0}),ds.ComAtprotoServerDescribeServer=ds.ComAtprotoServerDeleteSession=ds.ComAtprotoServerDeleteAccount=ds.ComAtprotoServerDefs=ds.ComAtprotoServerDeactivateAccount=ds.ComAtprotoServerCreateSession=ds.ComAtprotoServerCreateInviteCodes=ds.ComAtprotoServerCreateInviteCode=ds.ComAtprotoServerCreateAppPassword=ds.ComAtprotoServerCreateAccount=ds.ComAtprotoServerConfirmEmail=ds.ComAtprotoServerCheckAccountStatus=ds.ComAtprotoServerActivateAccount=ds.ComAtprotoRepoUploadBlob=ds.ComAtprotoRepoStrongRef=ds.ComAtprotoRepoPutRecord=ds.ComAtprotoRepoListRecords=ds.ComAtprotoRepoListMissingBlobs=ds.ComAtprotoRepoImportRepo=ds.ComAtprotoRepoGetRecord=ds.ComAtprotoRepoDescribeRepo=ds.ComAtprotoRepoDeleteRecord=ds.ComAtprotoRepoCreateRecord=ds.ComAtprotoRepoApplyWrites=ds.ComAtprotoModerationDefs=ds.ComAtprotoModerationCreateReport=ds.ComAtprotoLabelSubscribeLabels=ds.ComAtprotoLabelQueryLabels=ds.ComAtprotoLabelDefs=ds.ComAtprotoIdentityUpdateHandle=ds.ComAtprotoIdentitySubmitPlcOperation=ds.ComAtprotoIdentitySignPlcOperation=ds.ComAtprotoIdentityResolveHandle=ds.ComAtprotoIdentityRequestPlcOperationSignature=ds.ComAtprotoIdentityGetRecommendedDidCredentials=ds.ComAtprotoAdminUpdateSubjectStatus=ds.ComAtprotoAdminUpdateAccountPassword=ds.ComAtprotoAdminUpdateAccountHandle=ds.ComAtprotoAdminUpdateAccountEmail=ds.ComAtprotoAdminSendEmail=ds.ComAtprotoAdminSearchAccounts=ds.ComAtprotoAdminGetSubjectStatus=ds.ComAtprotoAdminGetInviteCodes=ds.ComAtprotoAdminGetAccountInfos=ds.ComAtprotoAdminGetAccountInfo=ds.ComAtprotoAdminEnableAccountInvites=ds.ComAtprotoAdminDisableInviteCodes=ds.ComAtprotoAdminDisableAccountInvites=ds.ComAtprotoAdminDeleteAccount=ds.ComAtprotoAdminDefs=void 0,ds.AppBskyFeedGetFeedGenerator=ds.AppBskyFeedGetFeed=ds.AppBskyFeedGetAuthorFeed=ds.AppBskyFeedGetActorLikes=ds.AppBskyFeedGetActorFeeds=ds.AppBskyFeedGenerator=ds.AppBskyFeedDescribeFeedGenerator=ds.AppBskyFeedDefs=ds.AppBskyEmbedRecordWithMedia=ds.AppBskyEmbedRecord=ds.AppBskyEmbedImages=ds.AppBskyEmbedExternal=ds.AppBskyActorSearchActorsTypeahead=ds.AppBskyActorSearchActors=ds.AppBskyActorPutPreferences=ds.AppBskyActorProfile=ds.AppBskyActorGetSuggestions=ds.AppBskyActorGetProfiles=ds.AppBskyActorGetProfile=ds.AppBskyActorGetPreferences=ds.AppBskyActorDefs=ds.ComAtprotoTempRequestPhoneVerification=ds.ComAtprotoTempFetchLabels=ds.ComAtprotoTempCheckSignupQueue=ds.ComAtprotoSyncSubscribeRepos=ds.ComAtprotoSyncRequestCrawl=ds.ComAtprotoSyncNotifyOfUpdate=ds.ComAtprotoSyncListRepos=ds.ComAtprotoSyncListBlobs=ds.ComAtprotoSyncGetRepoStatus=ds.ComAtprotoSyncGetRepo=ds.ComAtprotoSyncGetRecord=ds.ComAtprotoSyncGetLatestCommit=ds.ComAtprotoSyncGetHead=ds.ComAtprotoSyncGetCheckout=ds.ComAtprotoSyncGetBlocks=ds.ComAtprotoSyncGetBlob=ds.ComAtprotoServerUpdateEmail=ds.ComAtprotoServerRevokeAppPassword=ds.ComAtprotoServerResetPassword=ds.ComAtprotoServerReserveSigningKey=ds.ComAtprotoServerRequestPasswordReset=ds.ComAtprotoServerRequestEmailUpdate=ds.ComAtprotoServerRequestEmailConfirmation=ds.ComAtprotoServerRequestAccountDelete=ds.ComAtprotoServerRefreshSession=ds.ComAtprotoServerListAppPasswords=ds.ComAtprotoServerGetSession=ds.ComAtprotoServerGetServiceAuth=ds.ComAtprotoServerGetAccountInviteCodes=void 0,ds.AppBskyNotificationUpdateSeen=ds.AppBskyNotificationRegisterPush=ds.AppBskyNotificationPutPreferences=ds.AppBskyNotificationListNotifications=ds.AppBskyNotificationGetUnreadCount=ds.AppBskyLabelerService=ds.AppBskyLabelerGetServices=ds.AppBskyLabelerDefs=ds.AppBskyGraphUnmuteThread=ds.AppBskyGraphUnmuteActorList=ds.AppBskyGraphUnmuteActor=ds.AppBskyGraphStarterpack=ds.AppBskyGraphMuteThread=ds.AppBskyGraphMuteActorList=ds.AppBskyGraphMuteActor=ds.AppBskyGraphListitem=ds.AppBskyGraphListblock=ds.AppBskyGraphList=ds.AppBskyGraphGetSuggestedFollowsByActor=ds.AppBskyGraphGetStarterPacks=ds.AppBskyGraphGetStarterPack=ds.AppBskyGraphGetRelationships=ds.AppBskyGraphGetMutes=ds.AppBskyGraphGetLists=ds.AppBskyGraphGetListMutes=ds.AppBskyGraphGetListBlocks=ds.AppBskyGraphGetList=ds.AppBskyGraphGetKnownFollowers=ds.AppBskyGraphGetFollows=ds.AppBskyGraphGetFollowers=ds.AppBskyGraphGetBlocks=ds.AppBskyGraphGetActorStarterPacks=ds.AppBskyGraphFollow=ds.AppBskyGraphDefs=ds.AppBskyGraphBlock=ds.AppBskyFeedThreadgate=ds.AppBskyFeedSendInteractions=ds.AppBskyFeedSearchPosts=ds.AppBskyFeedRepost=ds.AppBskyFeedPost=ds.AppBskyFeedLike=ds.AppBskyFeedGetTimeline=ds.AppBskyFeedGetSuggestedFeeds=ds.AppBskyFeedGetRepostedBy=ds.AppBskyFeedGetPosts=ds.AppBskyFeedGetPostThread=ds.AppBskyFeedGetListFeed=ds.AppBskyFeedGetLikes=ds.AppBskyFeedGetFeedSkeleton=ds.AppBskyFeedGetFeedGenerators=void 0,ds.TOOLS_OZONE_MODERATION=ds.APP_BSKY_GRAPH=ds.APP_BSKY_FEED=ds.COM_ATPROTO_MODERATION=ds.ToolsOzoneTeamUpdateMember=ds.ToolsOzoneTeamListMembers=ds.ToolsOzoneTeamDeleteMember=ds.ToolsOzoneTeamDefs=ds.ToolsOzoneTeamAddMember=ds.ToolsOzoneServerGetConfig=ds.ToolsOzoneModerationSearchRepos=ds.ToolsOzoneModerationQueryStatuses=ds.ToolsOzoneModerationQueryEvents=ds.ToolsOzoneModerationGetRepo=ds.ToolsOzoneModerationGetRecord=ds.ToolsOzoneModerationGetEvent=ds.ToolsOzoneModerationEmitEvent=ds.ToolsOzoneModerationDefs=ds.ToolsOzoneCommunicationUpdateTemplate=ds.ToolsOzoneCommunicationListTemplates=ds.ToolsOzoneCommunicationDeleteTemplate=ds.ToolsOzoneCommunicationDefs=ds.ToolsOzoneCommunicationCreateTemplate=ds.ChatBskyModerationUpdateActorAccess=ds.ChatBskyModerationGetMessageContext=ds.ChatBskyModerationGetActorMetadata=ds.ChatBskyConvoUpdateRead=ds.ChatBskyConvoUnmuteConvo=ds.ChatBskyConvoSendMessageBatch=ds.ChatBskyConvoSendMessage=ds.ChatBskyConvoMuteConvo=ds.ChatBskyConvoListConvos=ds.ChatBskyConvoLeaveConvo=ds.ChatBskyConvoGetMessages=ds.ChatBskyConvoGetLog=ds.ChatBskyConvoGetConvoForMembers=ds.ChatBskyConvoGetConvo=ds.ChatBskyConvoDeleteMessageForSelf=ds.ChatBskyConvoDefs=ds.ChatBskyActorExportAccountData=ds.ChatBskyActorDeleteAccount=ds.ChatBskyActorDefs=ds.ChatBskyActorDeclaration=ds.AppBskyUnspeccedSearchPostsSkeleton=ds.AppBskyUnspeccedSearchActorsSkeleton=ds.AppBskyUnspeccedGetTaggedSuggestions=ds.AppBskyUnspeccedGetSuggestionsSkeleton=ds.AppBskyUnspeccedGetPopularFeedGenerators=ds.AppBskyUnspeccedDefs=ds.AppBskyRichtextFacet=void 0,ds.ToolsOzoneTeamNS=ds.ToolsOzoneServerNS=ds.ToolsOzoneModerationNS=ds.ToolsOzoneCommunicationNS=ds.ToolsOzoneNS=ds.ToolsNS=ds.ChatBskyModerationNS=ds.ChatBskyConvoNS=ds.DeclarationRecord=ds.ChatBskyActorNS=ds.ChatBskyNS=ds.ChatNS=ds.AppBskyUnspeccedNS=ds.AppBskyRichtextNS=ds.AppBskyNotificationNS=ds.ServiceRecord=ds.AppBskyLabelerNS=ds.StarterpackRecord=ds.ListitemRecord=ds.ListblockRecord=ds.ListRecord=ds.FollowRecord=ds.BlockRecord=ds.AppBskyGraphNS=ds.ThreadgateRecord=ds.RepostRecord=ds.PostRecord=ds.LikeRecord=ds.GeneratorRecord=ds.AppBskyFeedNS=ds.AppBskyEmbedNS=ds.ProfileRecord=ds.AppBskyActorNS=ds.AppBskyNS=ds.AppNS=ds.ComAtprotoTempNS=ds.ComAtprotoSyncNS=ds.ComAtprotoServerNS=ds.ComAtprotoRepoNS=ds.ComAtprotoModerationNS=ds.ComAtprotoLabelNS=ds.ComAtprotoIdentityNS=ds.ComAtprotoAdminNS=ds.ComAtprotoNS=ds.ComNS=ds.AtpServiceClient=ds.AtpBaseClient=ds.TOOLS_OZONE_TEAM=void 0;let hu=hp(dy),hf=hp(dg),hh=hp(db),hm=hp(dv),hy=hp(dE),hg=hp(dR),hb=hp(dA),hv=hp(d_),hE=hp(dT),hR=hp(dw),hA=hp(dC),h_=hp(dS),hT=hp(dL),hw=hp(dk),hC=hp(dx),hS=hp(dP),hL=hp(dB),hk=hp(dD),hx=hp(dO),hP=hp(dU),hB=hp(dI),hD=hp(dK),hO=hp(dj),hU=hp(dF),hI=hp(d$),hK=hp(dH),hj=hp(dZ),hM=hp(dW),hN=hp(dY),hV=hp(dQ),hF=hp(dJ),hG=hp(d4),hq=hp(d5),h$=hp(d2),hz=hp(d3),hX=hp(ct),hH=hp(cc),hZ=hp(cf),hW=hp(ch),hY=hp(cm),hQ=hp(cv),hJ=hp(cE),h0=hp(cT),h1=hp(cw),h4=hp(cC),h5=hp(ck),h2=hp(cB),h3=hp(cD),h7=hp(cI),h6=hp(cM),h9=hp(cN),h8=hp(cV),me=hp(cF),mt=hp(cG),mr=hp(cq),mi=hp(cH),mo=hp(cZ),mn=hp(c0),ms=hp(c6),ma=hp(po),ml=hp(pn),md=hp(pl),mc=hp(ph),mp=hp(pR),mu=hp(pS),mf=hp(px),mh=hp(pI),mm=hp(pK),my=hp(pj),mg=hp(pM),mb=hp(pN),mv=hp(pV),mE=hp(pF),mR=hp(pG),mA=hp(pq),m_=hp(p$),mT=hp(pz),mw=hp(pX),mC=hp(pH),mS=hp(pZ),mL=hp(pW),mk=hp(pY),mx=hp(p1),mP=hp(p3),mB=hp(p9),mD=hp(p8),mO=hp(ue),mU=hp(ui),mI=hp(uo),mK=hp(ua),mj=hp(uc),mM=hp(up),mN=hp(uu),mV=hp(uf),mF=hp(uh),mG=hp(ug),mq=hp(ub),m$=hp(uv),mz=hp(uE),mX=hp(uR),mH=hp(uA),mZ=hp(u_),mW=hp(uT),mY=hp(uw),mQ=hp(uC),mJ=hp(uS),m0=hp(uL),m1=hp(uP),m4=hp(uB),m5=hp(uD),m2=hp(uO),m3=hp(uU),m7=hp(uI),m6=hp(uK),m9=hp(uj),m8=hp(uM),ye=hp(uN),yt=hp(uV),yr=hp(uF),yi=hp(uG),yo=hp(uq),yn=hp(u$),ys=hp(uz),ya=hp(uX),yl=hp(uH),yd=hp(uZ),yc=hp(uQ),yp=hp(u1),yu=hp(u4),yf=hp(u5),yh=hp(u2),ym=hp(u3),yy=hp(u7),yg=hp(u6),yb=hp(u9),yv=hp(u8),yE=hp(fe),yR=hp(ft),yA=hp(fr),y_=hp(fi),yT=hp(fo),yw=hp(fn),yC=hp(fs),yS=hp(fa),yL=hp(fl),yk=hp(fd),yx=hp(fc),yP=hp(fp),yB=hp(fu),yD=hp(fm),yO=hp(fy),yU=hp(fv),yI=hp(fA),yK=hp(f_),yj=hp(fT),yM=hp(fw),yN=hp(fC),yV=hp(fk),yF=hp(fD),yG=hp(fO);ds.ComAtprotoAdminDefs=hp(fK),ds.ComAtprotoAdminDeleteAccount=hp(dy),ds.ComAtprotoAdminDisableAccountInvites=hp(dg),ds.ComAtprotoAdminDisableInviteCodes=hp(db),ds.ComAtprotoAdminEnableAccountInvites=hp(dv),ds.ComAtprotoAdminGetAccountInfo=hp(dE),ds.ComAtprotoAdminGetAccountInfos=hp(dR),ds.ComAtprotoAdminGetInviteCodes=hp(dA),ds.ComAtprotoAdminGetSubjectStatus=hp(d_),ds.ComAtprotoAdminSearchAccounts=hp(dT),ds.ComAtprotoAdminSendEmail=hp(dw),ds.ComAtprotoAdminUpdateAccountEmail=hp(dC),ds.ComAtprotoAdminUpdateAccountHandle=hp(dS),ds.ComAtprotoAdminUpdateAccountPassword=hp(dL),ds.ComAtprotoAdminUpdateSubjectStatus=hp(dk),ds.ComAtprotoIdentityGetRecommendedDidCredentials=hp(dx),ds.ComAtprotoIdentityRequestPlcOperationSignature=hp(dP),ds.ComAtprotoIdentityResolveHandle=hp(dB),ds.ComAtprotoIdentitySignPlcOperation=hp(dD),ds.ComAtprotoIdentitySubmitPlcOperation=hp(dO),ds.ComAtprotoIdentityUpdateHandle=hp(dU),ds.ComAtprotoLabelDefs=hp(fj),ds.ComAtprotoLabelQueryLabels=hp(dI),ds.ComAtprotoLabelSubscribeLabels=hp(fM),ds.ComAtprotoModerationCreateReport=hp(dK),ds.ComAtprotoModerationDefs=hp(fN),ds.ComAtprotoRepoApplyWrites=hp(dj),ds.ComAtprotoRepoCreateRecord=hp(dF),ds.ComAtprotoRepoDeleteRecord=hp(d$),ds.ComAtprotoRepoDescribeRepo=hp(dH),ds.ComAtprotoRepoGetRecord=hp(dZ),ds.ComAtprotoRepoImportRepo=hp(dW),ds.ComAtprotoRepoListMissingBlobs=hp(dY),ds.ComAtprotoRepoListRecords=hp(dQ),ds.ComAtprotoRepoPutRecord=hp(dJ),ds.ComAtprotoRepoStrongRef=hp(fV),ds.ComAtprotoRepoUploadBlob=hp(d4),ds.ComAtprotoServerActivateAccount=hp(d5),ds.ComAtprotoServerCheckAccountStatus=hp(d2),ds.ComAtprotoServerConfirmEmail=hp(d3),ds.ComAtprotoServerCreateAccount=hp(ct),ds.ComAtprotoServerCreateAppPassword=hp(cc),ds.ComAtprotoServerCreateInviteCode=hp(cf),ds.ComAtprotoServerCreateInviteCodes=hp(ch),ds.ComAtprotoServerCreateSession=hp(cm),ds.ComAtprotoServerDeactivateAccount=hp(cv),ds.ComAtprotoServerDefs=hp(fF),ds.ComAtprotoServerDeleteAccount=hp(cE),ds.ComAtprotoServerDeleteSession=hp(cT),ds.ComAtprotoServerDescribeServer=hp(cw),ds.ComAtprotoServerGetAccountInviteCodes=hp(cC),ds.ComAtprotoServerGetServiceAuth=hp(ck),ds.ComAtprotoServerGetSession=hp(cB),ds.ComAtprotoServerListAppPasswords=hp(cD),ds.ComAtprotoServerRefreshSession=hp(cI),ds.ComAtprotoServerRequestAccountDelete=hp(cM),ds.ComAtprotoServerRequestEmailConfirmation=hp(cN),ds.ComAtprotoServerRequestEmailUpdate=hp(cV),ds.ComAtprotoServerRequestPasswordReset=hp(cF),ds.ComAtprotoServerReserveSigningKey=hp(cG),ds.ComAtprotoServerResetPassword=hp(cq),ds.ComAtprotoServerRevokeAppPassword=hp(cH),ds.ComAtprotoServerUpdateEmail=hp(cZ),ds.ComAtprotoSyncGetBlob=hp(c0),ds.ComAtprotoSyncGetBlocks=hp(c6),ds.ComAtprotoSyncGetCheckout=hp(po),ds.ComAtprotoSyncGetHead=hp(pn),ds.ComAtprotoSyncGetLatestCommit=hp(pl),ds.ComAtprotoSyncGetRecord=hp(ph),ds.ComAtprotoSyncGetRepo=hp(pR),ds.ComAtprotoSyncGetRepoStatus=hp(pS),ds.ComAtprotoSyncListBlobs=hp(px),ds.ComAtprotoSyncListRepos=hp(pI),ds.ComAtprotoSyncNotifyOfUpdate=hp(pK),ds.ComAtprotoSyncRequestCrawl=hp(pj),ds.ComAtprotoSyncSubscribeRepos=hp(fG),ds.ComAtprotoTempCheckSignupQueue=hp(pM),ds.ComAtprotoTempFetchLabels=hp(pN),ds.ComAtprotoTempRequestPhoneVerification=hp(pV),ds.AppBskyActorDefs=hp(fq),ds.AppBskyActorGetPreferences=hp(pF),ds.AppBskyActorGetProfile=hp(pG),ds.AppBskyActorGetProfiles=hp(pq),ds.AppBskyActorGetSuggestions=hp(p$),ds.AppBskyActorProfile=hp(f$),ds.AppBskyActorPutPreferences=hp(pz),ds.AppBskyActorSearchActors=hp(pX),ds.AppBskyActorSearchActorsTypeahead=hp(pH),ds.AppBskyEmbedExternal=hp(fz),ds.AppBskyEmbedImages=hp(fX),ds.AppBskyEmbedRecord=hp(fH),ds.AppBskyEmbedRecordWithMedia=hp(fZ),ds.AppBskyFeedDefs=hp(fW),ds.AppBskyFeedDescribeFeedGenerator=hp(pZ),ds.AppBskyFeedGenerator=hp(fY),ds.AppBskyFeedGetActorFeeds=hp(pW),ds.AppBskyFeedGetActorLikes=hp(pY),ds.AppBskyFeedGetAuthorFeed=hp(p1),ds.AppBskyFeedGetFeed=hp(p3),ds.AppBskyFeedGetFeedGenerator=hp(p9),ds.AppBskyFeedGetFeedGenerators=hp(p8),ds.AppBskyFeedGetFeedSkeleton=hp(ue),ds.AppBskyFeedGetLikes=hp(ui),ds.AppBskyFeedGetListFeed=hp(uo),ds.AppBskyFeedGetPostThread=hp(ua),ds.AppBskyFeedGetPosts=hp(uc),ds.AppBskyFeedGetRepostedBy=hp(up),ds.AppBskyFeedGetSuggestedFeeds=hp(uu),ds.AppBskyFeedGetTimeline=hp(uf),ds.AppBskyFeedLike=hp(fQ),ds.AppBskyFeedPost=hp(fJ),ds.AppBskyFeedRepost=hp(f0),ds.AppBskyFeedSearchPosts=hp(uh),ds.AppBskyFeedSendInteractions=hp(ug),ds.AppBskyFeedThreadgate=hp(f1),ds.AppBskyGraphBlock=hp(f4),ds.AppBskyGraphDefs=hp(f5),ds.AppBskyGraphFollow=hp(f2),ds.AppBskyGraphGetActorStarterPacks=hp(ub),ds.AppBskyGraphGetBlocks=hp(uv),ds.AppBskyGraphGetFollowers=hp(uE),ds.AppBskyGraphGetFollows=hp(uR),ds.AppBskyGraphGetKnownFollowers=hp(uA),ds.AppBskyGraphGetList=hp(u_),ds.AppBskyGraphGetListBlocks=hp(uT),ds.AppBskyGraphGetListMutes=hp(uw),ds.AppBskyGraphGetLists=hp(uC),ds.AppBskyGraphGetMutes=hp(uS),ds.AppBskyGraphGetRelationships=hp(uL),ds.AppBskyGraphGetStarterPack=hp(uP),ds.AppBskyGraphGetStarterPacks=hp(uB),ds.AppBskyGraphGetSuggestedFollowsByActor=hp(uD),ds.AppBskyGraphList=hp(f3),ds.AppBskyGraphListblock=hp(f7),ds.AppBskyGraphListitem=hp(f6),ds.AppBskyGraphMuteActor=hp(uO),ds.AppBskyGraphMuteActorList=hp(uU),ds.AppBskyGraphMuteThread=hp(uI),ds.AppBskyGraphStarterpack=hp(f9),ds.AppBskyGraphUnmuteActor=hp(uK),ds.AppBskyGraphUnmuteActorList=hp(uj),ds.AppBskyGraphUnmuteThread=hp(uM),ds.AppBskyLabelerDefs=hp(f8),ds.AppBskyLabelerGetServices=hp(uN),ds.AppBskyLabelerService=hp(he),ds.AppBskyNotificationGetUnreadCount=hp(uV),ds.AppBskyNotificationListNotifications=hp(uF),ds.AppBskyNotificationPutPreferences=hp(uG),ds.AppBskyNotificationRegisterPush=hp(uq),ds.AppBskyNotificationUpdateSeen=hp(u$),ds.AppBskyRichtextFacet=hp(ht),ds.AppBskyUnspeccedDefs=hp(hr),ds.AppBskyUnspeccedGetPopularFeedGenerators=hp(uz),ds.AppBskyUnspeccedGetSuggestionsSkeleton=hp(uX),ds.AppBskyUnspeccedGetTaggedSuggestions=hp(uH),ds.AppBskyUnspeccedSearchActorsSkeleton=hp(uZ),ds.AppBskyUnspeccedSearchPostsSkeleton=hp(uQ),ds.ChatBskyActorDeclaration=hp(hi),ds.ChatBskyActorDefs=hp(ho),ds.ChatBskyActorDeleteAccount=hp(u1),ds.ChatBskyActorExportAccountData=hp(u4),ds.ChatBskyConvoDefs=hp(hn),ds.ChatBskyConvoDeleteMessageForSelf=hp(u5),ds.ChatBskyConvoGetConvo=hp(u2),ds.ChatBskyConvoGetConvoForMembers=hp(u3),ds.ChatBskyConvoGetLog=hp(u7),ds.ChatBskyConvoGetMessages=hp(u6),ds.ChatBskyConvoLeaveConvo=hp(u9),ds.ChatBskyConvoListConvos=hp(u8),ds.ChatBskyConvoMuteConvo=hp(fe),ds.ChatBskyConvoSendMessage=hp(ft),ds.ChatBskyConvoSendMessageBatch=hp(fr),ds.ChatBskyConvoUnmuteConvo=hp(fi),ds.ChatBskyConvoUpdateRead=hp(fo),ds.ChatBskyModerationGetActorMetadata=hp(fn),ds.ChatBskyModerationGetMessageContext=hp(fs),ds.ChatBskyModerationUpdateActorAccess=hp(fa),ds.ToolsOzoneCommunicationCreateTemplate=hp(fl),ds.ToolsOzoneCommunicationDefs=hp(hs),ds.ToolsOzoneCommunicationDeleteTemplate=hp(fd),ds.ToolsOzoneCommunicationListTemplates=hp(fc),ds.ToolsOzoneCommunicationUpdateTemplate=hp(fp),ds.ToolsOzoneModerationDefs=hp(ha),ds.ToolsOzoneModerationEmitEvent=hp(fu),ds.ToolsOzoneModerationGetEvent=hp(fm),ds.ToolsOzoneModerationGetRecord=hp(fy),ds.ToolsOzoneModerationGetRepo=hp(fv),ds.ToolsOzoneModerationQueryEvents=hp(fA),ds.ToolsOzoneModerationQueryStatuses=hp(f_),ds.ToolsOzoneModerationSearchRepos=hp(fT),ds.ToolsOzoneServerGetConfig=hp(fw),ds.ToolsOzoneTeamAddMember=hp(fC),ds.ToolsOzoneTeamDefs=hp(hl),ds.ToolsOzoneTeamDeleteMember=hp(fk),ds.ToolsOzoneTeamListMembers=hp(fD),ds.ToolsOzoneTeamUpdateMember=hp(fO),ds.COM_ATPROTO_MODERATION={DefsReasonSpam:"com.atproto.moderation.defs#reasonSpam",DefsReasonViolation:"com.atproto.moderation.defs#reasonViolation",DefsReasonMisleading:"com.atproto.moderation.defs#reasonMisleading",DefsReasonSexual:"com.atproto.moderation.defs#reasonSexual",DefsReasonRude:"com.atproto.moderation.defs#reasonRude",DefsReasonOther:"com.atproto.moderation.defs#reasonOther",DefsReasonAppeal:"com.atproto.moderation.defs#reasonAppeal"},ds.APP_BSKY_FEED={DefsRequestLess:"app.bsky.feed.defs#requestLess",DefsRequestMore:"app.bsky.feed.defs#requestMore",DefsClickthroughItem:"app.bsky.feed.defs#clickthroughItem",DefsClickthroughAuthor:"app.bsky.feed.defs#clickthroughAuthor",DefsClickthroughReposter:"app.bsky.feed.defs#clickthroughReposter",DefsClickthroughEmbed:"app.bsky.feed.defs#clickthroughEmbed",DefsInteractionSeen:"app.bsky.feed.defs#interactionSeen",DefsInteractionLike:"app.bsky.feed.defs#interactionLike",DefsInteractionRepost:"app.bsky.feed.defs#interactionRepost",DefsInteractionReply:"app.bsky.feed.defs#interactionReply",DefsInteractionQuote:"app.bsky.feed.defs#interactionQuote",DefsInteractionShare:"app.bsky.feed.defs#interactionShare"},ds.APP_BSKY_GRAPH={DefsModlist:"app.bsky.graph.defs#modlist",DefsCuratelist:"app.bsky.graph.defs#curatelist",DefsReferencelist:"app.bsky.graph.defs#referencelist"},ds.TOOLS_OZONE_MODERATION={DefsReviewOpen:"tools.ozone.moderation.defs#reviewOpen",DefsReviewEscalated:"tools.ozone.moderation.defs#reviewEscalated",DefsReviewClosed:"tools.ozone.moderation.defs#reviewClosed",DefsReviewNone:"tools.ozone.moderation.defs#reviewNone"},ds.TOOLS_OZONE_TEAM={DefsRoleAdmin:"tools.ozone.team.defs#roleAdmin",DefsRoleModerator:"tools.ozone.team.defs#roleModerator",DefsRoleTriage:"tools.ozone.team.defs#roleTriage"},ds.AtpBaseClient=class{constructor(){Object.defineProperty(this,"xrpc",{enumerable:!0,configurable:!0,writable:!0,value:new da.Client}),this.xrpc.addLexicons(dm.schemas)}service(e){return new yq(this,this.xrpc.service(e))}};class yq{constructor(e,t){Object.defineProperty(this,"_baseClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"xrpc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"com",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tools",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._baseClient=e,this.xrpc=t,this.com=new y$(this),this.app=new y1(this),this.chat=new gh(this),this.tools=new gE(this)}setHeader(e,t){this.xrpc.setHeader(e,t)}}ds.AtpServiceClient=yq;class y${constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"atproto",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e,this.atproto=new yz(e)}}ds.ComNS=y$;class yz{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"admin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"identity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moderation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"server",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sync",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e,this.admin=new yX(e),this.identity=new yH(e),this.label=new yZ(e),this.moderation=new yW(e),this.repo=new yY(e),this.server=new yQ(e),this.sync=new yJ(e),this.temp=new y0(e)}}ds.ComAtprotoNS=yz;class yX{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}deleteAccount(e,t){return this._service.xrpc.call("com.atproto.admin.deleteAccount",t?.qp,e,t).catch(e=>{throw hu.toKnownErr(e)})}disableAccountInvites(e,t){return this._service.xrpc.call("com.atproto.admin.disableAccountInvites",t?.qp,e,t).catch(e=>{throw hf.toKnownErr(e)})}disableInviteCodes(e,t){return this._service.xrpc.call("com.atproto.admin.disableInviteCodes",t?.qp,e,t).catch(e=>{throw hh.toKnownErr(e)})}enableAccountInvites(e,t){return this._service.xrpc.call("com.atproto.admin.enableAccountInvites",t?.qp,e,t).catch(e=>{throw hm.toKnownErr(e)})}getAccountInfo(e,t){return this._service.xrpc.call("com.atproto.admin.getAccountInfo",e,void 0,t).catch(e=>{throw hy.toKnownErr(e)})}getAccountInfos(e,t){return this._service.xrpc.call("com.atproto.admin.getAccountInfos",e,void 0,t).catch(e=>{throw hg.toKnownErr(e)})}getInviteCodes(e,t){return this._service.xrpc.call("com.atproto.admin.getInviteCodes",e,void 0,t).catch(e=>{throw hb.toKnownErr(e)})}getSubjectStatus(e,t){return this._service.xrpc.call("com.atproto.admin.getSubjectStatus",e,void 0,t).catch(e=>{throw hv.toKnownErr(e)})}searchAccounts(e,t){return this._service.xrpc.call("com.atproto.admin.searchAccounts",e,void 0,t).catch(e=>{throw hE.toKnownErr(e)})}sendEmail(e,t){return this._service.xrpc.call("com.atproto.admin.sendEmail",t?.qp,e,t).catch(e=>{throw hR.toKnownErr(e)})}updateAccountEmail(e,t){return this._service.xrpc.call("com.atproto.admin.updateAccountEmail",t?.qp,e,t).catch(e=>{throw hA.toKnownErr(e)})}updateAccountHandle(e,t){return this._service.xrpc.call("com.atproto.admin.updateAccountHandle",t?.qp,e,t).catch(e=>{throw h_.toKnownErr(e)})}updateAccountPassword(e,t){return this._service.xrpc.call("com.atproto.admin.updateAccountPassword",t?.qp,e,t).catch(e=>{throw hT.toKnownErr(e)})}updateSubjectStatus(e,t){return this._service.xrpc.call("com.atproto.admin.updateSubjectStatus",t?.qp,e,t).catch(e=>{throw hw.toKnownErr(e)})}}ds.ComAtprotoAdminNS=yX;class yH{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}getRecommendedDidCredentials(e,t){return this._service.xrpc.call("com.atproto.identity.getRecommendedDidCredentials",e,void 0,t).catch(e=>{throw hC.toKnownErr(e)})}requestPlcOperationSignature(e,t){return this._service.xrpc.call("com.atproto.identity.requestPlcOperationSignature",t?.qp,e,t).catch(e=>{throw hS.toKnownErr(e)})}resolveHandle(e,t){return this._service.xrpc.call("com.atproto.identity.resolveHandle",e,void 0,t).catch(e=>{throw hL.toKnownErr(e)})}signPlcOperation(e,t){return this._service.xrpc.call("com.atproto.identity.signPlcOperation",t?.qp,e,t).catch(e=>{throw hk.toKnownErr(e)})}submitPlcOperation(e,t){return this._service.xrpc.call("com.atproto.identity.submitPlcOperation",t?.qp,e,t).catch(e=>{throw hx.toKnownErr(e)})}updateHandle(e,t){return this._service.xrpc.call("com.atproto.identity.updateHandle",t?.qp,e,t).catch(e=>{throw hP.toKnownErr(e)})}}ds.ComAtprotoIdentityNS=yH;class yZ{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}queryLabels(e,t){return this._service.xrpc.call("com.atproto.label.queryLabels",e,void 0,t).catch(e=>{throw hB.toKnownErr(e)})}}ds.ComAtprotoLabelNS=yZ;class yW{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}createReport(e,t){return this._service.xrpc.call("com.atproto.moderation.createReport",t?.qp,e,t).catch(e=>{throw hD.toKnownErr(e)})}}ds.ComAtprotoModerationNS=yW;class yY{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}applyWrites(e,t){return this._service.xrpc.call("com.atproto.repo.applyWrites",t?.qp,e,t).catch(e=>{throw hO.toKnownErr(e)})}createRecord(e,t){return this._service.xrpc.call("com.atproto.repo.createRecord",t?.qp,e,t).catch(e=>{throw hU.toKnownErr(e)})}deleteRecord(e,t){return this._service.xrpc.call("com.atproto.repo.deleteRecord",t?.qp,e,t).catch(e=>{throw hI.toKnownErr(e)})}describeRepo(e,t){return this._service.xrpc.call("com.atproto.repo.describeRepo",e,void 0,t).catch(e=>{throw hK.toKnownErr(e)})}getRecord(e,t){return this._service.xrpc.call("com.atproto.repo.getRecord",e,void 0,t).catch(e=>{throw hj.toKnownErr(e)})}importRepo(e,t){return this._service.xrpc.call("com.atproto.repo.importRepo",t?.qp,e,t).catch(e=>{throw hM.toKnownErr(e)})}listMissingBlobs(e,t){return this._service.xrpc.call("com.atproto.repo.listMissingBlobs",e,void 0,t).catch(e=>{throw hN.toKnownErr(e)})}listRecords(e,t){return this._service.xrpc.call("com.atproto.repo.listRecords",e,void 0,t).catch(e=>{throw hV.toKnownErr(e)})}putRecord(e,t){return this._service.xrpc.call("com.atproto.repo.putRecord",t?.qp,e,t).catch(e=>{throw hF.toKnownErr(e)})}uploadBlob(e,t){return this._service.xrpc.call("com.atproto.repo.uploadBlob",t?.qp,e,t).catch(e=>{throw hG.toKnownErr(e)})}}ds.ComAtprotoRepoNS=yY;class yQ{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}activateAccount(e,t){return this._service.xrpc.call("com.atproto.server.activateAccount",t?.qp,e,t).catch(e=>{throw hq.toKnownErr(e)})}checkAccountStatus(e,t){return this._service.xrpc.call("com.atproto.server.checkAccountStatus",e,void 0,t).catch(e=>{throw h$.toKnownErr(e)})}confirmEmail(e,t){return this._service.xrpc.call("com.atproto.server.confirmEmail",t?.qp,e,t).catch(e=>{throw hz.toKnownErr(e)})}createAccount(e,t){return this._service.xrpc.call("com.atproto.server.createAccount",t?.qp,e,t).catch(e=>{throw hX.toKnownErr(e)})}createAppPassword(e,t){return this._service.xrpc.call("com.atproto.server.createAppPassword",t?.qp,e,t).catch(e=>{throw hH.toKnownErr(e)})}createInviteCode(e,t){return this._service.xrpc.call("com.atproto.server.createInviteCode",t?.qp,e,t).catch(e=>{throw hZ.toKnownErr(e)})}createInviteCodes(e,t){return this._service.xrpc.call("com.atproto.server.createInviteCodes",t?.qp,e,t).catch(e=>{throw hW.toKnownErr(e)})}createSession(e,t){return this._service.xrpc.call("com.atproto.server.createSession",t?.qp,e,t).catch(e=>{throw hY.toKnownErr(e)})}deactivateAccount(e,t){return this._service.xrpc.call("com.atproto.server.deactivateAccount",t?.qp,e,t).catch(e=>{throw hQ.toKnownErr(e)})}deleteAccount(e,t){return this._service.xrpc.call("com.atproto.server.deleteAccount",t?.qp,e,t).catch(e=>{throw hJ.toKnownErr(e)})}deleteSession(e,t){return this._service.xrpc.call("com.atproto.server.deleteSession",t?.qp,e,t).catch(e=>{throw h0.toKnownErr(e)})}describeServer(e,t){return this._service.xrpc.call("com.atproto.server.describeServer",e,void 0,t).catch(e=>{throw h1.toKnownErr(e)})}getAccountInviteCodes(e,t){return this._service.xrpc.call("com.atproto.server.getAccountInviteCodes",e,void 0,t).catch(e=>{throw h4.toKnownErr(e)})}getServiceAuth(e,t){return this._service.xrpc.call("com.atproto.server.getServiceAuth",e,void 0,t).catch(e=>{throw h5.toKnownErr(e)})}getSession(e,t){return this._service.xrpc.call("com.atproto.server.getSession",e,void 0,t).catch(e=>{throw h2.toKnownErr(e)})}listAppPasswords(e,t){return this._service.xrpc.call("com.atproto.server.listAppPasswords",e,void 0,t).catch(e=>{throw h3.toKnownErr(e)})}refreshSession(e,t){return this._service.xrpc.call("com.atproto.server.refreshSession",t?.qp,e,t).catch(e=>{throw h7.toKnownErr(e)})}requestAccountDelete(e,t){return this._service.xrpc.call("com.atproto.server.requestAccountDelete",t?.qp,e,t).catch(e=>{throw h6.toKnownErr(e)})}requestEmailConfirmation(e,t){return this._service.xrpc.call("com.atproto.server.requestEmailConfirmation",t?.qp,e,t).catch(e=>{throw h9.toKnownErr(e)})}requestEmailUpdate(e,t){return this._service.xrpc.call("com.atproto.server.requestEmailUpdate",t?.qp,e,t).catch(e=>{throw h8.toKnownErr(e)})}requestPasswordReset(e,t){return this._service.xrpc.call("com.atproto.server.requestPasswordReset",t?.qp,e,t).catch(e=>{throw me.toKnownErr(e)})}reserveSigningKey(e,t){return this._service.xrpc.call("com.atproto.server.reserveSigningKey",t?.qp,e,t).catch(e=>{throw mt.toKnownErr(e)})}resetPassword(e,t){return this._service.xrpc.call("com.atproto.server.resetPassword",t?.qp,e,t).catch(e=>{throw mr.toKnownErr(e)})}revokeAppPassword(e,t){return this._service.xrpc.call("com.atproto.server.revokeAppPassword",t?.qp,e,t).catch(e=>{throw mi.toKnownErr(e)})}updateEmail(e,t){return this._service.xrpc.call("com.atproto.server.updateEmail",t?.qp,e,t).catch(e=>{throw mo.toKnownErr(e)})}}ds.ComAtprotoServerNS=yQ;class yJ{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}getBlob(e,t){return this._service.xrpc.call("com.atproto.sync.getBlob",e,void 0,t).catch(e=>{throw mn.toKnownErr(e)})}getBlocks(e,t){return this._service.xrpc.call("com.atproto.sync.getBlocks",e,void 0,t).catch(e=>{throw ms.toKnownErr(e)})}getCheckout(e,t){return this._service.xrpc.call("com.atproto.sync.getCheckout",e,void 0,t).catch(e=>{throw ma.toKnownErr(e)})}getHead(e,t){return this._service.xrpc.call("com.atproto.sync.getHead",e,void 0,t).catch(e=>{throw ml.toKnownErr(e)})}getLatestCommit(e,t){return this._service.xrpc.call("com.atproto.sync.getLatestCommit",e,void 0,t).catch(e=>{throw md.toKnownErr(e)})}getRecord(e,t){return this._service.xrpc.call("com.atproto.sync.getRecord",e,void 0,t).catch(e=>{throw mc.toKnownErr(e)})}getRepo(e,t){return this._service.xrpc.call("com.atproto.sync.getRepo",e,void 0,t).catch(e=>{throw mp.toKnownErr(e)})}getRepoStatus(e,t){return this._service.xrpc.call("com.atproto.sync.getRepoStatus",e,void 0,t).catch(e=>{throw mu.toKnownErr(e)})}listBlobs(e,t){return this._service.xrpc.call("com.atproto.sync.listBlobs",e,void 0,t).catch(e=>{throw mf.toKnownErr(e)})}listRepos(e,t){return this._service.xrpc.call("com.atproto.sync.listRepos",e,void 0,t).catch(e=>{throw mh.toKnownErr(e)})}notifyOfUpdate(e,t){return this._service.xrpc.call("com.atproto.sync.notifyOfUpdate",t?.qp,e,t).catch(e=>{throw mm.toKnownErr(e)})}requestCrawl(e,t){return this._service.xrpc.call("com.atproto.sync.requestCrawl",t?.qp,e,t).catch(e=>{throw my.toKnownErr(e)})}}ds.ComAtprotoSyncNS=yJ;class y0{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}checkSignupQueue(e,t){return this._service.xrpc.call("com.atproto.temp.checkSignupQueue",e,void 0,t).catch(e=>{throw mg.toKnownErr(e)})}fetchLabels(e,t){return this._service.xrpc.call("com.atproto.temp.fetchLabels",e,void 0,t).catch(e=>{throw mb.toKnownErr(e)})}requestPhoneVerification(e,t){return this._service.xrpc.call("com.atproto.temp.requestPhoneVerification",t?.qp,e,t).catch(e=>{throw mv.toKnownErr(e)})}}ds.ComAtprotoTempNS=y0;class y1{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bsky",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e,this.bsky=new y4(e)}}ds.AppNS=y1;class y4{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"actor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"embed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"feed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"graph",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"labeler",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"notification",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"richtext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"unspecced",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e,this.actor=new y5(e),this.embed=new y3(e),this.feed=new y7(e),this.graph=new gr(e),this.labeler=new gd(e),this.notification=new gp(e),this.richtext=new gu(e),this.unspecced=new gf(e)}}ds.AppBskyNS=y4;class y5{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"profile",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e,this.profile=new y2(e)}getPreferences(e,t){return this._service.xrpc.call("app.bsky.actor.getPreferences",e,void 0,t).catch(e=>{throw mE.toKnownErr(e)})}getProfile(e,t){return this._service.xrpc.call("app.bsky.actor.getProfile",e,void 0,t).catch(e=>{throw mR.toKnownErr(e)})}getProfiles(e,t){return this._service.xrpc.call("app.bsky.actor.getProfiles",e,void 0,t).catch(e=>{throw mA.toKnownErr(e)})}getSuggestions(e,t){return this._service.xrpc.call("app.bsky.actor.getSuggestions",e,void 0,t).catch(e=>{throw m_.toKnownErr(e)})}putPreferences(e,t){return this._service.xrpc.call("app.bsky.actor.putPreferences",t?.qp,e,t).catch(e=>{throw mT.toKnownErr(e)})}searchActors(e,t){return this._service.xrpc.call("app.bsky.actor.searchActors",e,void 0,t).catch(e=>{throw mw.toKnownErr(e)})}searchActorsTypeahead(e,t){return this._service.xrpc.call("app.bsky.actor.searchActorsTypeahead",e,void 0,t).catch(e=>{throw mC.toKnownErr(e)})}}ds.AppBskyActorNS=y5;class y2{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}async list(e){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.actor.profile",...e})).data}async get(e){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.actor.profile",...e})).data}async create(e,t,r){return t.$type="app.bsky.actor.profile",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.actor.profile",rkey:"self",...e,record:t},{encoding:"application/json",headers:r})).data}async delete(e,t){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.actor.profile",...e},{headers:t})}}ds.ProfileRecord=y2;class y3{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}}ds.AppBskyEmbedNS=y3;class y7{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"like",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"post",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repost",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"threadgate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e,this.generator=new y6(e),this.like=new y9(e),this.post=new y8(e),this.repost=new ge(e),this.threadgate=new gt(e)}describeFeedGenerator(e,t){return this._service.xrpc.call("app.bsky.feed.describeFeedGenerator",e,void 0,t).catch(e=>{throw mS.toKnownErr(e)})}getActorFeeds(e,t){return this._service.xrpc.call("app.bsky.feed.getActorFeeds",e,void 0,t).catch(e=>{throw mL.toKnownErr(e)})}getActorLikes(e,t){return this._service.xrpc.call("app.bsky.feed.getActorLikes",e,void 0,t).catch(e=>{throw mk.toKnownErr(e)})}getAuthorFeed(e,t){return this._service.xrpc.call("app.bsky.feed.getAuthorFeed",e,void 0,t).catch(e=>{throw mx.toKnownErr(e)})}getFeed(e,t){return this._service.xrpc.call("app.bsky.feed.getFeed",e,void 0,t).catch(e=>{throw mP.toKnownErr(e)})}getFeedGenerator(e,t){return this._service.xrpc.call("app.bsky.feed.getFeedGenerator",e,void 0,t).catch(e=>{throw mB.toKnownErr(e)})}getFeedGenerators(e,t){return this._service.xrpc.call("app.bsky.feed.getFeedGenerators",e,void 0,t).catch(e=>{throw mD.toKnownErr(e)})}getFeedSkeleton(e,t){return this._service.xrpc.call("app.bsky.feed.getFeedSkeleton",e,void 0,t).catch(e=>{throw mO.toKnownErr(e)})}getLikes(e,t){return this._service.xrpc.call("app.bsky.feed.getLikes",e,void 0,t).catch(e=>{throw mU.toKnownErr(e)})}getListFeed(e,t){return this._service.xrpc.call("app.bsky.feed.getListFeed",e,void 0,t).catch(e=>{throw mI.toKnownErr(e)})}getPostThread(e,t){return this._service.xrpc.call("app.bsky.feed.getPostThread",e,void 0,t).catch(e=>{throw mK.toKnownErr(e)})}getPosts(e,t){return this._service.xrpc.call("app.bsky.feed.getPosts",e,void 0,t).catch(e=>{throw mj.toKnownErr(e)})}getRepostedBy(e,t){return this._service.xrpc.call("app.bsky.feed.getRepostedBy",e,void 0,t).catch(e=>{throw mM.toKnownErr(e)})}getSuggestedFeeds(e,t){return this._service.xrpc.call("app.bsky.feed.getSuggestedFeeds",e,void 0,t).catch(e=>{throw mN.toKnownErr(e)})}getTimeline(e,t){return this._service.xrpc.call("app.bsky.feed.getTimeline",e,void 0,t).catch(e=>{throw mV.toKnownErr(e)})}searchPosts(e,t){return this._service.xrpc.call("app.bsky.feed.searchPosts",e,void 0,t).catch(e=>{throw mF.toKnownErr(e)})}sendInteractions(e,t){return this._service.xrpc.call("app.bsky.feed.sendInteractions",t?.qp,e,t).catch(e=>{throw mG.toKnownErr(e)})}}ds.AppBskyFeedNS=y7;class y6{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}async list(e){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.feed.generator",...e})).data}async get(e){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.feed.generator",...e})).data}async create(e,t,r){return t.$type="app.bsky.feed.generator",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.feed.generator",...e,record:t},{encoding:"application/json",headers:r})).data}async delete(e,t){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.feed.generator",...e},{headers:t})}}ds.GeneratorRecord=y6;class y9{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}async list(e){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.feed.like",...e})).data}async get(e){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.feed.like",...e})).data}async create(e,t,r){return t.$type="app.bsky.feed.like",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.feed.like",...e,record:t},{encoding:"application/json",headers:r})).data}async delete(e,t){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.feed.like",...e},{headers:t})}}ds.LikeRecord=y9;class y8{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}async list(e){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.feed.post",...e})).data}async get(e){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.feed.post",...e})).data}async create(e,t,r){return t.$type="app.bsky.feed.post",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.feed.post",...e,record:t},{encoding:"application/json",headers:r})).data}async delete(e,t){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.feed.post",...e},{headers:t})}}ds.PostRecord=y8;class ge{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}async list(e){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.feed.repost",...e})).data}async get(e){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.feed.repost",...e})).data}async create(e,t,r){return t.$type="app.bsky.feed.repost",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.feed.repost",...e,record:t},{encoding:"application/json",headers:r})).data}async delete(e,t){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.feed.repost",...e},{headers:t})}}ds.RepostRecord=ge;class gt{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}async list(e){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.feed.threadgate",...e})).data}async get(e){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.feed.threadgate",...e})).data}async create(e,t,r){return t.$type="app.bsky.feed.threadgate",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.feed.threadgate",...e,record:t},{encoding:"application/json",headers:r})).data}async delete(e,t){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.feed.threadgate",...e},{headers:t})}}ds.ThreadgateRecord=gt;class gr{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"block",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"follow",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"listblock",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"listitem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"starterpack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e,this.block=new gi(e),this.follow=new go(e),this.list=new gn(e),this.listblock=new gs(e),this.listitem=new ga(e),this.starterpack=new gl(e)}getActorStarterPacks(e,t){return this._service.xrpc.call("app.bsky.graph.getActorStarterPacks",e,void 0,t).catch(e=>{throw mq.toKnownErr(e)})}getBlocks(e,t){return this._service.xrpc.call("app.bsky.graph.getBlocks",e,void 0,t).catch(e=>{throw m$.toKnownErr(e)})}getFollowers(e,t){return this._service.xrpc.call("app.bsky.graph.getFollowers",e,void 0,t).catch(e=>{throw mz.toKnownErr(e)})}getFollows(e,t){return this._service.xrpc.call("app.bsky.graph.getFollows",e,void 0,t).catch(e=>{throw mX.toKnownErr(e)})}getKnownFollowers(e,t){return this._service.xrpc.call("app.bsky.graph.getKnownFollowers",e,void 0,t).catch(e=>{throw mH.toKnownErr(e)})}getList(e,t){return this._service.xrpc.call("app.bsky.graph.getList",e,void 0,t).catch(e=>{throw mZ.toKnownErr(e)})}getListBlocks(e,t){return this._service.xrpc.call("app.bsky.graph.getListBlocks",e,void 0,t).catch(e=>{throw mW.toKnownErr(e)})}getListMutes(e,t){return this._service.xrpc.call("app.bsky.graph.getListMutes",e,void 0,t).catch(e=>{throw mY.toKnownErr(e)})}getLists(e,t){return this._service.xrpc.call("app.bsky.graph.getLists",e,void 0,t).catch(e=>{throw mQ.toKnownErr(e)})}getMutes(e,t){return this._service.xrpc.call("app.bsky.graph.getMutes",e,void 0,t).catch(e=>{throw mJ.toKnownErr(e)})}getRelationships(e,t){return this._service.xrpc.call("app.bsky.graph.getRelationships",e,void 0,t).catch(e=>{throw m0.toKnownErr(e)})}getStarterPack(e,t){return this._service.xrpc.call("app.bsky.graph.getStarterPack",e,void 0,t).catch(e=>{throw m1.toKnownErr(e)})}getStarterPacks(e,t){return this._service.xrpc.call("app.bsky.graph.getStarterPacks",e,void 0,t).catch(e=>{throw m4.toKnownErr(e)})}getSuggestedFollowsByActor(e,t){return this._service.xrpc.call("app.bsky.graph.getSuggestedFollowsByActor",e,void 0,t).catch(e=>{throw m5.toKnownErr(e)})}muteActor(e,t){return this._service.xrpc.call("app.bsky.graph.muteActor",t?.qp,e,t).catch(e=>{throw m2.toKnownErr(e)})}muteActorList(e,t){return this._service.xrpc.call("app.bsky.graph.muteActorList",t?.qp,e,t).catch(e=>{throw m3.toKnownErr(e)})}muteThread(e,t){return this._service.xrpc.call("app.bsky.graph.muteThread",t?.qp,e,t).catch(e=>{throw m7.toKnownErr(e)})}unmuteActor(e,t){return this._service.xrpc.call("app.bsky.graph.unmuteActor",t?.qp,e,t).catch(e=>{throw m6.toKnownErr(e)})}unmuteActorList(e,t){return this._service.xrpc.call("app.bsky.graph.unmuteActorList",t?.qp,e,t).catch(e=>{throw m9.toKnownErr(e)})}unmuteThread(e,t){return this._service.xrpc.call("app.bsky.graph.unmuteThread",t?.qp,e,t).catch(e=>{throw m8.toKnownErr(e)})}}ds.AppBskyGraphNS=gr;class gi{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}async list(e){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.graph.block",...e})).data}async get(e){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.graph.block",...e})).data}async create(e,t,r){return t.$type="app.bsky.graph.block",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.graph.block",...e,record:t},{encoding:"application/json",headers:r})).data}async delete(e,t){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.graph.block",...e},{headers:t})}}ds.BlockRecord=gi;class go{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}async list(e){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.graph.follow",...e})).data}async get(e){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.graph.follow",...e})).data}async create(e,t,r){return t.$type="app.bsky.graph.follow",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.graph.follow",...e,record:t},{encoding:"application/json",headers:r})).data}async delete(e,t){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.graph.follow",...e},{headers:t})}}ds.FollowRecord=go;class gn{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}async list(e){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.graph.list",...e})).data}async get(e){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.graph.list",...e})).data}async create(e,t,r){return t.$type="app.bsky.graph.list",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.graph.list",...e,record:t},{encoding:"application/json",headers:r})).data}async delete(e,t){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.graph.list",...e},{headers:t})}}ds.ListRecord=gn;class gs{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}async list(e){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.graph.listblock",...e})).data}async get(e){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.graph.listblock",...e})).data}async create(e,t,r){return t.$type="app.bsky.graph.listblock",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.graph.listblock",...e,record:t},{encoding:"application/json",headers:r})).data}async delete(e,t){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.graph.listblock",...e},{headers:t})}}ds.ListblockRecord=gs;class ga{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}async list(e){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.graph.listitem",...e})).data}async get(e){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.graph.listitem",...e})).data}async create(e,t,r){return t.$type="app.bsky.graph.listitem",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.graph.listitem",...e,record:t},{encoding:"application/json",headers:r})).data}async delete(e,t){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.graph.listitem",...e},{headers:t})}}ds.ListitemRecord=ga;class gl{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}async list(e){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.graph.starterpack",...e})).data}async get(e){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.graph.starterpack",...e})).data}async create(e,t,r){return t.$type="app.bsky.graph.starterpack",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.graph.starterpack",...e,record:t},{encoding:"application/json",headers:r})).data}async delete(e,t){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.graph.starterpack",...e},{headers:t})}}ds.StarterpackRecord=gl;class gd{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e,this.service=new gc(e)}getServices(e,t){return this._service.xrpc.call("app.bsky.labeler.getServices",e,void 0,t).catch(e=>{throw ye.toKnownErr(e)})}}ds.AppBskyLabelerNS=gd;class gc{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}async list(e){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"app.bsky.labeler.service",...e})).data}async get(e){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"app.bsky.labeler.service",...e})).data}async create(e,t,r){return t.$type="app.bsky.labeler.service",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"app.bsky.labeler.service",rkey:"self",...e,record:t},{encoding:"application/json",headers:r})).data}async delete(e,t){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"app.bsky.labeler.service",...e},{headers:t})}}ds.ServiceRecord=gc;class gp{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}getUnreadCount(e,t){return this._service.xrpc.call("app.bsky.notification.getUnreadCount",e,void 0,t).catch(e=>{throw yt.toKnownErr(e)})}listNotifications(e,t){return this._service.xrpc.call("app.bsky.notification.listNotifications",e,void 0,t).catch(e=>{throw yr.toKnownErr(e)})}putPreferences(e,t){return this._service.xrpc.call("app.bsky.notification.putPreferences",t?.qp,e,t).catch(e=>{throw yi.toKnownErr(e)})}registerPush(e,t){return this._service.xrpc.call("app.bsky.notification.registerPush",t?.qp,e,t).catch(e=>{throw yo.toKnownErr(e)})}updateSeen(e,t){return this._service.xrpc.call("app.bsky.notification.updateSeen",t?.qp,e,t).catch(e=>{throw yn.toKnownErr(e)})}}ds.AppBskyNotificationNS=gp;class gu{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}}ds.AppBskyRichtextNS=gu;class gf{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}getPopularFeedGenerators(e,t){return this._service.xrpc.call("app.bsky.unspecced.getPopularFeedGenerators",e,void 0,t).catch(e=>{throw ys.toKnownErr(e)})}getSuggestionsSkeleton(e,t){return this._service.xrpc.call("app.bsky.unspecced.getSuggestionsSkeleton",e,void 0,t).catch(e=>{throw ya.toKnownErr(e)})}getTaggedSuggestions(e,t){return this._service.xrpc.call("app.bsky.unspecced.getTaggedSuggestions",e,void 0,t).catch(e=>{throw yl.toKnownErr(e)})}searchActorsSkeleton(e,t){return this._service.xrpc.call("app.bsky.unspecced.searchActorsSkeleton",e,void 0,t).catch(e=>{throw yd.toKnownErr(e)})}searchPostsSkeleton(e,t){return this._service.xrpc.call("app.bsky.unspecced.searchPostsSkeleton",e,void 0,t).catch(e=>{throw yc.toKnownErr(e)})}}ds.AppBskyUnspeccedNS=gf;class gh{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bsky",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e,this.bsky=new gm(e)}}ds.ChatNS=gh;class gm{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"actor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"convo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moderation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e,this.actor=new gy(e),this.convo=new gb(e),this.moderation=new gv(e)}}ds.ChatBskyNS=gm;class gy{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"declaration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e,this.declaration=new gg(e)}deleteAccount(e,t){return this._service.xrpc.call("chat.bsky.actor.deleteAccount",t?.qp,e,t).catch(e=>{throw yp.toKnownErr(e)})}exportAccountData(e,t){return this._service.xrpc.call("chat.bsky.actor.exportAccountData",e,void 0,t).catch(e=>{throw yu.toKnownErr(e)})}}ds.ChatBskyActorNS=gy;class gg{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}async list(e){return(await this._service.xrpc.call("com.atproto.repo.listRecords",{collection:"chat.bsky.actor.declaration",...e})).data}async get(e){return(await this._service.xrpc.call("com.atproto.repo.getRecord",{collection:"chat.bsky.actor.declaration",...e})).data}async create(e,t,r){return t.$type="chat.bsky.actor.declaration",(await this._service.xrpc.call("com.atproto.repo.createRecord",void 0,{collection:"chat.bsky.actor.declaration",rkey:"self",...e,record:t},{encoding:"application/json",headers:r})).data}async delete(e,t){await this._service.xrpc.call("com.atproto.repo.deleteRecord",void 0,{collection:"chat.bsky.actor.declaration",...e},{headers:t})}}ds.DeclarationRecord=gg;class gb{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}deleteMessageForSelf(e,t){return this._service.xrpc.call("chat.bsky.convo.deleteMessageForSelf",t?.qp,e,t).catch(e=>{throw yf.toKnownErr(e)})}getConvo(e,t){return this._service.xrpc.call("chat.bsky.convo.getConvo",e,void 0,t).catch(e=>{throw yh.toKnownErr(e)})}getConvoForMembers(e,t){return this._service.xrpc.call("chat.bsky.convo.getConvoForMembers",e,void 0,t).catch(e=>{throw ym.toKnownErr(e)})}getLog(e,t){return this._service.xrpc.call("chat.bsky.convo.getLog",e,void 0,t).catch(e=>{throw yy.toKnownErr(e)})}getMessages(e,t){return this._service.xrpc.call("chat.bsky.convo.getMessages",e,void 0,t).catch(e=>{throw yg.toKnownErr(e)})}leaveConvo(e,t){return this._service.xrpc.call("chat.bsky.convo.leaveConvo",t?.qp,e,t).catch(e=>{throw yb.toKnownErr(e)})}listConvos(e,t){return this._service.xrpc.call("chat.bsky.convo.listConvos",e,void 0,t).catch(e=>{throw yv.toKnownErr(e)})}muteConvo(e,t){return this._service.xrpc.call("chat.bsky.convo.muteConvo",t?.qp,e,t).catch(e=>{throw yE.toKnownErr(e)})}sendMessage(e,t){return this._service.xrpc.call("chat.bsky.convo.sendMessage",t?.qp,e,t).catch(e=>{throw yR.toKnownErr(e)})}sendMessageBatch(e,t){return this._service.xrpc.call("chat.bsky.convo.sendMessageBatch",t?.qp,e,t).catch(e=>{throw yA.toKnownErr(e)})}unmuteConvo(e,t){return this._service.xrpc.call("chat.bsky.convo.unmuteConvo",t?.qp,e,t).catch(e=>{throw y_.toKnownErr(e)})}updateRead(e,t){return this._service.xrpc.call("chat.bsky.convo.updateRead",t?.qp,e,t).catch(e=>{throw yT.toKnownErr(e)})}}ds.ChatBskyConvoNS=gb;class gv{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}getActorMetadata(e,t){return this._service.xrpc.call("chat.bsky.moderation.getActorMetadata",e,void 0,t).catch(e=>{throw yw.toKnownErr(e)})}getMessageContext(e,t){return this._service.xrpc.call("chat.bsky.moderation.getMessageContext",e,void 0,t).catch(e=>{throw yC.toKnownErr(e)})}updateActorAccess(e,t){return this._service.xrpc.call("chat.bsky.moderation.updateActorAccess",t?.qp,e,t).catch(e=>{throw yS.toKnownErr(e)})}}ds.ChatBskyModerationNS=gv;class gE{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ozone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e,this.ozone=new gR(e)}}ds.ToolsNS=gE;class gR{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"communication",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moderation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"server",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"team",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e,this.communication=new gA(e),this.moderation=new g_(e),this.server=new gT(e),this.team=new gw(e)}}ds.ToolsOzoneNS=gR;class gA{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}createTemplate(e,t){return this._service.xrpc.call("tools.ozone.communication.createTemplate",t?.qp,e,t).catch(e=>{throw yL.toKnownErr(e)})}deleteTemplate(e,t){return this._service.xrpc.call("tools.ozone.communication.deleteTemplate",t?.qp,e,t).catch(e=>{throw yk.toKnownErr(e)})}listTemplates(e,t){return this._service.xrpc.call("tools.ozone.communication.listTemplates",e,void 0,t).catch(e=>{throw yx.toKnownErr(e)})}updateTemplate(e,t){return this._service.xrpc.call("tools.ozone.communication.updateTemplate",t?.qp,e,t).catch(e=>{throw yP.toKnownErr(e)})}}ds.ToolsOzoneCommunicationNS=gA;class g_{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}emitEvent(e,t){return this._service.xrpc.call("tools.ozone.moderation.emitEvent",t?.qp,e,t).catch(e=>{throw yB.toKnownErr(e)})}getEvent(e,t){return this._service.xrpc.call("tools.ozone.moderation.getEvent",e,void 0,t).catch(e=>{throw yD.toKnownErr(e)})}getRecord(e,t){return this._service.xrpc.call("tools.ozone.moderation.getRecord",e,void 0,t).catch(e=>{throw yO.toKnownErr(e)})}getRepo(e,t){return this._service.xrpc.call("tools.ozone.moderation.getRepo",e,void 0,t).catch(e=>{throw yU.toKnownErr(e)})}queryEvents(e,t){return this._service.xrpc.call("tools.ozone.moderation.queryEvents",e,void 0,t).catch(e=>{throw yI.toKnownErr(e)})}queryStatuses(e,t){return this._service.xrpc.call("tools.ozone.moderation.queryStatuses",e,void 0,t).catch(e=>{throw yK.toKnownErr(e)})}searchRepos(e,t){return this._service.xrpc.call("tools.ozone.moderation.searchRepos",e,void 0,t).catch(e=>{throw yj.toKnownErr(e)})}}ds.ToolsOzoneModerationNS=g_;class gT{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}getConfig(e,t){return this._service.xrpc.call("tools.ozone.server.getConfig",e,void 0,t).catch(e=>{throw yM.toKnownErr(e)})}}ds.ToolsOzoneServerNS=gT;class gw{constructor(e){Object.defineProperty(this,"_service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._service=e}addMember(e,t){return this._service.xrpc.call("tools.ozone.team.addMember",t?.qp,e,t).catch(e=>{throw yN.toKnownErr(e)})}deleteMember(e,t){return this._service.xrpc.call("tools.ozone.team.deleteMember",t?.qp,e,t).catch(e=>{throw yV.toKnownErr(e)})}listMembers(e,t){return this._service.xrpc.call("tools.ozone.team.listMembers",e,void 0,t).catch(e=>{throw yF.toKnownErr(e)})}updateMember(e,t){return this._service.xrpc.call("tools.ozone.team.updateMember",t?.qp,e,t).catch(e=>{throw yG.toKnownErr(e)})}}ds.ToolsOzoneTeamNS=gw;var gC={};Object.defineProperty(gC,"__esModule",{value:!0}),gC.AtpAgent=void 0;class gS{get com(){return this.api.com}static configure(e){e.fetch&&(gS.fetch=e.fetch),e.appLabelers&&(gS.appLabelers=e.appLabelers)}constructor(e){Object.defineProperty(this,"service",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"api",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"session",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"labelersHeader",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"proxyHeader",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pdsUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_persistSession",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_refreshSessionPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"uploadBlob",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.com.atproto.repo.uploadBlob(e,t)}),Object.defineProperty(this,"resolveHandle",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.com.atproto.identity.resolveHandle(e,t)}),Object.defineProperty(this,"updateHandle",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.com.atproto.identity.updateHandle(e,t)}),Object.defineProperty(this,"createModerationReport",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.com.atproto.moderation.createReport(e,t)}),this.service=e.service instanceof URL?e.service:new URL(e.service),this._persistSession=e.persistSession,this._baseClient=new ds.AtpBaseClient,this._baseClient.xrpc.fetch=this._fetch.bind(this),this.api=this._baseClient.service(e.service)}clone(){let e=new gS({service:this.service});return this.copyInto(e),e}copyInto(e){e.session=this.session,e.labelersHeader=this.labelersHeader,e.proxyHeader=this.proxyHeader,e.pdsUrl=this.pdsUrl,e.api.xrpc.uri=this.pdsUrl||this.service}withProxy(e,t){let r=this.clone();return r.configureProxyHeader(e,t),r}get hasSession(){return!!this.session}setPersistSessionHandler(e){this._persistSession=e}configureLabelersHeader(e){this.labelersHeader=e}configureProxyHeader(e,t){t.startsWith("did:")&&(this.proxyHeader=`${t}#${e}`)}async createAccount(e){try{let t=await this.api.com.atproto.server.createAccount(e);return this.session={accessJwt:t.data.accessJwt,refreshJwt:t.data.refreshJwt,handle:t.data.handle,did:t.data.did,email:e.email,emailConfirmed:!1,emailAuthFactor:!1,active:!0},this._updateApiEndpoint(t.data.didDoc),t}catch(e){throw this.session=void 0,e}finally{this.session?this._persistSession?.("create",this.session):this._persistSession?.("create-failed",void 0)}}async login(e){try{let t=await this.api.com.atproto.server.createSession({identifier:e.identifier,password:e.password,authFactorToken:e.authFactorToken});return this.session={accessJwt:t.data.accessJwt,refreshJwt:t.data.refreshJwt,handle:t.data.handle,did:t.data.did,email:t.data.email,emailConfirmed:t.data.emailConfirmed,emailAuthFactor:t.data.emailAuthFactor,active:t.data.active??!0,status:t.data.status},this._updateApiEndpoint(t.data.didDoc),t}catch(e){throw this.session=void 0,e}finally{this.session?this._persistSession?.("create",this.session):this._persistSession?.("create-failed",void 0)}}async resumeSession(e){try{this.session=e;let t=await this.api.com.atproto.server.getSession();if(t.data.did!==this.session.did)throw new da.XRPCError(da.ResponseType.InvalidRequest,"Invalid session","InvalidDID");return this.session.email=t.data.email,this.session.handle=t.data.handle,this.session.emailConfirmed=t.data.emailConfirmed,this.session.emailAuthFactor=t.data.emailAuthFactor,this.session.active=t.data.active??!0,this.session.status=t.data.status,this._updateApiEndpoint(t.data.didDoc),this._persistSession?.("update",this.session),t}catch(e){throw this.session=void 0,e instanceof da.XRPCError?[1,408,425,429,500,502,503,504,522,524].includes(e.status)?this._persistSession?.("network-error",void 0):this._persistSession?.("expired",void 0):this._persistSession?.("network-error",void 0),e}}_addHeaders(e){!e.authorization&&this.session?.accessJwt&&(e={...e,authorization:`Bearer ${this.session.accessJwt}`}),this.proxyHeader&&(e={...e,"atproto-proxy":this.proxyHeader});let t="atproto-accept-labelers",r=gS.appLabelers.map(e=>`${e};redact`).concat(this.labelersHeader.filter(e=>e.startsWith("did:")));return e[t]&&r.push(...e[t].split(",").map(e=>e.trim())),e={...e,[t]:r.join(", ")}}async _fetch(e,t,r,i){if(!gS.fetch)throw Error("AtpAgent fetch() method not configured");await this._refreshSessionPromise;let o=await gS.fetch(e,t,this._addHeaders(r),i);return gL(o,["ExpiredToken"])&&this.session?.refreshJwt&&(await this.refreshSession(),o=await gS.fetch(e,t,this._addHeaders(r),i)),o}async refreshSession(){if(this._refreshSessionPromise)return this._refreshSessionPromise;this._refreshSessionPromise=this._refreshSessionInner();try{await this._refreshSessionPromise}finally{this._refreshSessionPromise=void 0}}async _refreshSessionInner(){if(!gS.fetch)throw Error("AtpAgent fetch() method not configured");if(!this.session?.refreshJwt)return;let e=new URL((this.pdsUrl||this.service).origin);e.pathname="/xrpc/com.atproto.server.refreshSession";let t=await gS.fetch(e.toString(),"POST",{authorization:`Bearer ${this.session.refreshJwt}`},void 0);gL(t,["ExpiredToken","InvalidToken"])?(this.session=void 0,this._persistSession?.("expired",void 0)):function(e,t){try{return e.xrpc.lex.assertValidXrpcOutput("com.atproto.server.refreshSession",t),!0}catch{return!1}}(this._baseClient,t.body)&&(this.session={...this.session||{},accessJwt:t.body.accessJwt,refreshJwt:t.body.refreshJwt,handle:t.body.handle,did:t.body.did},this._updateApiEndpoint(t.body.didDoc),this._persistSession?.("update",this.session))}_updateApiEndpoint(e){if((0,ai.isValidDidDoc)(e)){let t=(0,ai.getPdsEndpoint)(e);this.pdsUrl=t?new URL(t):void 0}this.api.xrpc.uri=this.pdsUrl||this.service}}function gL(e,t){var r;return 400===e.status&&(r=e.body,!!da.errorResponseBody.safeParse(r).success)&&"string"==typeof e.body.error&&t.includes(e.body.error)}gC.AtpAgent=gS,Object.defineProperty(gS,"fetch",{enumerable:!0,configurable:!0,writable:!0,value:da.defaultFetchHandler}),Object.defineProperty(gS,"appLabelers",{enumerable:!0,configurable:!0,writable:!0,value:[di.BSKY_LABELER_DID]});var gk={},gx={};Object.defineProperty(gx,"__esModule",{value:!0}),gx.UnicodeString=void 0;let gP=new TextEncoder,gB=new TextDecoder;gx.UnicodeString=class{constructor(e){Object.defineProperty(this,"utf16",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"utf8",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_graphemeLen",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.utf16=e,this.utf8=gP.encode(e)}get length(){return this.utf8.byteLength}get graphemeLength(){return this._graphemeLen||(this._graphemeLen=(0,ai.graphemeLen)(this.utf16)),this._graphemeLen}slice(e,t){return gB.decode(this.utf8.slice(e,t))}utf16IndexToUtf8Index(e){return gP.encode(this.utf16.slice(0,e)).byteLength}toString(){return this.utf16}};var gD={};Object.defineProperty(gD,"__esModule",{value:!0}),gD.sanitizeRichText=void 0;let gO=/[\r\n]([\u00AD\u2060\u200D\u200C\u200B\s]*[\r\n]){2,}/,gU=`

`;gD.sanitizeRichText=function(e,t){return t.cleanNewlines&&(e=function(e,t,r){let i=(e=e.clone()).unicodeText.utf16.match(t);for(;i&&"u">typeof i.index;){let o=e.unicodeText,n=e.unicodeText.utf16IndexToUtf8Index(i.index),s=n+new gx.UnicodeString(i[0]).length;if(e.delete(n,s),e.unicodeText.utf16===o.utf16)break;e.insert(n,r),i=e.unicodeText.utf16.match(t)}return e}(e,gO,gU)),e};var gI={},gK={};Object.defineProperty(gK,"__esModule",{value:!0}),gK.TAG_REGEX=gK.TRAILING_PUNCTUATION_REGEX=gK.URL_REGEX=gK.MENTION_REGEX=void 0,gK.MENTION_REGEX=/(^|\s|\()(@)([a-zA-Z0-9.-]+)(\b)/g,gK.URL_REGEX=/(^|\s|\()((https?:\/\/[\S]+)|((?<domain>[a-z][a-z0-9]*(\.[a-z0-9]+)+)[\S]*))/gim,gK.TRAILING_PUNCTUATION_REGEX=/\p{P}+$/gu,gK.TAG_REGEX=/(^|\s)[#]((?!\ufe0f)[^\s\u00AD\u2060\u200A\u200B\u200C\u200D\u20e2]*[^\d\s\p{P}\u00AD\u2060\u200A\u200B\u200C\u200D\u20e2]+[^\s\u00AD\u2060\u200A\u200B\u200C\u200D\u20e2]*)?/gu;var gj=np&&np.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gI,"__esModule",{value:!0}),gI.detectFacets=void 0;let gM=gj(["aaa","aarp","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","ads","adult","ae","aeg","aero","aetna","af","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kids","kim","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","link","lipsy","live","living","lk","llc","llp","loan","loans","locker","locus","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","music","mv","mw","mx","my","mz","na","nab","nagoya","name","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","office","okinawa","olayan","olayangroup","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","sd","se","search","seat","secure","security","seek","select","sener","services","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shell","shia","shiksha","shoes","shop","shopping","shouji","show","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","vermgensberater","vermgensberatung","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volvo","vote","voting","voto","voyage","vu","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xihuan","xin","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]);function gN(e){return!!gM.default.find(t=>{let r=e.lastIndexOf(t);return -1!==r&&"."===e.charAt(r-1)&&r===e.length-t.length})}gI.detectFacets=function(e){let t,r=[];{let i=gK.MENTION_REGEX;for(;t=i.exec(e.utf16);){if(!gN(t[3])&&!t[3].endsWith(".test"))continue;let i=e.utf16.indexOf(t[3],t.index)-1;r.push({$type:"app.bsky.richtext.facet",index:{byteStart:e.utf16IndexToUtf8Index(i),byteEnd:e.utf16IndexToUtf8Index(i+t[3].length+1)},features:[{$type:"app.bsky.richtext.facet#mention",did:t[3]}]})}}{let i=gK.URL_REGEX;for(;t=i.exec(e.utf16);){let i=t[2];if(!i.startsWith("http")){let e=t.groups?.domain;if(!e||!gN(e))continue;i=`https://${i}`}let o=e.utf16.indexOf(t[2],t.index),n={start:o,end:o+t[2].length};/[.,;:!?]$/.test(i)&&(i=i.slice(0,-1),n.end--),/[)]$/.test(i)&&!i.includes("(")&&(i=i.slice(0,-1),n.end--),r.push({index:{byteStart:e.utf16IndexToUtf8Index(n.start),byteEnd:e.utf16IndexToUtf8Index(n.end)},features:[{$type:"app.bsky.richtext.facet#link",uri:i}]})}}{let i=gK.TAG_REGEX;for(;t=i.exec(e.utf16);){let i=t[1],o=t[2];if(!o||0===(o=o.trim().replace(gK.TRAILING_PUNCTUATION_REGEX,"")).length||o.length>64)continue;let n=t.index+i.length;r.push({index:{byteStart:e.utf16IndexToUtf8Index(n),byteEnd:e.utf16IndexToUtf8Index(n+1+o.length)},features:[{$type:"app.bsky.richtext.facet#tag",tag:o}]})}}return r.length>0?r:void 0},Object.defineProperty(gk,"__esModule",{value:!0}),gk.RichText=gk.RichTextSegment=void 0;class gV{constructor(e,t){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"facet",{enumerable:!0,configurable:!0,writable:!0,value:t})}get link(){let e=this.facet?.features.find(ds.AppBskyRichtextFacet.isLink);if(ds.AppBskyRichtextFacet.isLink(e))return e}isLink(){return!!this.link}get mention(){let e=this.facet?.features.find(ds.AppBskyRichtextFacet.isMention);if(ds.AppBskyRichtextFacet.isMention(e))return e}isMention(){return!!this.mention}get tag(){let e=this.facet?.features.find(ds.AppBskyRichtextFacet.isTag);if(ds.AppBskyRichtextFacet.isTag(e))return e}isTag(){return!!this.tag}}gk.RichTextSegment=gV;class gF{constructor(e,t){Object.defineProperty(this,"unicodeText",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"facets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.unicodeText=new gx.UnicodeString(e.text),this.facets=e.facets,!this.facets?.length&&e.entities?.length&&(this.facets=function(e,t){let r=[];for(let i of t)"link"===i.type?r.push({$type:"app.bsky.richtext.facet",index:{byteStart:e.utf16IndexToUtf8Index(i.index.start),byteEnd:e.utf16IndexToUtf8Index(i.index.end)},features:[{$type:"app.bsky.richtext.facet#link",uri:i.value}]}):"mention"===i.type&&r.push({$type:"app.bsky.richtext.facet",index:{byteStart:e.utf16IndexToUtf8Index(i.index.start),byteEnd:e.utf16IndexToUtf8Index(i.index.end)},features:[{$type:"app.bsky.richtext.facet#mention",did:i.value}]});return r}(this.unicodeText,e.entities)),this.facets&&this.facets.sort(gG),t?.cleanNewlines&&(0,gD.sanitizeRichText)(this,{cleanNewlines:!0}).copyInto(this)}get text(){return this.unicodeText.toString()}get length(){return this.unicodeText.length}get graphemeLength(){return this.unicodeText.graphemeLength}clone(){return new gF({text:this.unicodeText.utf16,facets:gq(this.facets)})}copyInto(e){e.unicodeText=this.unicodeText,e.facets=gq(this.facets)}*segments(){let e=this.facets||[];if(!e.length)return void(yield new gV(this.unicodeText.utf16));let t=0,r=0;do{let i=e[r];if(t<i.index.byteStart)yield new gV(this.unicodeText.slice(t,i.index.byteStart));else if(t>i.index.byteStart){r++;continue}if(i.index.byteStart<i.index.byteEnd){let e=this.unicodeText.slice(i.index.byteStart,i.index.byteEnd);e.trim()?yield new gV(e,i):yield new gV(e)}t=i.index.byteEnd,r++}while(r<e.length)t<this.unicodeText.length&&(yield new gV(this.unicodeText.slice(t,this.unicodeText.length)))}insert(e,t){if(this.unicodeText=new gx.UnicodeString(this.unicodeText.slice(0,e)+t+this.unicodeText.slice(e)),!this.facets?.length)return this;let r=t.length;for(let t of this.facets)e<=t.index.byteStart?(t.index.byteStart+=r,t.index.byteEnd+=r):e>=t.index.byteStart&&e<t.index.byteEnd&&(t.index.byteEnd+=r);return this}delete(e,t){if(this.unicodeText=new gx.UnicodeString(this.unicodeText.slice(0,e)+this.unicodeText.slice(t)),!this.facets?.length)return this;let r=t-e;for(let i of this.facets)e<=i.index.byteStart&&t>=i.index.byteEnd?(i.index.byteStart=0,i.index.byteEnd=0):e>i.index.byteEnd||(e>i.index.byteStart&&e<=i.index.byteEnd&&t>i.index.byteEnd?i.index.byteEnd=e:e>=i.index.byteStart&&t<=i.index.byteEnd?i.index.byteEnd-=r:e<i.index.byteStart&&t>=i.index.byteStart&&t<=i.index.byteEnd?(i.index.byteStart=e,i.index.byteEnd-=r):t<i.index.byteStart&&(i.index.byteStart-=r,i.index.byteEnd-=r));return this.facets=this.facets.filter(e=>e.index.byteStart<e.index.byteEnd),this}async detectFacets(e){if(this.facets=(0,gI.detectFacets)(this.unicodeText),this.facets){for(let t of this.facets)for(let r of t.features)if(ds.AppBskyRichtextFacet.isMention(r)){let t=await e.resolveHandle({handle:r.did}).catch(e=>{}).then(e=>e?.data.did);r.did=t||""}this.facets.sort(gG)}}detectFacetsWithoutResolution(){this.facets=(0,gI.detectFacets)(this.unicodeText),this.facets&&this.facets.sort(gG)}}gk.RichText=gF;let gG=(e,t)=>e.index.byteStart-t.index.byteStart;function gq(e){return typeof e>"u"?e:JSON.parse(JSON.stringify(e))}var g$={},gz={},gX={},gH={};Object.defineProperty(gH,"__esModule",{value:!0}),gH.NOOP_BEHAVIOR=gH.HIDE_BEHAVIOR=gH.MUTEWORD_BEHAVIOR=gH.MUTE_BEHAVIOR=gH.BLOCK_BEHAVIOR=gH.CUSTOM_LABEL_VALUE_RE=void 0,gH.CUSTOM_LABEL_VALUE_RE=/^[a-z-]+$/,gH.BLOCK_BEHAVIOR={profileList:"blur",profileView:"alert",avatar:"blur",banner:"blur",contentList:"blur",contentView:"blur"},gH.MUTE_BEHAVIOR={profileList:"inform",profileView:"alert",contentList:"blur",contentView:"inform"},gH.MUTEWORD_BEHAVIOR={contentList:"blur",contentView:"blur"},gH.HIDE_BEHAVIOR={contentList:"blur",contentView:"blur"},gH.NOOP_BEHAVIOR={};var gZ={};Object.defineProperty(gZ,"__esModule",{value:!0}),gZ.ModerationUI=void 0,gZ.ModerationUI=class{constructor(){Object.defineProperty(this,"noOverride",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"filters",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blurs",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"alerts",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"informs",{enumerable:!0,configurable:!0,writable:!0,value:[]})}get filter(){return 0!==this.filters.length}get blur(){return 0!==this.blurs.length}get alert(){return 0!==this.alerts.length}get inform(){return 0!==this.informs.length}};var gW={};Object.defineProperty(gW,"__esModule",{value:!0}),gW.LABELS=gW.DEFAULT_LABEL_SETTINGS=void 0,gW.DEFAULT_LABEL_SETTINGS={porn:"hide",sexual:"warn",nudity:"ignore","graphic-media":"warn"},gW.LABELS={"!hide":{identifier:"!hide",configurable:!1,defaultSetting:"hide",flags:["no-override","no-self"],severity:"alert",blurs:"content",behaviors:{account:{profileList:"blur",profileView:"blur",avatar:"blur",banner:"blur",displayName:"blur",contentList:"blur",contentView:"blur"},profile:{avatar:"blur",banner:"blur",displayName:"blur"},content:{contentList:"blur",contentView:"blur"}},locales:[]},"!warn":{identifier:"!warn",configurable:!1,defaultSetting:"warn",flags:["no-self"],severity:"none",blurs:"content",behaviors:{account:{profileList:"blur",profileView:"blur",avatar:"blur",banner:"blur",contentList:"blur",contentView:"blur"},profile:{avatar:"blur",banner:"blur",displayName:"blur"},content:{contentList:"blur",contentView:"blur"}},locales:[]},"!no-unauthenticated":{identifier:"!no-unauthenticated",configurable:!1,defaultSetting:"hide",flags:["no-override","unauthed"],severity:"none",blurs:"content",behaviors:{account:{profileList:"blur",profileView:"blur",avatar:"blur",banner:"blur",displayName:"blur",contentList:"blur",contentView:"blur"},profile:{avatar:"blur",banner:"blur",displayName:"blur"},content:{contentList:"blur",contentView:"blur"}},locales:[]},porn:{identifier:"porn",configurable:!0,defaultSetting:"hide",flags:["adult"],severity:"none",blurs:"media",behaviors:{account:{avatar:"blur",banner:"blur"},profile:{avatar:"blur",banner:"blur"},content:{contentMedia:"blur"}},locales:[]},sexual:{identifier:"sexual",configurable:!0,defaultSetting:"warn",flags:["adult"],severity:"none",blurs:"media",behaviors:{account:{avatar:"blur",banner:"blur"},profile:{avatar:"blur",banner:"blur"},content:{contentMedia:"blur"}},locales:[]},nudity:{identifier:"nudity",configurable:!0,defaultSetting:"ignore",flags:[],severity:"none",blurs:"media",behaviors:{account:{avatar:"blur",banner:"blur"},profile:{avatar:"blur",banner:"blur"},content:{contentMedia:"blur"}},locales:[]},"graphic-media":{identifier:"graphic-media",flags:["adult"],configurable:!0,defaultSetting:"warn",severity:"none",blurs:"media",behaviors:{account:{avatar:"blur",banner:"blur"},profile:{avatar:"blur",banner:"blur"},content:{contentMedia:"blur"}},locales:[]}},Object.defineProperty(gX,"__esModule",{value:!0}),gX.ModerationDecision=void 0,(bS=bk||(bk={}))[bS.High=0]="High",bS[bS.Medium=1]="Medium",bS[bS.Low=2]="Low";class gY{constructor(){Object.defineProperty(this,"did",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"isMe",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"causes",{enumerable:!0,configurable:!0,writable:!0,value:[]})}static merge(...e){let t=e.filter(e=>!!e),r=new gY;return t[0]&&(r.did=t[0].did,r.isMe=t[0].isMe),r.causes=t.flatMap(e=>e.causes),r}downgrade(){for(let e of this.causes)e.downgraded=!0;return this}get blocked(){return!!this.blockCause}get muted(){return!!this.muteCause}get blockCause(){return this.causes.find(e=>"blocking"===e.type||"blocked-by"===e.type||"block-other"===e.type)}get muteCause(){return this.causes.find(e=>"muted"===e.type)}get labelCauses(){return this.causes.filter(e=>"label"===e.type)}ui(e){let t=new gZ.ModerationUI;for(let r of this.causes)if("blocking"===r.type||"blocked-by"===r.type||"block-other"===r.type){if(this.isMe)continue;("profileList"===e||"contentList"===e)&&t.filters.push(r),r.downgraded||("blur"===gH.BLOCK_BEHAVIOR[e]?(t.noOverride=!0,t.blurs.push(r)):"alert"===gH.BLOCK_BEHAVIOR[e]?t.alerts.push(r):"inform"===gH.BLOCK_BEHAVIOR[e]&&t.informs.push(r))}else if("muted"===r.type){if(this.isMe)continue;("profileList"===e||"contentList"===e)&&t.filters.push(r),r.downgraded||("blur"===gH.MUTE_BEHAVIOR[e]?t.blurs.push(r):"alert"===gH.MUTE_BEHAVIOR[e]?t.alerts.push(r):"inform"===gH.MUTE_BEHAVIOR[e]&&t.informs.push(r))}else if("mute-word"===r.type){if(this.isMe)continue;"contentList"===e&&t.filters.push(r),r.downgraded||("blur"===gH.MUTEWORD_BEHAVIOR[e]?t.blurs.push(r):"alert"===gH.MUTEWORD_BEHAVIOR[e]?t.alerts.push(r):"inform"===gH.MUTEWORD_BEHAVIOR[e]&&t.informs.push(r))}else"hidden"===r.type?(("profileList"===e||"contentList"===e)&&t.filters.push(r),r.downgraded||("blur"===gH.HIDE_BEHAVIOR[e]?t.blurs.push(r):"alert"===gH.HIDE_BEHAVIOR[e]?t.alerts.push(r):"inform"===gH.HIDE_BEHAVIOR[e]&&t.informs.push(r))):"label"===r.type&&("profileList"===e&&"account"===r.target?"hide"!==r.setting||this.isMe||t.filters.push(r):"contentList"!==e||"account"!==r.target&&"content"!==r.target||"hide"!==r.setting||this.isMe||t.filters.push(r),r.downgraded||("blur"===r.behavior[e]?(t.blurs.push(r),r.noOverride&&!this.isMe&&(t.noOverride=!0)):"alert"===r.behavior[e]?t.alerts.push(r):"inform"===r.behavior[e]&&t.informs.push(r)));return t.filters.sort(gQ),t.blurs.sort(gQ),t}setDid(e){this.did=e}setIsMe(e){this.isMe=e}addHidden(e){e&&this.causes.push({type:"hidden",source:{type:"user"},priority:6})}addMutedWord(e){e&&this.causes.push({type:"mute-word",source:{type:"user"},priority:6})}addBlocking(e){e&&this.causes.push({type:"blocking",source:{type:"user"},priority:3})}addBlockingByList(e){e&&this.causes.push({type:"blocking",source:{type:"list",list:e},priority:3})}addBlockedBy(e){e&&this.causes.push({type:"blocked-by",source:{type:"user"},priority:4})}addBlockOther(e){e&&this.causes.push({type:"block-other",source:{type:"user"},priority:4})}addLabel(e,t,r){var i;let o,n=gH.CUSTOM_LABEL_VALUE_RE.test(t.val)&&r.labelDefs?.[t.src]?.find(e=>e.identifier===t.val)||gW.LABELS[t.val];if(!n)return;let s=t.src===this.did,a=s?void 0:r.prefs.labelers.find(e=>e.did===t.src);if(!s&&!a||s&&n.flags.includes("no-self"))return;let l=n.defaultSetting||"ignore";if(n.configurable?n.flags.includes("adult")&&!r.prefs.adultContentEnabled?l="hide":a?.labels[n.identifier]?l=a?.labels[n.identifier]:r.prefs.labels[n.identifier]&&(l=r.prefs.labels[n.identifier]):l=n.defaultSetting||"hide","ignore"===l||n.flags.includes("unauthed")&&r.userDid)return;let d=(i=n.behaviors[e])?"blur"===i.profileView||"blur"===i.contentView?bk.High:"blur"===i.contentList||"blur"===i.contentMedia?bk.Medium:bk.Low:bk.Low;o=n.flags.includes("no-override")||n.flags.includes("adult")&&!r.prefs.adultContentEnabled?1:"hide"===l?2:d===bk.High?5:d===bk.Medium?7:8;let c=!1;(n.flags.includes("no-override")||n.flags.includes("adult")&&!r.prefs.adultContentEnabled)&&(c=!0),this.causes.push({type:"label",source:s||!a?{type:"user"}:{type:"labeler",did:a.did},label:t,labelDef:n,target:e,setting:l,behavior:n.behaviors[e]||gH.NOOP_BEHAVIOR,noOverride:c,priority:o})}addMuted(e){e&&this.causes.push({type:"muted",source:{type:"user"},priority:6})}addMutedByList(e){e&&this.causes.push({type:"muted",source:{type:"list",list:e},priority:6})}}function gQ(e,t){return e.priority-t.priority}function gJ(e){return e?e.filter(e=>!e.uri.endsWith("/app.bsky.actor.profile/self")||"!no-unauthenticated"===e.val):[]}gX.ModerationDecision=gY,Object.defineProperty(gz,"__esModule",{value:!0}),gz.filterAccountLabels=gz.decideAccount=void 0,gz.decideAccount=function(e,t){let r=new gX.ModerationDecision;for(let i of(r.setDid(e.did),r.setIsMe(e.did===t.userDid),e.viewer?.muted&&(e.viewer?.mutedByList?r.addMutedByList(e.viewer?.mutedByList):r.addMuted(e.viewer?.muted)),e.viewer?.blocking&&(e.viewer?.blockingByList?r.addBlockingByList(e.viewer?.blockingByList):r.addBlocking(e.viewer?.blocking)),r.addBlockedBy(e.viewer?.blockedBy),gJ(e.labels)))r.addLabel("account",i,t);return r},gz.filterAccountLabels=gJ;var g0={};function g1(e){return e?e.filter(e=>e.uri.endsWith("/app.bsky.actor.profile/self")):[]}Object.defineProperty(g0,"__esModule",{value:!0}),g0.filterProfileLabels=g0.decideProfile=void 0,g0.decideProfile=function(e,t){let r=new gX.ModerationDecision;for(let i of(r.setDid(e.did),r.setIsMe(e.did===t.userDid),g1(e.labels)))r.addLabel("profile",i,t);return r},g0.filterProfileLabels=g1;var g4={};Object.defineProperty(g4,"__esModule",{value:!0}),g4.decideNotification=void 0,g4.decideNotification=function(e,t){let r=new gX.ModerationDecision;if(r.setDid(e.author.did),r.setIsMe(e.author.did===t.userDid),e.labels?.length)for(let i of e.labels)r.addLabel("content",i,t);return gX.ModerationDecision.merge(r,(0,gz.decideAccount)(e.author,t),(0,g0.decideProfile)(e.author,t))};var g5={},g2={};Object.defineProperty(g2,"__esModule",{value:!0}),g2.hasMutedWord=void 0;let g3=/(?:^\p{P}+|\p{P}+$)/gu,g7=/[\s\n\t\r\f\v]+?/g,g6=["ja","zh","ko","th","vi"];function g9(e,t){let r=new gX.ModerationDecision;if(r.setDid(e.author.did),r.setIsMe(e.author.did===t.userDid),e.labels?.length)for(let i of e.labels)r.addLabel("content",i,t);return gX.ModerationDecision.merge(r,(0,gz.decideAccount)(e.author,t),(0,g0.decideProfile)(e.author,t))}function g8(e,t){let r=new gX.ModerationDecision;return r.setDid(e.author.did),r.setIsMe(e.author.did===t.userDid),e.author.viewer?.muted&&(e.author.viewer?.mutedByList?r.addMutedByList(e.author.viewer?.mutedByList):r.addMuted(e.author.viewer?.muted)),e.author.viewer?.blocking&&(e.author.viewer?.blockingByList?r.addBlockingByList(e.author.viewer?.blockingByList):r.addBlocking(e.author.viewer?.blocking)),r.addBlockedBy(e.author.viewer?.blockedBy),r}g2.hasMutedWord=function({mutedWords:e,text:t,facets:r,outlineTags:i,languages:o,actor:n}){let s=g6.includes(o?.[0]||""),a=[].concat(i||[]).concat((r||[]).flatMap(e=>e.features.filter(ds.AppBskyRichtextFacet.isTag).map(e=>e.tag))).map(e=>e.toLowerCase());for(let r of e){let e=r.value.toLowerCase(),i=t.toLowerCase();if(r.expiresAt&&r.expiresAt<new Date().toISOString()||"exclude-following"===r.actorTarget&&n?.viewer?.following)continue;if(a.includes(e))return!0;if(r.targets.includes("content")){if((1===e.length||s)&&i.includes(e))return!0;if(!(e.length>i.length)){if(e===i||/(?:\s|\p{P})+?/u.test(e)&&i.includes(e))return!0;for(let t of i.split(g7)){if(t===e)return!0;let r=t.replace(g3,"");if(e===r)return!0;if(!(e.length>r.length)&&/\p{P}+/u.test(r)){let t=r.replace(/\p{P}+/gu," ");if(t===e||t.replace(/\s/gu,"")===e)return!0;for(let t of r.split(/\p{P}+/u))if(t===e)return!0}}}}}return!1},Object.defineProperty(g5,"__esModule",{value:!0}),g5.decidePost=void 0,g5.decidePost=function(e,t){var r,i;let o,n=new gX.ModerationDecision;if(n.setDid(e.author.did),n.setIsMe(e.author.did===t.userDid),e.labels?.length)for(let r of e.labels)n.addLabel("content",r,t);return n.addHidden((r=e,i=t.prefs.hiddenPosts,!!i?.length&&!!(i.includes(r.uri)||r.embed&&(ds.AppBskyEmbedRecord.isViewRecord(r.embed.record)&&i.includes(r.embed.record.uri)||ds.AppBskyEmbedRecordWithMedia.isView(r.embed)&&ds.AppBskyEmbedRecord.isViewRecord(r.embed.record.record)&&i.includes(r.embed.record.record.uri))))),n.isMe||n.addMutedWord(function(e,t){if(!t?.length)return!1;let r=e.author;if(ds.AppBskyFeedPost.isRecord(e.record)){if((0,g2.hasMutedWord)({mutedWords:t,text:e.record.text,facets:e.record.facets,outlineTags:e.record.tags,languages:e.record.langs,actor:r}))return!0;if(e.record.embed&&ds.AppBskyEmbedImages.isMain(e.record.embed)){for(let i of e.record.embed.images)if((0,g2.hasMutedWord)({mutedWords:t,text:i.alt,languages:e.record.langs,actor:r}))return!0}}if(e.embed){if(ds.AppBskyEmbedRecord.isViewRecord(e.embed.record)){if(ds.AppBskyFeedPost.isRecord(e.embed.record.value)){let r=e.embed.record.value,i=e.embed.record.author;if((0,g2.hasMutedWord)({mutedWords:t,text:r.text,facets:r.facets,outlineTags:r.tags,languages:r.langs,actor:i}))return!0;if(ds.AppBskyEmbedImages.isMain(r.embed)){for(let e of r.embed.images)if((0,g2.hasMutedWord)({mutedWords:t,text:e.alt,languages:r.langs,actor:i}))return!0}if(ds.AppBskyEmbedExternal.isMain(r.embed)){let{external:e}=r.embed;if((0,g2.hasMutedWord)({mutedWords:t,text:e.title+" "+e.description,languages:[],actor:i}))return!0}if(ds.AppBskyEmbedRecordWithMedia.isMain(r.embed)){if(ds.AppBskyEmbedExternal.isMain(r.embed.media)){let{external:e}=r.embed.media;if((0,g2.hasMutedWord)({mutedWords:t,text:e.title+" "+e.description,languages:[],actor:i}))return!0}if(ds.AppBskyEmbedImages.isMain(r.embed.media)){for(let e of r.embed.media.images)if((0,g2.hasMutedWord)({mutedWords:t,text:e.alt,languages:ds.AppBskyFeedPost.isRecord(r.record)?r.langs:[],actor:i}))return!0}}}}else if(ds.AppBskyEmbedExternal.isView(e.embed)){let{external:i}=e.embed;if((0,g2.hasMutedWord)({mutedWords:t,text:i.title+" "+i.description,languages:[],actor:r}))return!0}else if(ds.AppBskyEmbedRecordWithMedia.isView(e.embed)&&ds.AppBskyEmbedRecord.isViewRecord(e.embed.record.record)){let r=e.embed.record.record.author;if(ds.AppBskyFeedPost.isRecord(e.embed.record.record.value)){let i=e.embed.record.record.value;if((0,g2.hasMutedWord)({mutedWords:t,text:i.text,facets:i.facets,outlineTags:i.tags,languages:i.langs,actor:r}))return!0}if(ds.AppBskyEmbedImages.isView(e.embed.media)){for(let i of e.embed.media.images)if((0,g2.hasMutedWord)({mutedWords:t,text:i.alt,languages:ds.AppBskyFeedPost.isRecord(e.record)?e.record.langs:[],actor:r}))return!0}}}return!1}(e,t.prefs.mutedWords)),e.embed&&(ds.AppBskyEmbedRecord.isViewRecord(e.embed.record)?o=g9(e.embed.record,t):ds.AppBskyEmbedRecordWithMedia.isView(e.embed)&&ds.AppBskyEmbedRecord.isViewRecord(e.embed.record.record)?o=g9(e.embed.record.record,t):ds.AppBskyEmbedRecord.isViewBlocked(e.embed.record)?o=g8(e.embed.record,t):ds.AppBskyEmbedRecordWithMedia.isView(e.embed)&&ds.AppBskyEmbedRecord.isViewBlocked(e.embed.record.record)&&(o=g8(e.embed.record.record,t))),gX.ModerationDecision.merge(n,o?.downgrade(),(0,gz.decideAccount)(e.author,t),(0,g0.decideProfile)(e.author,t))};var be={};Object.defineProperty(be,"__esModule",{value:!0}),be.decideFeedGenerator=void 0,be.decideFeedGenerator=function(e,t){let r=new gX.ModerationDecision;if(r.setDid(e.creator.did),r.setIsMe(e.creator.did===t.userDid),e.labels?.length)for(let i of e.labels)r.addLabel("content",i,t);return gX.ModerationDecision.merge(r,(0,gz.decideAccount)(e.creator,t),(0,g0.decideProfile)(e.creator,t))};var bt={};Object.defineProperty(bt,"__esModule",{value:!0}),bt.decideUserList=void 0,bt.decideUserList=function(e,t){var r;let i=new gX.ModerationDecision,o=(r=e.creator)&&"object"==typeof r&&"did"in r?e.creator:void 0;if(o){if(i.setDid(o.did),i.setIsMe(o.did===t.userDid),e.labels?.length)for(let r of e.labels)i.addLabel("content",r,t);return gX.ModerationDecision.merge(i,(0,gz.decideAccount)(o,t),(0,g0.decideProfile)(o,t))}let n=new nh.AtUri(e.uri).hostname;if(i.setDid(n),i.setIsMe(n===t.userDid),e.labels?.length)for(let r of e.labels)i.addLabel("content",r,t);return i};var br={};function bi(e,t){let r={account:{},profile:{},content:{}},i="alert"===e.severity?"alert":"inform"===e.severity?"inform":void 0;"content"===e.blurs?(r.account.profileList=i,r.account.profileView=i,r.account.contentList="blur",r.account.contentView=e.adultOnly?"blur":i,r.profile.profileList=i,r.profile.profileView=i,r.content.contentList="blur",r.content.contentView=e.adultOnly?"blur":i):"media"===e.blurs?(r.account.profileList=i,r.account.profileView=i,r.account.avatar="blur",r.account.banner="blur",r.profile.profileList=i,r.profile.profileView=i,r.profile.avatar="blur",r.profile.banner="blur",r.content.contentMedia="blur"):"none"===e.blurs&&(r.account.profileList=i,r.account.profileView=i,r.account.contentList=i,r.account.contentView=i,r.profile.profileList=i,r.profile.profileView=i,r.content.contentList=i,r.content.contentView=i);let o="warn";("hide"===e.defaultSetting||"ignore"===e.defaultSetting)&&(o=e.defaultSetting);let n=["no-self"];return e.adultOnly&&n.push("adult"),{...e,definedBy:t,configurable:!0,defaultSetting:o,flags:n,behaviors:r}}Object.defineProperty(br,"__esModule",{value:!0}),br.interpretLabelValueDefinitions=br.interpretLabelValueDefinition=br.isQuotedPostWithMedia=br.isQuotedPost=void 0,br.isQuotedPost=function(e){return!!(e&&ds.AppBskyEmbedRecord.isView(e))},br.isQuotedPostWithMedia=function(e){return!!(e&&ds.AppBskyEmbedRecordWithMedia.isView(e))},br.interpretLabelValueDefinition=bi,br.interpretLabelValueDefinitions=function(e){return(e.policies?.labelValueDefinitions||[]).filter(e=>ds.ComAtprotoLabelDefs.validateLabelValueDefinition(e).success).map(t=>bi(t,e.creator.did))},Object.defineProperty(g$,"__esModule",{value:!0}),g$.moderateUserList=g$.moderateFeedGenerator=g$.moderateNotification=g$.moderatePost=g$.moderateProfile=g$.interpretLabelValueDefinitions=g$.interpretLabelValueDefinition=g$.hasMutedWord=g$.ModerationDecision=g$.ModerationUI=void 0,Object.defineProperty(g$,"ModerationUI",{enumerable:!0,get:function(){return gZ.ModerationUI}}),Object.defineProperty(g$,"ModerationDecision",{enumerable:!0,get:function(){return gX.ModerationDecision}}),Object.defineProperty(g$,"hasMutedWord",{enumerable:!0,get:function(){return g2.hasMutedWord}}),Object.defineProperty(g$,"interpretLabelValueDefinition",{enumerable:!0,get:function(){return br.interpretLabelValueDefinition}}),Object.defineProperty(g$,"interpretLabelValueDefinitions",{enumerable:!0,get:function(){return br.interpretLabelValueDefinitions}}),g$.moderateProfile=function(e,t){return gX.ModerationDecision.merge((0,gz.decideAccount)(e,t),(0,g0.decideProfile)(e,t))},g$.moderatePost=function(e,t){return(0,g5.decidePost)(e,t)},g$.moderateNotification=function(e,t){return(0,g4.decideNotification)(e,t)},g$.moderateFeedGenerator=function(e,t){return(0,be.decideFeedGenerator)(e,t)},g$.moderateUserList=function(e,t){return(0,bt.decideUserList)(e,t)};var bo={};Object.defineProperty(bo,"__esModule",{value:!0}),bo.mock=void 0;let bn="bafyreiclp443lavogvhj3d2ob2cxbfuscni2k5jk7bebjzg7khl3esabwq";bo.mock={post:({text:e,facets:t,reply:r,embed:i})=>({$type:"app.bsky.feed.post",text:e,facets:t,reply:r,embed:i,langs:["en"],createdAt:new Date().toISOString()}),postView:({record:e,author:t,embed:r,replyCount:i,repostCount:o,likeCount:n,viewer:s,labels:a})=>({$type:"app.bsky.feed.defs#postView",uri:`at://${t.did}/app.bsky.feed.post/fake`,cid:bn,author:t,record:e,embed:r,replyCount:i,repostCount:o,likeCount:n,indexedAt:new Date().toISOString(),viewer:s,labels:a}),embedRecordView:({record:e,author:t,labels:r})=>({$type:"app.bsky.embed.record#view",record:{$type:"app.bsky.embed.record#viewRecord",uri:`at://${t.did}/app.bsky.feed.post/fake`,cid:bn,author:t,value:e,labels:r,indexedAt:new Date().toISOString()}}),profileViewBasic:({handle:e,displayName:t,description:r,viewer:i,labels:o})=>({did:`did:web:${e}`,handle:e,displayName:t,description:r,viewer:i,labels:o}),actorViewerState:({muted:e,mutedByList:t,blockedBy:r,blocking:i,blockingByList:o,following:n,followedBy:s})=>({muted:e,mutedByList:t,blockedBy:r,blocking:i,blockingByList:o,following:n,followedBy:s}),listViewBasic:({name:e})=>({uri:"at://did:plc:fake/app.bsky.graph.list/fake",cid:bn,name:e,purpose:"app.bsky.graph.defs#modlist",indexedAt:new Date().toISOString()}),replyNotification:({author:e,record:t,labels:r})=>({uri:`at://${e.did}/app.bsky.feed.post/fake`,cid:bn,author:e,reason:"reply",reasonSubject:`at://${e.did}/app.bsky.feed.post/fake-parent`,record:t,isRead:!1,indexedAt:new Date().toISOString(),labels:r}),followNotification:({author:e,subjectDid:t,labels:r})=>({uri:`at://${e.did}/app.bsky.graph.follow/fake`,cid:bn,author:e,reason:"follow",record:{$type:"app.bsky.graph.follow",createdAt:new Date().toISOString(),subject:t},isRead:!1,indexedAt:new Date().toISOString(),labels:r}),label:({val:e,uri:t,src:r})=>({src:r||"did:plc:fake-labeler",uri:t,val:e,cts:new Date().toISOString()})};var bs,ba,bl,bd,bc,bp,bu,bf,bh,bm,by,bg,bb,bv,bE,bR,bA,b_,bT,bw,bC,bS,bL,bk,bx,bP,bB={},bD={},bO=np&&np.__classPrivateFieldGet||function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},bU=np&&np.__classPrivateFieldSet||function(e,t,r,i,o){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!o)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(e,r):o?o.value=r:t.set(e,r),r};Object.defineProperty(bD,"__esModule",{value:!0}),bD.default=class{constructor(){bx.set(this,!1),bP.set(this,new Set)}get acquired(){return bO(this,bx,"f")}acquireAsync({timeout:e}={}){let t,r;return bO(this,bx,"f")?null==e?new Promise(e=>{bO(this,bP,"f").add(e)}):Promise.race([new Promise(e=>{t=()=>{clearTimeout(r),e()},bO(this,bP,"f").add(t)}),new Promise((i,o)=>{r=setTimeout(()=>{bO(this,bP,"f").delete(t),o(Error("Timed out waiting for lock"))},e)})]):(bU(this,bx,!0,"f"),Promise.resolve())}tryAcquire(){return!bO(this,bx,"f")&&(bU(this,bx,!0,"f"),!0)}release(){if(!bO(this,bx,"f"))throw Error("Cannot release an unacquired lock");if(bO(this,bP,"f").size>0){let[e]=bO(this,bP,"f");bO(this,bP,"f").delete(e),e()}else bU(this,bx,!1,"f")}},bx=new WeakMap,bP=new WeakMap;var bI=np&&np.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bB,"__esModule",{value:!0}),bB.BskyAgent=void 0;let bK=bI(bD),bj=gC,bM={hideReplies:!1,hideRepliesByUnfollowed:!0,hideRepliesByLikeCount:0,hideReposts:!1,hideQuotePosts:!1},bN={sort:"oldest",prioritizeFollowedUsers:!0};class bV extends bj.AtpAgent{constructor(){super(...arguments),Object.defineProperty(this,"_prefsLock",{enumerable:!0,configurable:!0,writable:!0,value:new bK.default}),Object.defineProperty(this,"getTimeline",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.feed.getTimeline(e,t)}),Object.defineProperty(this,"getAuthorFeed",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.feed.getAuthorFeed(e,t)}),Object.defineProperty(this,"getActorLikes",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.feed.getActorLikes(e,t)}),Object.defineProperty(this,"getPostThread",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.feed.getPostThread(e,t)}),Object.defineProperty(this,"getPost",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.api.app.bsky.feed.post.get(e)}),Object.defineProperty(this,"getPosts",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.feed.getPosts(e,t)}),Object.defineProperty(this,"getLikes",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.feed.getLikes(e,t)}),Object.defineProperty(this,"getRepostedBy",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.feed.getRepostedBy(e,t)}),Object.defineProperty(this,"getFollows",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.graph.getFollows(e,t)}),Object.defineProperty(this,"getFollowers",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.graph.getFollowers(e,t)}),Object.defineProperty(this,"getProfile",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.actor.getProfile(e,t)}),Object.defineProperty(this,"getProfiles",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.actor.getProfiles(e,t)}),Object.defineProperty(this,"getSuggestions",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.actor.getSuggestions(e,t)}),Object.defineProperty(this,"searchActors",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.actor.searchActors(e,t)}),Object.defineProperty(this,"searchActorsTypeahead",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.actor.searchActorsTypeahead(e,t)}),Object.defineProperty(this,"listNotifications",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.notification.listNotifications(e,t)}),Object.defineProperty(this,"countUnreadNotifications",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.notification.getUnreadCount(e,t)}),Object.defineProperty(this,"getLabelers",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>this.api.app.bsky.labeler.getServices(e,t)})}clone(){let e=new bV({service:this.service});return this.copyInto(e),e}get app(){return this.api.app}async getLabelDefinitions(e){var t;let r=bV.appLabelers;r=(t=e)&&"object"==typeof t&&"moderationPrefs"in t&&bX(t.moderationPrefs)?r.concat(e.moderationPrefs.labelers.map(e=>e.did)):bX(e)?r.concat(e.labelers.map(e=>e.did)):r.concat(e);let i=await this.getLabelers({dids:r,detailed:!0}),o={};if(i.data)for(let e of i.data.views)o[e.creator.did]=(0,g$.interpretLabelValueDefinitions)(e);return o}async post(e){if(!this.session)throw Error("Not logged in");return e.createdAt=e.createdAt||new Date().toISOString(),this.api.app.bsky.feed.post.create({repo:this.session.did},e)}async deletePost(e){if(!this.session)throw Error("Not logged in");let t=new nh.AtUri(e);return await this.api.app.bsky.feed.post.delete({repo:t.hostname,rkey:t.rkey})}async like(e,t){if(!this.session)throw Error("Not logged in");return await this.api.app.bsky.feed.like.create({repo:this.session.did},{subject:{uri:e,cid:t},createdAt:new Date().toISOString()})}async deleteLike(e){if(!this.session)throw Error("Not logged in");let t=new nh.AtUri(e);return await this.api.app.bsky.feed.like.delete({repo:t.hostname,rkey:t.rkey})}async repost(e,t){if(!this.session)throw Error("Not logged in");return await this.api.app.bsky.feed.repost.create({repo:this.session.did},{subject:{uri:e,cid:t},createdAt:new Date().toISOString()})}async deleteRepost(e){if(!this.session)throw Error("Not logged in");let t=new nh.AtUri(e);return await this.api.app.bsky.feed.repost.delete({repo:t.hostname,rkey:t.rkey})}async follow(e){if(!this.session)throw Error("Not logged in");return await this.api.app.bsky.graph.follow.create({repo:this.session.did},{subject:e,createdAt:new Date().toISOString()})}async deleteFollow(e){if(!this.session)throw Error("Not logged in");let t=new nh.AtUri(e);return await this.api.app.bsky.graph.follow.delete({repo:t.hostname,rkey:t.rkey})}async upsertProfile(e){if(!this.session)throw Error("Not logged in");let t=5;for(;t>=0;){let r=await this.com.atproto.repo.getRecord({repo:this.session.did,collection:"app.bsky.actor.profile",rkey:"self"}).catch(e=>{}),i=await e(r?.data.value);i&&(i.$type="app.bsky.actor.profile");let o=ds.AppBskyActorProfile.validateRecord(i);if(!o.success)throw o.error;try{await this.com.atproto.repo.putRecord({repo:this.session.did,collection:"app.bsky.actor.profile",rkey:"self",record:i,swapRecord:r?.data.cid||null})}catch(e){if(t>0&&e instanceof ds.ComAtprotoRepoPutRecord.InvalidSwapError){t--;continue}throw e}break}}async mute(e){return this.api.app.bsky.graph.muteActor({actor:e})}async unmute(e){return this.api.app.bsky.graph.unmuteActor({actor:e})}async muteModList(e){return this.api.app.bsky.graph.muteActorList({list:e})}async unmuteModList(e){return this.api.app.bsky.graph.unmuteActorList({list:e})}async blockModList(e){if(!this.session)throw Error("Not logged in");return await this.api.app.bsky.graph.listblock.create({repo:this.session.did},{subject:e,createdAt:new Date().toISOString()})}async unblockModList(e){if(!this.session)throw Error("Not logged in");let t=await this.api.app.bsky.graph.getList({list:e,limit:1});if(!t.data.list.viewer?.blocked)return;let{rkey:r}=new nh.AtUri(t.data.list.viewer.blocked);return await this.api.app.bsky.graph.listblock.delete({repo:this.session.did,rkey:r})}async updateSeenNotifications(e){return e=e||new Date().toISOString(),this.api.app.bsky.notification.updateSeen({seenAt:e})}async getPreferences(){let e={feeds:{saved:void 0,pinned:void 0},savedFeeds:void 0,feedViewPrefs:{home:{...bM}},threadViewPrefs:{...bN},moderationPrefs:{adultContentEnabled:!1,labels:{...gW.DEFAULT_LABEL_SETTINGS},labelers:bV.appLabelers.map(e=>({did:e,labels:{}})),mutedWords:[],hiddenPosts:[]},birthDate:void 0,interests:{tags:[]},bskyAppState:{queuedNudges:[],activeProgressGuide:void 0}},t=await this.app.bsky.actor.getPreferences({}),r=[];for(let i of t.data.preferences)if(ds.AppBskyActorDefs.isAdultContentPref(i)&&ds.AppBskyActorDefs.validateAdultContentPref(i).success)e.moderationPrefs.adultContentEnabled=i.enabled;else if(ds.AppBskyActorDefs.isContentLabelPref(i)&&ds.AppBskyActorDefs.validateContentLabelPref(i).success){let e=function(e){let t=e.visibility;return"show"===t&&(t="ignore"),{...e,visibility:t}}(i);r.push(e)}else if(ds.AppBskyActorDefs.isLabelersPref(i)&&ds.AppBskyActorDefs.validateLabelersPref(i).success)e.moderationPrefs.labelers=bV.appLabelers.map(e=>({did:e,labels:{}})).concat(i.labelers.map(e=>({...e,labels:{}})));else if(ds.AppBskyActorDefs.isSavedFeedsPrefV2(i)&&ds.AppBskyActorDefs.validateSavedFeedsPrefV2(i).success)e.savedFeeds=i.items;else if(ds.AppBskyActorDefs.isSavedFeedsPref(i)&&ds.AppBskyActorDefs.validateSavedFeedsPref(i).success)e.feeds.saved=i.saved,e.feeds.pinned=i.pinned;else if(ds.AppBskyActorDefs.isPersonalDetailsPref(i)&&ds.AppBskyActorDefs.validatePersonalDetailsPref(i).success)i.birthDate&&(e.birthDate=new Date(i.birthDate));else if(ds.AppBskyActorDefs.isFeedViewPref(i)&&ds.AppBskyActorDefs.validateFeedViewPref(i).success){let{$type:t,feed:r,...o}=i;e.feedViewPrefs[i.feed]={...bM,...o}}else if(ds.AppBskyActorDefs.isThreadViewPref(i)&&ds.AppBskyActorDefs.validateThreadViewPref(i).success){let{$type:t,...r}=i;e.threadViewPrefs={...e.threadViewPrefs,...r}}else if(ds.AppBskyActorDefs.isInterestsPref(i)&&ds.AppBskyActorDefs.validateInterestsPref(i).success){let{$type:t,...r}=i;e.interests={...e.interests,...r}}else if(ds.AppBskyActorDefs.isMutedWordsPref(i)&&ds.AppBskyActorDefs.validateMutedWordsPref(i).success){let{$type:t,...r}=i;e.moderationPrefs.mutedWords=r.items,e.moderationPrefs.mutedWords.length&&(e.moderationPrefs.mutedWords=e.moderationPrefs.mutedWords.map(e=>(e.actorTarget=e.actorTarget||"all",e)))}else if(ds.AppBskyActorDefs.isHiddenPostsPref(i)&&ds.AppBskyActorDefs.validateHiddenPostsPref(i).success){let{$type:t,...r}=i;e.moderationPrefs.hiddenPosts=r.items}else if(ds.AppBskyActorDefs.isBskyAppStatePref(i)&&ds.AppBskyActorDefs.validateBskyAppStatePref(i).success){let{$type:t,...r}=i;e.bskyAppState.queuedNudges=r.queuedNudges||[],e.bskyAppState.activeProgressGuide=r.activeProgressGuide}if(void 0===e.savedFeeds){let{saved:t,pinned:r}=e.feeds;if(t&&r){let i=new Map;for(let e of(i.set("timeline",{id:ai.TID.nextStr(),type:"timeline",value:"following",pinned:!0}),r)){let t=(0,dn.getSavedFeedType)(e);"unknown"!==t&&i.set(e,{id:ai.TID.nextStr(),type:t,value:e,pinned:!0})}for(let e of t)if(!i.has(e)){let t=(0,dn.getSavedFeedType)(e);if("unknown"===t)continue;i.set(e,{id:ai.TID.nextStr(),type:t,value:e,pinned:!1})}e.savedFeeds=Array.from(i.values())}else e.savedFeeds=[{id:ai.TID.nextStr(),type:"timeline",value:"following",pinned:!0}];await this.overwriteSavedFeeds(e.savedFeeds)}for(let t of r)if(t.labelerDid){let r=e.moderationPrefs.labelers.find(e=>e.did===t.labelerDid);if(!r)continue;r.labels[t.label]=t.visibility}else e.moderationPrefs.labels[t.label]=t.visibility;return e.moderationPrefs.labels=function(e){let t={...e},r={gore:"graphic-media",nsfw:"porn",suggestive:"sexual"};for(let e in t){let i=r[e];i&&(t[i]=t[e])}return t}(e.moderationPrefs.labels),this.configureLabelersHeader(b$(t.data.preferences)),e}async overwriteSavedFeeds(e){e.forEach(dn.validateSavedFeed);let t=new Map;return e.forEach(e=>{t.has(e.id)&&t.delete(e.id),t.set(e.id,e)}),bq(this,()=>Array.from(t.values()))}async updateSavedFeeds(e){return e.map(dn.validateSavedFeed),bq(this,t=>t.map(t=>{let r=e.find(e=>t.id===e.id);return r?{...t,pinned:r.pinned}:t}))}async addSavedFeeds(e){let t=e.map(e=>({...e,id:ai.TID.nextStr()}));return t.forEach(dn.validateSavedFeed),bq(this,e=>[...e,...t])}async removeSavedFeeds(e){return bq(this,t=>[...t.filter(t=>!e.find(e=>t.id===e))])}async setSavedFeeds(e,t){return bG(this,()=>({saved:e,pinned:t}))}async addSavedFeed(e){return bG(this,(t,r)=>({saved:[...t.filter(t=>t!==e),e],pinned:r}))}async removeSavedFeed(e){return bG(this,(t,r)=>({saved:t.filter(t=>t!==e),pinned:r.filter(t=>t!==e)}))}async addPinnedFeed(e){return bG(this,(t,r)=>({saved:[...t.filter(t=>t!==e),e],pinned:[...r.filter(t=>t!==e),e]}))}async removePinnedFeed(e){return bG(this,(t,r)=>({saved:t,pinned:r.filter(t=>t!==e)}))}async setAdultContentEnabled(e){await bF(this,t=>{let r=t.findLast(e=>ds.AppBskyActorDefs.isAdultContentPref(e)&&ds.AppBskyActorDefs.validateAdultContentPref(e).success);return r?r.enabled=e:r={$type:"app.bsky.actor.defs#adultContentPref",enabled:e},t.filter(e=>!ds.AppBskyActorDefs.isAdultContentPref(e)).concat([r])})}async setContentLabelPref(e,t,r){r&&(0,nh.ensureValidDid)(r),await bF(this,i=>{let o=i.findLast(t=>ds.AppBskyActorDefs.isContentLabelPref(t)&&ds.AppBskyActorDefs.validateContentLabelPref(t).success&&t.label===e&&t.labelerDid===r),n;if(o?o.visibility=t:o={$type:"app.bsky.actor.defs#contentLabelPref",label:e,labelerDid:r,visibility:t},ds.AppBskyActorDefs.isContentLabelPref(o)&&!o.labelerDid){let e={"graphic-media":"gore",porn:"nsfw",sexual:"suggestive"}[o.label];e&&((n=i.findLast(t=>ds.AppBskyActorDefs.isContentLabelPref(t)&&ds.AppBskyActorDefs.validateContentLabelPref(t).success&&t.label===e&&void 0===t.labelerDid))?n.visibility=t:n={$type:"app.bsky.actor.defs#contentLabelPref",label:e,labelerDid:void 0,visibility:t})}return i.filter(t=>!ds.AppBskyActorDefs.isContentLabelPref(t)||t.label!==e||t.labelerDid!==r).concat([o]).filter(e=>!n||!ds.AppBskyActorDefs.isContentLabelPref(e)||e.label!==n.label||void 0!==e.labelerDid).concat(n?[n]:[])})}async addLabeler(e){let t=await bF(this,t=>{let r=t.findLast(e=>ds.AppBskyActorDefs.isLabelersPref(e)&&ds.AppBskyActorDefs.validateLabelersPref(e).success);if(r||(r={$type:"app.bsky.actor.defs#labelersPref",labelers:[]}),ds.AppBskyActorDefs.isLabelersPref(r)){let t=r.labelers.find(t=>t.did===e);t||(t={did:e},r.labelers.push(t))}return t.filter(e=>!ds.AppBskyActorDefs.isLabelersPref(e)).concat([r])});this.configureLabelersHeader(b$(t))}async removeLabeler(e){let t=await bF(this,t=>{let r=t.findLast(e=>ds.AppBskyActorDefs.isLabelersPref(e)&&ds.AppBskyActorDefs.validateLabelersPref(e).success);return r||(r={$type:"app.bsky.actor.defs#labelersPref",labelers:[]}),ds.AppBskyActorDefs.isLabelersPref(r)&&(r.labelers=r.labelers.filter(t=>t.did!==e)),t.filter(e=>!ds.AppBskyActorDefs.isLabelersPref(e)).concat([r])});this.configureLabelersHeader(b$(t))}async setPersonalDetails({birthDate:e}){e=e instanceof Date?e.toISOString():e,await bF(this,t=>{let r=t.findLast(e=>ds.AppBskyActorDefs.isPersonalDetailsPref(e)&&ds.AppBskyActorDefs.validatePersonalDetailsPref(e).success);return r?r.birthDate=e:r={$type:"app.bsky.actor.defs#personalDetailsPref",birthDate:e},t.filter(e=>!ds.AppBskyActorDefs.isPersonalDetailsPref(e)).concat([r])})}async setFeedViewPrefs(e,t){await bF(this,r=>{let i=r.findLast(t=>ds.AppBskyActorDefs.isFeedViewPref(t)&&ds.AppBskyActorDefs.validateFeedViewPref(t).success&&t.feed===e);return i&&(t={...i,...t}),r.filter(r=>!ds.AppBskyActorDefs.isFeedViewPref(t)||r.feed!==e).concat([{...t,$type:"app.bsky.actor.defs#feedViewPref",feed:e}])})}async setThreadViewPrefs(e){await bF(this,t=>{let r=t.findLast(e=>ds.AppBskyActorDefs.isThreadViewPref(e)&&ds.AppBskyActorDefs.validateThreadViewPref(e).success);return r&&(e={...r,...e}),t.filter(e=>!ds.AppBskyActorDefs.isThreadViewPref(e)).concat([{...e,$type:"app.bsky.actor.defs#threadViewPref"}])})}async setInterestsPref(e){await bF(this,t=>{let r=t.findLast(e=>ds.AppBskyActorDefs.isInterestsPref(e)&&ds.AppBskyActorDefs.validateInterestsPref(e).success);return r&&(e={...r,...e}),t.filter(e=>!ds.AppBskyActorDefs.isInterestsPref(e)).concat([{...e,$type:"app.bsky.actor.defs#interestsPref"}])})}async addMutedWord(e){let t=(0,dn.sanitizeMutedWordValue)(e.value);t&&await bF(this,r=>{let i=r.findLast(e=>ds.AppBskyActorDefs.isMutedWordsPref(e)&&ds.AppBskyActorDefs.validateMutedWordsPref(e).success),o={id:ai.TID.nextStr(),value:t,targets:e.targets||[],actorTarget:e.actorTarget||"all",expiresAt:e.expiresAt||void 0};return i&&ds.AppBskyActorDefs.isMutedWordsPref(i)?(i.items.push(o),i.items=bH(i.items)):i={items:[o]},r.filter(e=>!ds.AppBskyActorDefs.isMutedWordsPref(e)).concat([{...i,$type:"app.bsky.actor.defs#mutedWordsPref"}])})}async addMutedWords(e){await Promise.all(e.map(e=>this.addMutedWord(e)))}async upsertMutedWords(e){await this.addMutedWords(e)}async updateMutedWord(e){await bF(this,t=>{let r=t.findLast(e=>ds.AppBskyActorDefs.isMutedWordsPref(e)&&ds.AppBskyActorDefs.validateMutedWordsPref(e).success);return r&&ds.AppBskyActorDefs.isMutedWordsPref(r)?(r.items=r.items.map(t=>{if(!bZ(t,e))return t;{let r={...t,...e};return{id:t.id||ai.TID.nextStr(),value:(0,dn.sanitizeMutedWordValue)(r.value)||t.value,targets:r.targets||[],actorTarget:r.actorTarget||"all",expiresAt:r.expiresAt||void 0}}}),r.items=bH(r.items),t.filter(e=>!ds.AppBskyActorDefs.isMutedWordsPref(e)).concat([{...r,$type:"app.bsky.actor.defs#mutedWordsPref"}])):t})}async removeMutedWord(e){await bF(this,t=>{let r=t.findLast(e=>ds.AppBskyActorDefs.isMutedWordsPref(e)&&ds.AppBskyActorDefs.validateMutedWordsPref(e).success);if(r&&ds.AppBskyActorDefs.isMutedWordsPref(r)){for(let t=0;t<r.items.length;t++)if(bZ(r.items[t],e)){r.items.splice(t,1);break}return r.items=bH(r.items),t.filter(e=>!ds.AppBskyActorDefs.isMutedWordsPref(e)).concat([{...r,$type:"app.bsky.actor.defs#mutedWordsPref"}])}return t})}async removeMutedWords(e){await Promise.all(e.map(e=>this.removeMutedWord(e)))}async hidePost(e){await bz(this,e,"hide")}async unhidePost(e){await bz(this,e,"unhide")}async bskyAppQueueNudges(e){await bF(this,t=>{let r=t.findLast(e=>ds.AppBskyActorDefs.isBskyAppStatePref(e)&&ds.AppBskyActorDefs.validateBskyAppStatePref(e).success);return r=r||{},e=Array.isArray(e)?e:[e],r.queuedNudges=(r.queuedNudges||[]).concat(e),t.filter(e=>!ds.AppBskyActorDefs.isBskyAppStatePref(e)).concat([{...r,$type:"app.bsky.actor.defs#bskyAppStatePref"}])})}async bskyAppDismissNudges(e){await bF(this,t=>{let r=t.findLast(e=>ds.AppBskyActorDefs.isBskyAppStatePref(e)&&ds.AppBskyActorDefs.validateBskyAppStatePref(e).success);return r=r||{},e=Array.isArray(e)?e:[e],r.queuedNudges=(r.queuedNudges||[]).filter(t=>!e.includes(t)),t.filter(e=>!ds.AppBskyActorDefs.isBskyAppStatePref(e)).concat([{...r,$type:"app.bsky.actor.defs#bskyAppStatePref"}])})}async bskyAppSetActiveProgressGuide(e){if(e&&!ds.AppBskyActorDefs.validateBskyAppProgressGuide(e).success)throw Error("Invalid progress guide");await bF(this,t=>{let r=t.findLast(e=>ds.AppBskyActorDefs.isBskyAppStatePref(e)&&ds.AppBskyActorDefs.validateBskyAppStatePref(e).success);return(r=r||{}).activeProgressGuide=e,t.filter(e=>!ds.AppBskyActorDefs.isBskyAppStatePref(e)).concat([{...r,$type:"app.bsky.actor.defs#bskyAppStatePref"}])})}}async function bF(e,t){try{await e._prefsLock.acquireAsync();let r=await e.app.bsky.actor.getPreferences({}),i=t(r.data.preferences);return!1===i?r.data.preferences:(await e.app.bsky.actor.putPreferences({preferences:i}),i)}finally{e._prefsLock.release()}}async function bG(e,t){let r;return await bF(e,e=>{let i=e.findLast(e=>ds.AppBskyActorDefs.isSavedFeedsPref(e)&&ds.AppBskyActorDefs.validateSavedFeedsPref(e).success);return i?(r=t(i.saved,i.pinned),i.saved=r.saved,i.pinned=r.pinned):i={$type:"app.bsky.actor.defs#savedFeedsPref",saved:(r=t([],[])).saved,pinned:r.pinned},e.filter(e=>!ds.AppBskyActorDefs.isSavedFeedsPref(e)).concat([i])}),r}async function bq(e,t){let r=[];return await bF(e,e=>{let i=e.findLast(e=>ds.AppBskyActorDefs.isSavedFeedsPrefV2(e)&&ds.AppBskyActorDefs.validateSavedFeedsPrefV2(e).success),o=e.findLast(e=>ds.AppBskyActorDefs.isSavedFeedsPref(e)&&ds.AppBskyActorDefs.validateSavedFeedsPref(e).success);i?(r=t(i.items),i={...i,items:r}):i={$type:"app.bsky.actor.defs#savedFeedsPrefV2",items:r=t([])};let n=i.items.filter(e=>e.pinned),s=i.items.filter(e=>!e.pinned);i.items=n.concat(s);let a=e.filter(e=>!ds.AppBskyActorDefs.isSavedFeedsPrefV2(e)).concat(i);if(o){let{saved:e,pinned:t}=o,r=(0,dn.savedFeedsToUriArrays)(i.items.filter(e=>["feed","list"].includes(e.type)));o={...o,saved:Array.from(new Set([...e,...r.saved])),pinned:Array.from(new Set([...t,...r.pinned]))},a=a.filter(e=>!ds.AppBskyActorDefs.isSavedFeedsPref(e)).concat(o)}return a}),r}function b$(e){let t=e.findLast(e=>ds.AppBskyActorDefs.isLabelersPref(e)&&ds.AppBskyActorDefs.validateLabelersPref(e).success),r=[];return t&&(r=t.labelers.map(e=>e.did)),r}async function bz(e,t,r){await bF(e,e=>{let i=e.findLast(e=>ds.AppBskyActorDefs.isHiddenPostsPref(e)&&ds.AppBskyActorDefs.validateHiddenPostsPref(e).success);return i&&ds.AppBskyActorDefs.isHiddenPostsPref(i)?i.items="hide"===r?Array.from(new Set([...i.items,t])):i.items.filter(e=>e!==t):"hide"===r&&(i={$type:"app.bsky.actor.defs#hiddenPostsPref",items:[t]}),e.filter(e=>!ds.AppBskyActorDefs.isInterestsPref(e)).concat([{...i,$type:"app.bsky.actor.defs#hiddenPostsPref"}])})}function bX(e){return e&&"object"==typeof e&&"labelers"in e}function bH(e){return e.map(e=>({...e,id:e.id||ai.TID.nextStr()}))}function bZ(e,t){let r=e.id,i=r&&r===t.id,o=!r&&e.value===t.value;return i||o}bB.BskyAgent=bV,a=np&&np.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),l=np&&np.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||a(t,e,r)},Object.defineProperty(nf,"__esModule",{value:!0}),nf.default=nf.BskyAgent=nf.DEFAULT_LABEL_SETTINGS=nf.LABELS=nf.parseLanguage=nf.jsonStringToLex=nf.jsonToLex=nf.stringifyLex=nf.lexToJson=nf.BlobRef=nf.AtUri=void 0,Object.defineProperty(nf,"AtUri",{enumerable:!0,get:function(){return nh.AtUri}}),Object.defineProperty(nf,"BlobRef",{enumerable:!0,get:function(){return nx.BlobRef}}),Object.defineProperty(nf,"lexToJson",{enumerable:!0,get:function(){return nx.lexToJson}}),Object.defineProperty(nf,"stringifyLex",{enumerable:!0,get:function(){return nx.stringifyLex}}),Object.defineProperty(nf,"jsonToLex",{enumerable:!0,get:function(){return nx.jsonToLex}}),Object.defineProperty(nf,"jsonStringToLex",{enumerable:!0,get:function(){return nx.jsonStringToLex}}),Object.defineProperty(nf,"parseLanguage",{enumerable:!0,get:function(){return ai.parseLanguage}}),l(dr,nf),l(di,nf),l(dn,nf),l(ds,nf),l(gC,nf),l(gk,nf),l(gD,nf),l(gx,nf),l(gK,nf),l(g$,nf),l(gH,nf),l(bo,nf),Object.defineProperty(nf,"LABELS",{enumerable:!0,get:function(){return gW.LABELS}}),Object.defineProperty(nf,"DEFAULT_LABEL_SETTINGS",{enumerable:!0,get:function(){return gW.DEFAULT_LABEL_SETTINGS}}),Object.defineProperty(nf,"BskyAgent",{enumerable:!0,get:function(){return bB.BskyAgent}}),Object.defineProperty(nf,"default",{enumerable:!0,get:function(){return gC.AtpAgent}});let bW=new nf.BskyAgent({service:"https://api.bsky.app"});var bY={exports:{}};bY.exports=function(e){var t={};function r(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=8)}([function(e,t,r){r.d(t,"a",function(){return a}),r.d(t,"b",function(){return l});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(){}var n={trace:o,debug:o,log:o,warn:o,info:o,error:o},s=n,a=function(e){if(!0===e||(typeof e>"u"?"undefined":i(e))==="object"){!function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];r.forEach(function(t){var r;s[t]=e[t]?e[t].bind(e):(r=self.console[t])?function(){for(var e,i=arguments.length,o=Array(i),n=0;n<i;n++)o[n]=arguments[n];o[0]&&(o[0]="["+t+"] > "+o[0]),r.apply(self.console,o)}:o})}(e,"debug","log","info","warn","error");try{s.log()}catch{s=n}}else s=n},l=s},function(e,t,r){t.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(e,t,r){r.d(t,"b",function(){return i}),r.d(t,"a",function(){return o});var i={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},o={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(e,t,r){r.d(t,"b",function(){return o});var i=function(){function e(){if(!(this instanceof e))throw TypeError("Cannot call a class as a function")}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,r){for(var i=r,o=0;e.isHeader(t,r);)o+=10,o+=e._readSize(t,r+6),e.isFooter(t,r+10)&&(o+=10),r+=o;if(o>0)return t.subarray(i,i+o)},e._readSize=function(e,t){return(127&e[t])<<21|(127&e[t+1])<<14|(127&e[t+2])<<7|127&e[t+3]},e.getTimeStamp=function(t){for(var r=e.getID3Frames(t),i=0;i<r.length;i++){var o=r[i];if(e.isTimeStampFrame(o))return e._readTimeStamp(o)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var r=String.fromCharCode(t[0],t[1],t[2],t[3]),i=e._readSize(t,4);return{type:r,size:i,data:t.subarray(10,10+i)}},e.getID3Frames=function(t){for(var r=0,i=[];e.isHeader(t,r);){var o=e._readSize(t,r+6);r+=10;for(var n=r+o;r+8<n;){var s=e._getFrameData(t.subarray(r)),a=e._decodeFrame(s);a&&i.push(a),r+=s.size+10}e.isFooter(t,r)&&(r+=10)}return i},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],i=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return i/=45,r&&(i+=47721858.84),Math.round(i)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var r=e._utf8ArrayToStr(t.data,!0),i=new Uint8Array(t.data.subarray(r.length+1));return{key:t.type,info:r,data:i.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2))if("TXXX"===t.type){var r=1,i=e._utf8ArrayToStr(t.data.subarray(r));r+=i.length+1;var o=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:i,data:o}}else{var n=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:n}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(!(t.size<2)){var r=1,i=e._utf8ArrayToStr(t.data.subarray(r));r+=i.length+1;var o=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:i,data:o}}}else{var n=e._utf8ArrayToStr(t.data);return{key:t.type,data:n}}},e._utf8ArrayToStr=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.length,i=void 0,o=void 0,n=void 0,s="",a=0;a<r&&(0!==(i=e[a++])||!t);)if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(i);break;case 12:case 13:s+=String.fromCharCode((31&i)<<6|63&(o=e[a++]));break;case 14:s+=String.fromCharCode((15&i)<<12|(63&(o=e[a++]))<<6|63&e[a++])}return s},e}(),o=i._utf8ArrayToStr;t.a=i},function(e,t,r){var i=function(){function e(t,r){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.subtle=t,this.aesIV=r}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),o=function(){function e(t,r){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.subtle=t,this.key=r}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}(),n=function(){function e(){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),i=0;i<4;i++)r[i]=t.getUint32(4*i);return r},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,i=r[0],o=r[1],n=r[2],s=r[3],a=this.invSubMix,l=a[0],d=a[1],c=a[2],p=a[3],u=new Uint32Array(256),f=0,h=0,m=0;for(m=0;m<256;m++)m<128?u[m]=m<<1:u[m]=m<<1^283;for(m=0;m<256;m++){var y=h^h<<1^h<<2^h<<3^h<<4;y=y>>>8^255&y^99,e[f]=y,t[y]=f;var g=u[f],b=u[g],v=u[b],E=257*u[y]^0x1010100*y;i[f]=E<<24|E>>>8,o[f]=E<<16|E>>>16,n[f]=E<<8|E>>>24,s[f]=E,E=0x1010101*v^65537*b^257*g^0x1010100*f,l[y]=E<<24|E>>>8,d[y]=E<<16|E>>>16,c[y]=E<<8|E>>>24,p[y]=E,f?(f=g^u[u[u[v^g]]],h^=u[u[h]]):f=h=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,i=0;i<t.length&&r;)r=t[i]===this.key[i],i++;if(!r){this.key=t;var o=this.keySize=t.length;if(4!==o&&6!==o&&8!==o)throw Error("Invalid aes key size="+o);var n=this.ksRows=(o+6+1)*4,s=void 0,a=void 0,l=this.keySchedule=new Uint32Array(n),d=this.invKeySchedule=new Uint32Array(n),c=this.sBox,p=this.rcon,u=this.invSubMix,f=u[0],h=u[1],m=u[2],y=u[3],g=void 0,b=void 0;for(s=0;s<n;s++){if(s<o){g=l[s]=t[s];continue}b=g,s%o==0?b=(c[(b=b<<8|b>>>24)>>>24]<<24|c[b>>>16&255]<<16|c[b>>>8&255]<<8|c[255&b])^p[s/o|0]<<24:o>6&&s%o==4&&(b=c[b>>>24]<<24|c[b>>>16&255]<<16|c[b>>>8&255]<<8|c[255&b]),l[s]=g=(l[s-o]^b)>>>0}for(a=0;a<n;a++)s=n-a,b=3&a?l[s]:l[s-4],a<4||s<=4?d[a]=b:d[a]=f[c[b>>>24]]^h[c[b>>>16&255]]^m[c[b>>>8&255]]^y[c[255&b]],d[a]=d[a]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(0xff0000&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,r){for(var i,o,n=this.keySize+6,s=this.invKeySchedule,a=this.invSBox,l=this.invSubMix,d=l[0],c=l[1],p=l[2],u=l[3],f=this.uint8ArrayToUint32Array_(r),h=f[0],m=f[1],y=f[2],g=f[3],b=new Int32Array(e),v=new Int32Array(b.length),E=void 0,R=void 0,A=void 0,_=void 0,T=void 0,w=void 0,C=void 0,S=void 0,L=void 0,k=void 0,x=void 0,P=void 0,B=this.networkToHostOrderSwap;t<b.length;){for(L=B(b[t]),k=B(b[t+1]),x=B(b[t+2]),P=B(b[t+3]),T=L^s[0],w=P^s[1],C=x^s[2],S=k^s[3],i=4,o=1;o<n;o++)E=d[T>>>24]^c[w>>16&255]^p[C>>8&255]^u[255&S]^s[i],R=d[w>>>24]^c[C>>16&255]^p[S>>8&255]^u[255&T]^s[i+1],A=d[C>>>24]^c[S>>16&255]^p[T>>8&255]^u[255&w]^s[i+2],_=d[S>>>24]^c[T>>16&255]^p[w>>8&255]^u[255&C]^s[i+3],T=E,w=R,C=A,S=_,i+=4;E=a[T>>>24]<<24^a[w>>16&255]<<16^a[C>>8&255]<<8^a[255&S]^s[i],R=a[w>>>24]<<24^a[C>>16&255]<<16^a[S>>8&255]<<8^a[255&T]^s[i+1],A=a[C>>>24]<<24^a[S>>16&255]<<16^a[T>>8&255]<<8^a[255&w]^s[i+2],_=a[S>>>24]<<24^a[T>>16&255]<<16^a[w>>8&255]<<8^a[255&C]^s[i+3],i+=3,v[t]=B(E^h),v[t+1]=B(_^m),v[t+2]=B(A^y),v[t+3]=B(R^g),h=L,m=k,y=x,g=P,t+=4}return v.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}(),s=r(2),a=r(0);t.a=function(){function e(t,r){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.observer=t,this.config=r,this.logEnabled=!0;try{var i=crypto||self.crypto;this.subtle=i.subtle||i.webkitSubtle}catch{}this.disableWebCrypto=!this.subtle}return e.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.prototype.decrypt=function(e,t,r,s){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(a.b.log("JS AES decrypt"),this.logEnabled=!1);var d=this.decryptor;d||(this.decryptor=d=new n),d.expandKey(t),s(d.decrypt(e,0,r))}else{this.logEnabled&&(a.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new o(c,t)),this.fastAesKey.expandKey().then(function(o){new i(c,r).decrypt(e,o).catch(function(i){l.onWebCryptoError(i,e,t,r,s)}).then(function(e){s(e)})}).catch(function(i){l.onWebCryptoError(i,e,t,r,s)})}},e.prototype.onWebCryptoError=function(e,t,r,i,o){this.config.enableSoftwareAES?(a.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,r,i,o)):(a.b.error("decrypting error : "+e.message),this.observer.trigger(Event.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},e.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}()},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,n,s,a,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var d=Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(void 0===(r=this._events[e]))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(o(r))for(s=Array.prototype.slice.call(arguments,1),n=(l=r.slice()).length,a=0;a<n;a++)l[a].apply(this,s);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=void 0===this._maxListeners?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var r=!1;function o(){this.removeListener(e,o),r||(r=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},r.prototype.removeListener=function(e,t){var r,n,s,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(r=this._events[e]).length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(a=s;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0==arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0==arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){var i,o,n,s,a;i=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,o=/^([^\/;?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,e.exports=a={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=this.parseURL(e);if(!s)throw Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var n=this.parseURL(t);if(!n)throw Error("Error trying to parse relative URL.");if(n.scheme)return r.alwaysNormalize?(n.path=a.normalizePath(n.path),a.buildURLFromParts(n)):t;var s=this.parseURL(e);if(!s)throw Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=o.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var d={scheme:s.scheme,netLoc:n.netLoc,path:null,params:n.params,query:n.query,fragment:n.fragment};if(!n.netLoc&&(d.netLoc=s.netLoc,"/"!==n.path[0]))if(n.path){var c=s.path,p=c.substring(0,c.lastIndexOf("/")+1)+n.path;d.path=a.normalizePath(p)}else d.path=s.path,n.params||(d.params=s.params,n.query||(d.query=s.query));return null===d.path&&(d.path=r.alwaysNormalize?a.normalizePath(n.path):n.path),a.buildURLFromParts(d)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(s,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}}},function(e,t,r){var i=r(1),o=r(2),n=r(4),s=r(0);function a(e,t){return 255===e[t]&&(246&e[t+1])==240}function l(e,t){return 1&e[t+1]?7:9}function d(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function c(e,t){return!!(t+1<e.length&&a(e,t))}function p(e,t,r,i,n){if(!e.samplerate){var a,l,d,c,p,u,f,h=(u=navigator.userAgent.toLowerCase(),f=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],(a=((192&r[i+2])>>>6)+1,(l=(60&r[i+2])>>>2)>f.length-1)?void t.trigger(Event.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l}):(c=(1&r[i+2])<<2|(192&r[i+3])>>>6,s.b.log("manifest codec:"+n+",ADTS data:type:"+a+",sampleingIndex:"+l+"["+f[l]+"Hz],channelConfig:"+c),/firefox/i.test(u)?l>=6?(a=5,p=[,,,,],d=l-3):(a=2,p=[,,],d=l):-1!==u.indexOf("android")?(a=2,p=[,,],d=l):(a=5,p=[,,,,],n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&l>=6?d=l-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(l>=6&&1===c||/vivaldi/i.test(u))||!n&&1===c)&&(a=2,p=[,,]),d=l)),p[0]=a<<3,p[0]|=(14&l)>>1,p[1]|=(1&l)<<7,p[1]|=c<<3,5===a&&(p[1]|=(14&d)>>1,p[2]=(1&d)<<7,p[2]|=8,p[3]=0),{config:p,samplerate:f[l],channelCount:c,codec:"mp4a.40."+a,manifestCodec:n}));e.config=h.config,e.samplerate=h.samplerate,e.channelCount=h.channelCount,e.codec=h.codec,e.manifestCodec=h.manifestCodec,s.b.log("parsed codec:"+e.codec+",rate:"+h.samplerate+",nb channel:"+h.channelCount)}}function u(e,t,r,i,o){var n=function(e,t,r,i,o){var n,s,a=e.length;if(n=l(e,t),(s=d(e,t)-n)>0&&t+n+s<=a)return{headerLength:n,frameLength:s,stamp:r+i*o}}(t,r,i,o,9216e4/e.samplerate);if(n){var s=n.stamp,a=n.headerLength,c=n.frameLength,p={unit:t.subarray(r+a,r+a+c),pts:s,dts:s};return e.samples.push(p),e.len+=c,{sample:p,length:c+a}}}var f=r(3),h=function(){function e(t,r,i){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.observer=t,this.config=i,this.remuxer=r}return e.prototype.resetInitSegment=function(e,t,r,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:i,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){if(!e)return!1;for(var t=f.a.getID3Data(e,0)||[],r=t.length,i=e.length;r<i;r++)if(function(e,t){if(t+1<e.length&&a(e,t)){var r=l(e,t);t+5<e.length&&(r=d(e,t));var i=t+r;if(i===e.length||i+1<e.length&&a(e,i))return!0}return!1}(e,r))return s.b.log("ADTS sync word found !"),!0;return!1},e.prototype.append=function(e,t,r,i){for(var o=this._audioTrack,n=f.a.getID3Data(e,0)||[],a=f.a.getTimeStamp(n),l=a?90*a:9e4*t,d=0,h=l,m=e.length,y=n.length,g=[{pts:h,dts:h,data:n}];y<m-1;)if(c(e,y)&&y+5<m){p(o,this.observer,e,y,o.manifestCodec);var b=u(o,e,y,l,d);if(b)y+=b.length,h=b.sample.pts,d++;else{s.b.log("Unable to parse AAC frame");break}}else f.a.isHeader(e,y)?(n=f.a.getID3Data(e,y),g.push({pts:h,dts:h,data:n}),y+=n.length):y++;this.remuxer.remux(o,{samples:[]},{samples:g,inputTimeScale:9e4},{samples:[]},t,r,i)},e.prototype.destroy=function(){},e}(),m=function(){function e(t,r){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.observer=t,this.remuxer=r}return e.prototype.resetTimeStamp=function(e){this.initPTS=e},e.prototype.resetInitSegment=function(t,r,o,n){if(t&&t.byteLength){var s=this.initData=e.parseInitSegment(t);null==r&&(r="mp4a.40.5"),null==o&&(o="avc1.42e01e");var a={};s.audio&&s.video?a.audiovideo={container:"video/mp4",codec:r+","+o,initSegment:n?t:null}:(s.audio&&(a.audio={container:"audio/mp4",codec:r,initSegment:n?t:null}),s.video&&(a.video={container:"video/mp4",codec:o,initSegment:n?t:null})),this.observer.trigger(i.a.FRAG_PARSING_INIT_SEGMENT,{tracks:a})}else r&&(this.audioCodec=r),o&&(this.videoCodec=o)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return r<0?0x100000000+r:r},e.writeUint32=function(e,t,r){e.data&&(t+=e.start,e=e.data),e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},e.findBox=function(t,r){var i,o,n,s,a,l,d,c=[];if(t.data?(l=t.start,s=t.end,t=t.data):(l=0,s=t.byteLength),!r.length)return null;for(i=l;i<s;)o=e.readUint32(t,i),n=e.bin2str(t.subarray(i+4,i+8)),d=o>1?i+o:s,n===r[0]&&(1===r.length?c.push({data:t,start:i+8,end:d}):(a=e.findBox({data:t,start:i+8,end:d},r.slice(1))).length&&(c=c.concat(a))),i=d;return c},e.parseInitSegment=function(t){var r=[];return e.findBox(t,["moov","trak"]).forEach(function(t){var i=e.findBox(t,["tkhd"])[0];if(i){var o=i.data[i.start],n=0===o?12:20,a=e.readUint32(i,n),l=e.findBox(t,["mdia","mdhd"])[0];if(l){n=0===(o=l.data[l.start])?12:20;var d=e.readUint32(l,n),c=e.findBox(t,["mdia","hdlr"])[0];if(c){var p={soun:"audio",vide:"video"}[e.bin2str(c.data.subarray(c.start+8,c.start+12))];if(p){var u=e.findBox(t,["mdia","minf","stbl","stsd"]);if(u.length){u=u[0];var f=e.bin2str(u.data.subarray(u.start+12,u.start+16));s.b.log("MP4Demuxer:"+p+":"+f+" found")}r[a]={timescale:d,type:p},r[p]={timescale:d,id:a}}}}}}),r},e.getStartDTS=function(t,r){var i,o,n;return i=e.findBox(r,["moof","traf"]),o=[].concat.apply([],i.map(function(r){return e.findBox(r,["tfhd"]).map(function(i){var o;return o=t[e.readUint32(i,4)].timescale||9e4,e.findBox(r,["tfdt"]).map(function(t){var r,i;return r=t.data[t.start],i=e.readUint32(t,4),1===r&&(i*=0x100000000,i+=e.readUint32(t,8)),i})[0]/o})})),isFinite(n=Math.min.apply(null,o))?n:0},e.offsetStartDTS=function(t,r,i){e.findBox(r,["moof","traf"]).map(function(r){return e.findBox(r,["tfhd"]).map(function(o){var n=t[e.readUint32(o,4)].timescale||9e4;e.findBox(r,["tfdt"]).map(function(t){var r=t.data[t.start],o=e.readUint32(t,4);if(0===r)e.writeUint32(t,4,o-i*n);else{o*=0x100000000,o+=e.readUint32(t,8),o-=i*n;var s=Math.floor((o=Math.max(o,0))/0x100000000),a=Math.floor(o%0x100000000);e.writeUint32(t,4,s),e.writeUint32(t,8,a)}})})})},e.prototype.append=function(t,r,o,n){var s=this.initData;s||(this.resetInitSegment(t,this.audioCodec,this.videoCodec),s=this.initData);var a=void 0,l=this.initPTS;if(void 0===l){var d=e.getStartDTS(s,t);this.initPTS=l=d-r,this.observer.trigger(i.a.INIT_PTS_FOUND,{initPTS:l})}e.offsetStartDTS(s,t,l),a=e.getStartDTS(s,t),this.remuxer.remux(s.audio,s.video,null,null,a,o,n,t)},e.prototype.destroy=function(){},e}(),y={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,r,i,o){if(!(r+24>t.length)){var n=this.parseHeader(t,r);if(n&&r+n.frameLength<=t.length){var s=i+o*(9e4*n.samplesPerFrame/n.sampleRate),a={unit:t.subarray(r,r+n.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=n.channelCount,e.samplerate=n.sampleRate,e.samples.push(a),e.len+=n.frameLength,{sample:a,length:n.frameLength}}}},parseHeader:function(e,t){var r=e[t+1]>>3&3,i=e[t+1]>>1&3,o=e[t+2]>>4&15,n=e[t+2]>>2&3,s=e[t+2]>>1&1;if(1!==r&&0!==o&&15!==o&&3!==n){var a=1e3*y.BitratesMap[14*(3===r?3-i:3===i?3:4)+o-1],l=y.SamplingRateMap[3*(3===r?0:2===r?1:2)+n],d=e[t+3]>>6==3?1:2,c=y.SamplesCoefficients[r][i],p=y.BytesInSlot[i],u=parseInt(c*a/l+s,10)*p;return{sampleRate:l,channelCount:d,frameLength:u,samplesPerFrame:8*c*p}}},isHeaderPattern:function(e,t){return 255===e[t]&&(224&e[t+1])==224&&(6&e[t+1])!=0},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var r=this.parseHeader(e,t),i=4;r&&r.frameLength&&(i=r.frameLength);var o=t+i;if(o===e.length||o+1<e.length&&this.isHeaderPattern(e,o))return!0}return!1}},g=function(){function e(t){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return e.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,i=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw Error("no bytes available");i.set(e.subarray(r,r+o)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*o,this.bytesAvailable-=o},e.prototype.skipBits=function(e){var t;this.bitsAvailable>e||(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord()),this.word<<=e,this.bitsAvailable-=e},e.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&s.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r},e.prototype.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(this.word&0x80000000>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},e.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},e.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},e.prototype.readBoolean=function(){return 1===this.readBits(1)},e.prototype.readUByte=function(){return this.readBits(8)},e.prototype.readUShort=function(){return this.readBits(16)},e.prototype.readUInt=function(){return this.readBits(32)},e.prototype.skipScalingList=function(e){var t,r=8,i=8;for(t=0;t<e;t++)0!==i&&(i=(r+this.readEG()+256)%256),r=0===i?r:i},e.prototype.readSPS=function(){var e,t,r,i,o,n,s,a=0,l=0,d=0,c=0,p=this.readUByte.bind(this),u=this.readBits.bind(this),f=this.readUEG.bind(this),h=this.readBoolean.bind(this),m=this.skipBits.bind(this),y=this.skipEG.bind(this),g=this.skipUEG.bind(this),b=this.skipScalingList.bind(this);if(p(),e=p(),u(5),m(3),p(),g(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var v=f();if(3===v&&m(1),g(),g(),m(1),h())for(n=3!==v?8:12,s=0;s<n;s++)h()&&b(s<6?16:64)}g();var E=f();if(0===E)f();else if(1===E)for(m(1),y(),y(),t=f(),s=0;s<t;s++)y();g(),m(1),r=f(),i=f(),0===(o=u(1))&&m(1),m(1),h()&&(a=f(),l=f(),d=f(),c=f());var R=[1,1];if(h()&&h())switch(p()){case 1:R=[1,1];break;case 2:R=[12,11];break;case 3:R=[10,11];break;case 4:R=[16,11];break;case 5:R=[40,33];break;case 6:R=[24,11];break;case 7:R=[20,11];break;case 8:R=[32,11];break;case 9:R=[80,33];break;case 10:R=[18,11];break;case 11:R=[15,11];break;case 12:R=[64,33];break;case 13:R=[160,99];break;case 14:R=[4,3];break;case 15:R=[3,2];break;case 16:R=[2,1];break;case 255:R=[p()<<8|p(),p()<<8|p()]}return{width:Math.ceil((r+1)*16-2*a-2*l),height:(2-o)*(i+1)*16-(o?2:4)*(d+c),pixelRatio:R}},e.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),b=function(){function e(t,r,i,o){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.decryptdata=i,this.discardEPB=o,this.decrypter=new n.a(t,r)}return e.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},e.prototype.decryptAacSample=function(e,t,r,i){var o=e[t].unit,n=o.subarray(16,o.length-o.length%16),s=n.buffer.slice(n.byteOffset,n.byteOffset+n.length),a=this;this.decryptBuffer(s,function(n){n=new Uint8Array(n),o.set(n,16),i||a.decryptAacSamples(e,t+1,r)})},e.prototype.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,i),!i)return}}},e.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),i=0,o=32;o<=e.length-16;o+=160,i+=16)r.set(e.subarray(o,o+16),i);return r},e.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var r=0,i=32;i<=e.length-16;i+=160,r+=16)e.set(t.subarray(r,r+16),i);return e},e.prototype.decryptAvcSample=function(e,t,r,i,o,n){var s=this.discardEPB(o.data),a=this.getAvcEncryptedData(s),l=this;this.decryptBuffer(a.buffer,function(a){o.data=l.getAvcDecryptedUnit(s,a),n||l.decryptAvcSamples(e,t,r+1,i)})},e.prototype.decryptAvcSamples=function(e,t,r,i){for(;;t++,r=0){if(t>=e.length)return void i();for(var o=e[t].units;!(r>=o.length);r++){var n=o[r];if(!(n.length<=48||1!==n.type&&5!==n.type)){var s=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,i,n,s),!s)return}}}},e}(),v={video:0,audio:1,id3:2,text:3},E=function(){function e(t,r,i,o){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.observer=t,this.config=i,this.typeSupported=o,this.remuxer=r,this.sampleAes=null}return e.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new b(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var r=e._syncOffset(t);return!(r<0)&&(r&&s.b.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),!0)},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),r=0;r<t;){if(71===e[r]&&71===e[r+188]&&71===e[r+376])return r;r++}return -1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:v[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},e.prototype.resetInitSegment=function(t,r,i,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",o),this._audioTrack=e.createTrack("audio",o),this._id3Track=e.createTrack("id3",o),this._txtTrack=e.createTrack("text",o),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=i,this._duration=o},e.prototype.resetTimeStamp=function(){},e.prototype.append=function(t,r,n,a){var l,d,c,p,u,f=t.length,h=!1;this.contiguous=n;var m=this.pmtParsed,y=this._avcTrack,g=this._audioTrack,b=this._id3Track,v=y.pid,E=g.pid,R=b.pid,A=this._pmtId,_=y.pesData,T=g.pesData,w=b.pesData,C=this._parsePAT,S=this._parsePMT,L=this._parsePES,k=this._parseAVCPES.bind(this),x=this._parseAACPES.bind(this),P=this._parseMPEGPES.bind(this),B=this._parseID3PES.bind(this),D=e._syncOffset(t);for(f-=(f+D)%188,l=D;l<f;l+=188)if(71===t[l]){if(d=!!(64&t[l+1]),c=((31&t[l+1])<<8)+t[l+2],(48&t[l+3])>>4>1){if((p=l+5+t[l+4])===l+188)continue}else p=l+4;switch(c){case v:d&&(_&&(u=L(_))&&k(u,!1),_={data:[],size:0}),_&&(_.data.push(t.subarray(p,l+188)),_.size+=l+188-p);break;case E:d&&(T&&(u=L(T))&&(g.isAAC?x(u):P(u)),T={data:[],size:0}),T&&(T.data.push(t.subarray(p,l+188)),T.size+=l+188-p);break;case R:d&&(w&&(u=L(w))&&B(u),w={data:[],size:0}),w&&(w.data.push(t.subarray(p,l+188)),w.size+=l+188-p);break;case 0:d&&(p+=t[p]+1),A=this._pmtId=C(t,p);break;case A:d&&(p+=t[p]+1);var O=S(t,p,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(v=O.avc)>0&&(y.pid=v),(E=O.audio)>0&&(g.pid=E,g.isAAC=O.isAAC),(R=O.id3)>0&&(b.pid=R),h&&!m&&(s.b.log("reparse from beginning"),h=!1,l=D-188),m=this.pmtParsed=!0;break;case 17:case 8191:break;default:h=!0}}else this.observer.trigger(i.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});_&&(u=L(_))?(k(u,!0),y.pesData=null):y.pesData=_,T&&(u=L(T))?(g.isAAC?x(u):P(u),g.pesData=null):(T&&T.size&&s.b.log("last AAC PES packet truncated,might overlap between fragments"),g.pesData=T),w&&(u=L(w))?(B(u),b.pesData=null):b.pesData=w,null==this.sampleAes?this.remuxer.remux(g,y,b,this._txtTrack,r,n,a):this.decryptAndRemux(g,y,b,this._txtTrack,r,n,a)},e.prototype.decryptAndRemux=function(e,t,r,i,o,n,s){if(e.samples&&e.isAAC){var a=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){a.decryptAndRemuxAvc(e,t,r,i,o,n,s)})}else this.decryptAndRemuxAvc(e,t,r,i,o,n,s)},e.prototype.decryptAndRemuxAvc=function(e,t,r,i,o,n,s){if(t.samples){var a=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){a.remuxer.remux(e,t,r,i,o,n,s)})}else this.remuxer.remux(e,t,r,i,o,n,s)},e.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e.prototype._parsePMT=function(e,t,r,i){var o,n,a,l,d={audio:-1,avc:-1,id3:-1,isAAC:!0};for(o=(15&e[t+1])<<8|e[t+2],n=t+3+o-4,a=(15&e[t+10])<<8|e[t+11],t+=12+a;t<n;){switch(l=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!i){s.b.log("unkown stream type:"+e[t]);break}case 15:-1===d.audio&&(d.audio=l);break;case 21:-1===d.id3&&(d.id3=l);break;case 219:if(!i){s.b.log("unkown stream type:"+e[t]);break}case 27:-1===d.avc&&(d.avc=l);break;case 3:case 4:r?-1===d.audio&&(d.audio=l,d.isAAC=!1):s.b.log("MPEG audio found, not supported in this browser for now");break;case 36:s.b.warn("HEVC stream type found, not supported for now");break;default:s.b.log("unkown stream type:"+e[t])}t+=((15&e[t+3])<<8|e[t+4])+5}return d},e.prototype._parsePES=function(e){var t,r,i,o,n,a,l,d,c=0,p=e.data;if(!e||0===e.size)return null;for(;p[0].length<19&&p.length>1;){var u=new Uint8Array(p[0].length+p[1].length);u.set(p[0]),u.set(p[1],p[0].length),p[0]=u,p.splice(1,1)}if(1!==((t=p[0])[0]<<16)+(t[1]<<8)+t[2]||(i=(t[4]<<8)+t[5])&&i>e.size-6)return null;192&(r=t[7])&&((a=(14&t[9])*0x20000000+(255&t[10])*4194304+(254&t[11])*16384+(255&t[12])*128+(254&t[13])/2)>0xffffffff&&(a-=0x200000000),64&r?((l=(14&t[14])*0x20000000+(255&t[15])*4194304+(254&t[16])*16384+(255&t[17])*128+(254&t[18])/2)>0xffffffff&&(l-=0x200000000),a-l>60*9e4&&(s.b.warn(Math.round((a-l)/9e4)+"s delta between PTS and DTS, align them"),a=l)):l=a),d=(o=t[8])+9,e.size-=d,n=new Uint8Array(e.size);for(var f=0,h=p.length;f<h;f++){var m=(t=p[f]).byteLength;if(d)if(d>m){d-=m;continue}else t=t.subarray(d),m-=d,d=0;n.set(t,c),c+=m}return i&&(i-=o+3),{data:n,pts:a,dts:l,len:i}},e.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var r=t.samples,i=r.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(i||this.contiguous)?(e.id=i,r.push(e)):t.dropped++}e.debug.length&&s.b.log(e.pts+"/"+e.dts+":"+e.debug)},e.prototype._parseAVCPES=function(e,t){var r,i,o,n=this,s=this._avcTrack,a=this._parseAVCNALu(e.data),l=this.avcSample,d=!1,c=this.pushAccesUnit.bind(this),p=function(e,t,r,i){return{key:e,pts:t,dts:r,units:[],debug:i}};e.data=null,l&&a.length&&!s.audFound&&(c(l,s),l=this.avcSample=p(!1,e.pts,e.dts,"")),a.forEach(function(t){switch(t.type){case 1:i=!0,l||(l=n.avcSample=p(!0,e.pts,e.dts,"")),l.frame=!0;var a=t.data;if(d&&a.length>4){var u=new g(a).readSliceType();(2===u||4===u||7===u||9===u)&&(l.key=!0)}break;case 5:i=!0,l||(l=n.avcSample=p(!0,e.pts,e.dts,"")),l.key=!0,l.frame=!0;break;case 6:i=!0,(r=new g(n.discardEPB(t.data))).readUByte();for(var f=0,h=0,m=!1,y=0;!m&&r.bytesAvailable>1;){f=0;do f+=y=r.readUByte();while(255===y)h=0;do h+=y=r.readUByte();while(255===y)if(4===f&&0!==r.bytesAvailable){if(m=!0,181===r.readUByte()&&49===r.readUShort()&&0x47413934===r.readUInt()&&3===r.readUByte()){var b=r.readUByte(),v=r.readUByte(),E=31&b,R=[b,v];for(o=0;o<E;o++)R.push(r.readUByte()),R.push(r.readUByte()),R.push(r.readUByte());n._insertSampleInOrder(n._txtTrack.samples,{type:3,pts:e.pts,bytes:R})}}else if(h<r.bytesAvailable)for(o=0;o<h;o++)r.readUByte()}break;case 7:if(i=!0,d=!0,!s.sps){var A=(r=new g(t.data)).readSPS();s.width=A.width,s.height=A.height,s.pixelRatio=A.pixelRatio,s.sps=[t.data],s.duration=n._duration;var _=t.data.subarray(1,4),T="avc1.";for(o=0;o<3;o++){var w=_[o].toString(16);w.length<2&&(w="0"+w),T+=w}s.codec=T}break;case 8:i=!0,s.pps||(s.pps=[t.data]);break;case 9:i=!1,s.audFound=!0,l&&c(l,s),l=n.avcSample=p(!1,e.pts,e.dts,"");break;case 12:i=!1;break;default:i=!1,l&&(l.debug+="unknown NAL "+t.type+" ")}l&&i&&l.units.push(t)}),t&&l&&(c(l,s),this.avcSample=null)},e.prototype._insertSampleInOrder=function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var i=r-1;i>=0;i--)if(t.pts<e[i].pts){e.splice(i,0,t);break}}else e.push(t)},e.prototype._getLastNalUnit=function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.length){var r=this._avcTrack.samples;e=r[r.length-1]}if(e){var i=e.units;t=i[i.length-1]}return t},e.prototype._parseAVCNALu=function(e){var t,r,i,o,n,s=0,a=e.byteLength,l=this._avcTrack,d=l.naluState||0,c=d,p=[],u=-1;for(-1===d&&(u=0,n=31&e[0],d=0,s=1);s<a;){if(t=e[s++],!d){d=+!t;continue}if(1===d){d=2*!t;continue}if(t)if(1===t){if(u>=0)i={data:e.subarray(u,s-d-1),type:n},p.push(i);else{var f=this._getLastNalUnit();if(f&&(c&&s<=4-c&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-c)),(r=s-d-1)>0)){var h=new Uint8Array(f.data.byteLength+r);h.set(f.data,0),h.set(e.subarray(0,r),f.data.byteLength),f.data=h}}s<a?(o=31&e[s],u=s,n=o,d=0):d=-1}else d=0;else d=3}if(u>=0&&d>=0&&(i={data:e.subarray(u,a),type:n,state:d},p.push(i)),0===p.length){var m=this._getLastNalUnit();if(m){var y=new Uint8Array(m.data.byteLength+e.byteLength);y.set(m.data,0),y.set(e,m.data.byteLength),m.data=y}}return l.naluState=d,p},e.prototype.discardEPB=function(e){for(var t,r,i=e.byteLength,o=[],n=1;n<i-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(o.push(n+2),n+=2):n++;if(0===o.length)return e;r=new Uint8Array(t=i-o.length);var s=0;for(n=0;n<t;s++,n++)s===o[0]&&(s++,o.shift()),r[n]=e[s];return r},e.prototype._parseAACPES=function(e){var t,r,n,a,l,d,f,h=this._audioTrack,m=e.data,y=e.pts,g=this.aacOverFlow,b=this.aacLastPTS;if(g){var v=new Uint8Array(g.byteLength+m.byteLength);v.set(g,0),v.set(m,g.byteLength),m=v}for(l=0,f=m.length;l<f-1&&!c(m,l);l++);if(!l||(l<f-1?(t="AAC PES did not start with ADTS header,offset:"+l,r=!1):(t="no ADTS header found in AAC PES",r=!0),s.b.warn("parsing error:"+t),this.observer.trigger(i.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.FRAG_PARSING_ERROR,fatal:r,reason:t}),!r)){if(p(h,this.observer,m,l,this.audioCodec),a=0,n=9216e4/h.samplerate,g&&b){var E=b+n;Math.abs(E-y)>1&&(s.b.log("AAC: align PTS for overlapping frames by "+Math.round((E-y)/90)),y=E)}for(;l<f;)if(c(m,l)&&l+5<f){var R=u(h,m,l,y,a);if(R)l+=R.length,d=R.sample.pts,a++;else break}else l++;g=l<f?m.subarray(l,f):null,this.aacOverFlow=g,this.aacLastPTS=d}},e.prototype._parseMPEGPES=function(e){for(var t=e.data,r=t.length,i=0,o=0,n=e.pts;o<r;)if(y.isHeader(t,o)){var s=y.appendFrame(this._audioTrack,t,o,n,i);if(s)o+=s.length,i++;else break}else o++},e.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},e}(),R=function(){function e(t,r,i){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.observer=t,this.config=i,this.remuxer=r}return e.prototype.resetInitSegment=function(e,t,r,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:i,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){var t,r,i=f.a.getID3Data(e,0);if(i&&void 0!==f.a.getTimeStamp(i)){for(t=i.length,r=Math.min(e.length-1,t+100);t<r;t++)if(y.probe(e,t))return s.b.log("MPEG Audio sync word found !"),!0}return!1},e.prototype.append=function(e,t,r,i){for(var o=f.a.getID3Data(e,0),n=f.a.getTimeStamp(o),s=n?90*n:9e4*t,a=o.length,l=e.length,d=0,c=0,p=this._audioTrack,u=[{pts:s,dts:s,data:o}];a<l;)if(y.isHeader(e,a)){var h=y.appendFrame(p,e,a,s,d);if(h)a+=h.length,c=h.sample.pts,d++;else break}else f.a.isHeader(e,a)?(o=f.a.getID3Data(e,a),u.push({pts:c,dts:c,data:o}),a+=o.length):a++;this.remuxer.remux(p,{samples:[]},{samples:u,inputTimeScale:9e4},{samples:[]},t,r,i)},e.prototype.destroy=function(){},e}(),A=function(){function e(){if(!(this instanceof e))throw TypeError("Cannot call a class as a function")}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t||3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),_=function(){function e(){if(!(this instanceof e))throw TypeError("Cannot call a class as a function")}return e.init=function(){for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);e.HDLR_TYPES={video:new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),audio:new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0])};var t,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);e.STTS=e.STSC=e.STCO=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var i=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),n=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,i,n,i,o),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,r))},e.box=function(e){for(var t,r=Array.prototype.slice.call(arguments,1),i=8,o=r.length,n=o;o--;)i+=r[o].byteLength;for((t=new Uint8Array(i))[0]=i>>24&255,t[1]=i>>16&255,t[2]=i>>8&255,t[3]=255&i,t.set(e,4),o=0,i=8;o<n;o++)t.set(r[o],i),i+=r[o].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){var i=Math.floor((r*=t)/0x100000000),o=Math.floor(r%0x100000000);return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,i){return e.box(e.types.moof,e.mfhd(t),e.traf(i,r))},e.moov=function(t){for(var r=t.length,i=[];r--;)i[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(i).concat(e.mvex(t)))},e.mvex=function(t){for(var r=t.length,i=[];r--;)i[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(i))},e.mvhd=function(t,r){var i=Math.floor((r*=t)/0x100000000),o=Math.floor(r%0x100000000),n=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,n)},e.sdtp=function(t){var r,i,o=t.samples||[],n=new Uint8Array(4+o.length);for(i=0;i<o.length;i++)r=o[i].flags,n[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,n)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,i,o,n=[],s=[];for(r=0;r<t.sps.length;r++)o=(i=t.sps[r]).byteLength,n.push(o>>>8&255),n.push(255&o),n=n.concat(Array.prototype.slice.call(i));for(r=0;r<t.pps.length;r++)o=(i=t.pps[r]).byteLength,s.push(o>>>8&255),s.push(255&o),s=s.concat(Array.prototype.slice.call(i));var a=e.box(e.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|t.sps.length].concat(n).concat([t.pps.length]).concat(s))),l=t.width,d=t.height,c=t.pixelRatio[0],p=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,d>>8&255,255&d,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,p>>24,p>>16&255,p>>8&255,255&p])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,i=t.duration*t.timescale,o=t.width,n=t.height,s=Math.floor(i/0x100000000),a=Math.floor(i%0x100000000);return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,n>>8&255,255&n,0,0]))},e.traf=function(t,r){var i=e.sdtp(t),o=t.id,n=Math.floor(r/0x100000000),s=Math.floor(r%0x100000000);return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,i.length+16+20+8+16+8+8),i)},e.trak=function(t){return t.duration=t.duration||0xffffffff,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var i,o,n,s,a,l,d=t.samples||[],c=d.length,p=12+16*c,u=new Uint8Array(p);for(r+=8+p,u.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),i=0;i<c;i++)n=(o=d[i]).duration,s=o.size,a=o.flags,l=o.cts,u.set([n>>>24&255,n>>>16&255,n>>>8&255,255&n,s>>>24&255,s>>>16&255,s>>>8&255,255&s,a.isLeading<<2|a.dependsOn,a.isDependedOn<<6|a.hasRedundancy<<4|a.paddingValue<<1|a.isNonSync,61440&a.degradPrio,15&a.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return e.box(e.types.trun,u)},e.initSegment=function(t){e.types||e.init();var r,i=e.moov(t);return(r=new Uint8Array(e.FTYP.byteLength+i.byteLength)).set(e.FTYP),r.set(i,e.FTYP.byteLength),r},e}(),T=function(){function e(t,r,i,o){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.observer=t,this.config=r,this.typeSupported=i;var n=navigator.userAgent;this.isSafari=o&&o.indexOf("Apple")>-1&&n&&!n.match("CriOS"),this.ISGenerated=!1}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},e.prototype.resetInitSegment=function(){this.ISGenerated=!1},e.prototype.remux=function(e,t,r,o,n,a,l){if(this.ISGenerated||this.generateIS(e,t,n),this.ISGenerated){var d=e.samples.length,c=t.samples.length,p=n,u=n;if(d&&c){var f=(e.samples[0].dts-t.samples[0].dts)/t.inputTimeScale;p+=Math.max(0,f),u+=Math.max(0,-f)}if(d){e.timescale||(s.b.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,n));var h=this.remuxAudio(e,p,a,l);if(c){var m=void 0;h&&(m=h.endPTS-h.startPTS),t.timescale||(s.b.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,n)),this.remuxVideo(t,u,a,m,l)}}else{var y=void 0;c&&(y=this.remuxVideo(t,u,a,l)),y&&e.codec&&this.remuxEmptyAudio(e,p,a,y)}}r.samples.length&&this.remuxID3(r,n),o.samples.length&&this.remuxText(o,n),this.observer.trigger(i.a.FRAG_PARSED)},e.prototype.generateIS=function(e,t,r){var n,a,l=this.observer,d=e.samples,c=t.samples,p=this.typeSupported,u="audio/mp4",f={},h=void 0===this._initPTS;if(h&&(n=a=1/0),e.config&&d.length&&(e.timescale=e.samplerate,s.b.log("audio sampling rate : "+e.samplerate),e.isAAC||(p.mpeg?(u="audio/mpeg",e.codec=""):p.mp3&&(e.codec="mp3")),f.audio={container:u,codec:e.codec,initSegment:!e.isAAC&&p.mpeg?new Uint8Array:_.initSegment([e]),metadata:{channelCount:e.channelCount}},h&&(n=a=d[0].pts-e.inputTimeScale*r)),t.sps&&t.pps&&c.length){var m=t.inputTimeScale;t.timescale=m,f.video={container:"video/mp4",codec:t.codec,initSegment:_.initSegment([t]),metadata:{width:t.width,height:t.height}},h&&(n=Math.min(n,c[0].pts-m*r),a=Math.min(a,c[0].dts-m*r),this.observer.trigger(i.a.INIT_PTS_FOUND,{initPTS:n}))}Object.keys(f).length?(l.trigger(i.a.FRAG_PARSING_INIT_SEGMENT,{tracks:f}),this.ISGenerated=!0,h&&(this._initPTS=n,this._initDTS=a)):l.trigger(i.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.prototype.remuxVideo=function(e,t,r,n,a){var l,d,c,p,u,f,h,m=8,y=e.timescale,g=e.samples,b=[],v=g.length,E=this._PTSNormalize,R=this._initDTS,A=this.nextAvcDts,T=this.isSafari;T&&(r|=g.length&&A&&(a&&.1>Math.abs(t-A/y)||Math.abs(g[0].pts-A-R)<y/5)),r||(A=t*y),g.forEach(function(e){e.pts=E(e.pts-R,A),e.dts=E(e.dts-R,A)}),g.sort(function(e,t){var r=e.dts-t.dts,i=e.pts-t.pts;return r||i||e.id-t.id});var w=g.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(w<0){s.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(w/90)+" ms to overcome this issue");for(var C=0;C<g.length;C++)g[C].dts+=w}var S=g[0];u=Math.max(S.dts,0),p=Math.max(S.pts,0);var L=Math.round((u-A)/90);r&&L&&(L>1?s.b.log("AVC:"+L+" ms hole between fragments detected,filling it"):L<-1&&s.b.log("AVC:"+-L+" ms overlapping between fragments detected"),u=A,g[0].dts=u,p=Math.max(p-L,A),g[0].pts=p,s.b.log("Video/PTS/DTS adjusted: "+Math.round(p/90)+"/"+Math.round(u/90)+",delta:"+L+" ms")),h=Math.max((S=g[g.length-1]).dts,0),f=Math.max(S.pts,0,h),T&&(l=Math.round((h-u)/(g.length-1)));for(var k=0,x=0,P=0;P<v;P++){for(var B=g[P],D=B.units,O=D.length,U=0,I=0;I<O;I++)U+=D[I].data.length;x+=U,k+=O,B.length=U,T?B.dts=u+P*l:B.dts=Math.max(B.dts,u),B.pts=Math.max(B.pts,B.dts)}var K=x+4*k+8;try{d=new Uint8Array(K)}catch{this.observer.trigger(i.a.ERROR,{type:o.b.MUX_ERROR,details:o.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:K,reason:"fail allocating video mdat "+K});return}var j=new DataView(d.buffer);j.setUint32(0,K),d.set(_.types.mdat,4);for(var M=0;M<v;M++){for(var N=g[M],V=N.units,F=0,G=void 0,q=0,$=V.length;q<$;q++){var z=V[q],X=z.data,H=z.data.byteLength;j.setUint32(m,H),m+=4,d.set(X,m),m+=H,F+=4+H}if(T)G=Math.max(0,l*Math.round((N.pts-N.dts)/l));else{if(M<v-1)l=g[M+1].dts-N.dts;else{var Z=this.config,W=N.dts-g[M>0?M-1:M].dts;if(Z.stretchShortVideoTrack){var Y=Math.floor(Math.min(Z.maxBufferHole,Z.maxSeekHole)*y),Q=(n?p+n*y:this.nextAudioPts)-N.pts;Q>Y?((l=Q-W)<0&&(l=W),s.b.log("It is approximately "+Q/90+" ms to the next segment; using duration "+l/90+" ms for the last video frame.")):l=W}else l=W}G=Math.round(N.pts-N.dts)}b.push({size:F,duration:l,cts:G,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:N.key?2:1,isNonSync:+!N.key}})}this.nextAvcDts=h+l;var J=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,b.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var ee=b[0].flags;ee.dependsOn=2,ee.isNonSync=0}e.samples=b,c=_.moof(e.sequenceNumber++,u,e),e.samples=[];var et={data1:c,data2:d,startPTS:p/y,endPTS:(f+l)/y,startDTS:u/y,endDTS:this.nextAvcDts/y,type:"video",nb:b.length,dropped:J};return this.observer.trigger(i.a.FRAG_PARSING_DATA,et),et},e.prototype.remuxAudio=function(e,t,r,n){var a,l,d,c,p,u,f,h=e.inputTimeScale,m=h/e.timescale,y=(e.isAAC?1024:1152)*m,g=this._PTSNormalize,b=this._initDTS,v=!e.isAAC&&this.typeSupported.mpeg,E=e.samples,R=[],T=this.nextAudioPts;if(r|=E.length&&T&&(n&&.1>Math.abs(t-T/h)||Math.abs(E[0].pts-T-b)<20*y),E.forEach(function(e){e.pts=e.dts=g(e.pts-b,t*h)}),0!==(E=E.filter(function(e){return e.pts>=0})).length){if(r||(T=n?t*h:E[0].pts),e.isAAC)for(var w=this.config.maxAudioFramesDrift,C=0,S=T;C<E.length;){var L,k=E[C],x=Math.abs(1e3*(L=k.pts-S)/h);if(L<=-w*y)s.b.warn("Dropping 1 audio frame @ "+(S/h).toFixed(3)+"s due to "+Math.round(x)+" ms overlap."),E.splice(C,1),e.len-=k.unit.length;else if(L>=w*y&&x<1e4&&S){var P=Math.round(L/y);s.b.warn("Injecting "+P+" audio frame @ "+(S/h).toFixed(3)+"s due to "+Math.round(1e3*L/h)+" ms gap.");for(var B=0;B<P;B++){var D=Math.max(S,0);(d=A.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),d=k.unit.subarray()),E.splice(C,0,{unit:d,pts:D,dts:D}),e.len+=d.length,S+=y,C++}k.pts=k.dts=S,S+=y,C++}else k.pts=k.dts=S,S+=y,C++}for(var O=0,U=E.length;O<U;O++){var I=E[O],K=I.unit,j=I.pts;if(void 0!==f)l.duration=Math.round((j-f)/m);else{var M=Math.round(1e3*(j-T)/h),N=0;if(r&&e.isAAC&&M){if(M>0&&M<1e4)N=Math.round((j-T)/y),s.b.log(M+" ms hole between AAC samples detected,filling it"),N>0&&((d=A.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(d=K.subarray()),e.len+=N*d.length);else if(M<-12){s.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(T/h).toFixed(3)+"s/"+(j/h).toFixed(3)+"s/"+-M+"ms"),e.len-=K.byteLength;continue}j=T}if(u=j,!(e.len>0))return;var V=v?e.len:e.len+8;a=8*!v;try{c=new Uint8Array(V)}catch{this.observer.trigger(i.a.ERROR,{type:o.b.MUX_ERROR,details:o.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:V,reason:"fail allocating audio mdat "+V});return}v||(new DataView(c.buffer).setUint32(0,V),c.set(_.types.mdat,4));for(var F=0;F<N;F++)(d=A.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),d=K.subarray()),c.set(d,a),a+=d.byteLength,l={size:d.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},R.push(l)}c.set(K,a);var G=K.byteLength;a+=G,l={size:G,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},R.push(l),f=j}var q=0,$=R.length;if($>=2&&(q=R[$-2].duration,l.duration=q),$){this.nextAudioPts=T=f+m*q,e.len=0,e.samples=R,p=v?new Uint8Array:_.moof(e.sequenceNumber++,u/m,e),e.samples=[];var z=u/h,X=T/h,H={data1:p,data2:c,startPTS:z,endPTS:X,startDTS:z,endDTS:X,type:"audio",nb:$};return this.observer.trigger(i.a.FRAG_PARSING_DATA,H),H}return null}},e.prototype.remuxEmptyAudio=function(e,t,r,i){var o=e.inputTimeScale,n=e.samplerate?e.samplerate:o,a=this.nextAudioPts,l=(void 0!==a?a:i.startDTS*o)+this._initDTS,d=i.endDTS*o+this._initDTS,c=o/n*1024,p=Math.ceil((d-l)/c),u=A.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(s.b.warn("remux empty Audio"),!u)return void s.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var f=[],h=0;h<p;h++){var m=l+h*c;f.push({unit:u,pts:m,dts:m}),e.len+=u.length}e.samples=f,this.remuxAudio(e,t,r)},e.prototype.remuxID3=function(e,t){var r,o=e.samples.length,n=e.inputTimeScale,s=this._initPTS,a=this._initDTS;if(o){for(var l=0;l<o;l++)(r=e.samples[l]).pts=(r.pts-s)/n,r.dts=(r.dts-a)/n;this.observer.trigger(i.a.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},e.prototype.remuxText=function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var r,o=e.samples.length,n=e.inputTimeScale,s=this._initPTS;if(o){for(var a=0;a<o;a++)(r=e.samples[a]).pts=(r.pts-s)/n;this.observer.trigger(i.a.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},e.prototype._PTSNormalize=function(e,t){var r;if(void 0===t)return e;for(r=t<e?-0x200000000:0x200000000;Math.abs(e-t)>0x100000000;)e+=r;return e},e}(),w=function(){function e(t){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.observer=t}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(){},e.prototype.resetInitSegment=function(){},e.prototype.remux=function(e,t,r,o,n,s,a,l){var d=this.observer,c="";e&&(c+="audio"),t&&(c+="video"),d.trigger(i.a.FRAG_PARSING_DATA,{data1:l,startPTS:n,startDTS:n,type:c,nb:1,dropped:0}),d.trigger(i.a.FRAG_PARSED)},e}();t.a=function(){function e(t,r,i,o){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.observer=t,this.typeSupported=r,this.config=i,this.vendor=o}return e.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},e.prototype.push=function(e,t,r,o,s,a,l,d,c,p,u,f){if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var h=this.decrypter;null==h&&(h=this.decrypter=new n.a(this.observer,this.config));var m,y=this;try{m=performance.now()}catch{m=Date.now()}h.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var n;try{n=performance.now()}catch{n=Date.now()}y.observer.trigger(i.a.FRAG_DECRYPTED,{stats:{tstart:m,tdecrypt:n}}),y.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),o,s,a,l,d,c,p,u,f)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),o,s,a,l,d,c,p,u,f)},e.prototype.pushDecrypted=function(e,t,r,n,s,a,l,d,c,p,u,f){var y=this.demuxer;if(!y||l&&!this.probe(e)){for(var g=this.observer,b=this.typeSupported,v=this.config,A=[{demux:E,remux:T},{demux:m,remux:w},{demux:h,remux:T},{demux:R,remux:T}],_=0,C=A.length;_<C;_++){var S=A[_],L=S.demux.probe;if(L(e)){var k=this.remuxer=new S.remux(g,v,b,this.vendor);y=new S.demux(g,k,v,b),this.probe=L;break}}if(!y)return void g.trigger(i.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=y}var x=this.remuxer;(l||d)&&(y.resetInitSegment(r,n,s,p),x.resetInitSegment()),l&&(y.resetTimeStamp(f),x.resetTimeStamp(f)),"function"==typeof y.setDecryptData&&y.setDecryptData(t),y.append(e,a,c,u)},e}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i={};r.d(i,"newCue",function(){return eF});var o=r(6),n=r.n(o),s=r(1),a=r(2),l=r(0),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(t){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];this.handledEvents=i,this.useGenericHandler=!0,this.registerListeners()}return e.prototype.destroy=function(){this.unregisterListeners()},e.prototype.isEventHandler=function(){return"object"===d(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},e.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if("hlsEventGeneric"===e)throw Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)},this)},e.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},e.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},e.prototype.onEventGeneric=function(e,t){try{(function(e,t){var r="on"+e.replace("hls","");if("function"!=typeof this[r])throw Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)}).call(this,e,t).call()}catch(t){l.b.error("internal error happened while processing "+e+":"+t.message),this.hls.trigger(s.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}(),p=/^(\d+)x(\d+)$/,u=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,f=function(){function e(t){for(var r in function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e),"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(r)&&(this[r]=t[r])}return e.prototype.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},e.prototype.hexadecimalInteger=function(e){if(!this[e])return null;var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),i=0;i<t.length/2;i++)r[i]=parseInt(t.slice(2*i,2*i+2),16);return r},e.prototype.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},e.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},e.prototype.enumeratedString=function(e){return this[e]},e.prototype.decimalResolution=function(e){var t=p.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,r={};for(u.lastIndex=0;null!==(t=u.exec(e));){var i=t[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),r[t[1]]=i}return r},e}(),h={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function m(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();function g(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}var b=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,v=/#EXT-X-MEDIA:(.*)/g,E=RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),R=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,A=function(){function e(){g(this,e),this.method=null,this.key=null,this.iv=null,this._uri=null}return y(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=n.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),e}(),_=function(){function e(){g(this,e),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return e.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t},e.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&((r=new A).method=e.method,r.baseuri=e.baseuri,r.reluri=e.reluri,r.iv=this.createInitializationVector(t)),r},e.prototype.cloneObj=function(e){return JSON.parse(JSON.stringify(e))},y(e,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=n.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var e=this._byteRange=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var r=this.lastByteRangeEndOffset;e[0]=r||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),e}(),T=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){g(this,t);var i=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.MANIFEST_LOADING,s.a.LEVEL_LOADING,s.a.AUDIO_TRACK_LOADING,s.a.SUBTITLE_TRACK_LOADING));return i.loaders={},i}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},c.prototype.destroy.call(this)},t.prototype.onManifestLoading=function(e){this.load(e.url,{type:"manifest"})},t.prototype.onLevelLoading=function(e){this.load(e.url,{type:"level",level:e.level,id:e.id})},t.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:"audioTrack",id:e.id})},t.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:"subtitleTrack",id:e.id})},t.prototype.load=function(e,t){var r=this.loaders[t.type];if(void 0!==r){var i=r.context;if(i&&i.url===e)return void l.b.trace("playlist request ongoing");l.b.warn("abort previous loader for type:"+t.type),r.abort()}var o=this.hls.config,n=void 0,s=void 0,a=void 0,d=void 0;"manifest"===t.type?(n=o.manifestLoadingMaxRetry,s=o.manifestLoadingTimeOut,a=o.manifestLoadingRetryDelay,d=o.manifestLoadingMaxRetryTimeout):"level"===t.type?(n=0,s=o.levelLoadingTimeOut):(n=o.levelLoadingMaxRetry,s=o.levelLoadingTimeOut,a=o.levelLoadingRetryDelay,d=o.levelLoadingMaxRetryTimeout,l.b.log("loading playlist for "+t.type+" "+(t.level||t.id))),r=this.loaders[t.type]=t.loader="u">typeof o.pLoader?new o.pLoader(o):new o.loader(o),t.url=e,t.responseType="";var c=void 0,p=void 0;c={timeout:s,maxRetry:n,retryDelay:a,maxRetryDelay:d},p={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},r.load(t,c,p)},t.prototype.resolve=function(e,t){return n.a.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},t.prototype.parseMasterPlaylist=function(e,t){var r=[],i=void 0;for(b.lastIndex=0;null!=(i=b.exec(e));){var o={},n=o.attrs=new f(i[1]);o.url=this.resolve(i[2],t);var s=n.decimalResolution("RESOLUTION");s&&(o.width=s.width,o.height=s.height),o.bitrate=n.decimalInteger("AVERAGE-BANDWIDTH")||n.decimalInteger("BANDWIDTH"),o.name=n.NAME,function(e,t){["video","audio"].forEach(function(r){var i=e.filter(function(e){var t;return!!(t=h[r])&&!0===t[e.slice(0,4)]});if(i.length){var o=i.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)});t[r+"Codec"]=o.length>0?o[0]:i[0],e=e.filter(function(e){return -1===i.indexOf(e)})}}),t.unknownCodecs=e}([].concat((n.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=this.avc1toavcoti(o.videoCodec)),r.push(o)}return r},t.prototype.parseMasterPlaylistMedia=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=void 0,n=[],s=0;for(v.lastIndex=0;null!==(o=v.exec(e));){var a={},l=new f(o[1]);if(l.TYPE===r){if(a.groupId=l["GROUP-ID"],a.name=l.NAME,a.type=r,a.default="YES"===l.DEFAULT,a.autoselect="YES"===l.AUTOSELECT,a.forced="YES"===l.FORCED,l.URI&&(a.url=this.resolve(l.URI,t)),a.lang=l.LANGUAGE,a.name||(a.name=a.lang),i.length){var d=function(e,t){if(!e)return null;for(var r=null,i=0;i<e.length;i++){var o=e[i];o.id===t&&(r=o)}return r}(i,a.groupId);a.audioCodec=d?d.codec:i[0].codec}a.id=s++,n.push(a)}}return n},t.prototype.avc1toavcoti=function(e){var t=e.split(".");return t.length>2?t.shift()+"."+parseInt(t.shift()).toString(16)+("000"+parseInt(t.shift()).toString(16)).substr(-4):e},t.prototype.parseLevelPlaylist=function(e,t,r,i){var o,n,s=0,a=0,d={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},c=new A,p=0,u=null,h=new _;for(E.lastIndex=0;null!==(o=E.exec(e));){var m=o[1];if(m){h.duration=parseFloat(m);var y=(" "+o[2]).slice(1);h.title=y||null,h.tagList.push(y?["INF",m,y]:["INF",m])}else if(o[3]){if(!isNaN(h.duration)){var g=s++;h.type=i,h.start=a,h.levelkey=c,h.sn=g,h.level=r,h.cc=p,h.baseurl=t,h.relurl=(" "+o[3]).slice(1),d.fragments.push(h),u=h,a+=h.duration,h=new _}}else if(o[4]){if(h.rawByteRange=(" "+o[4]).slice(1),u){var b=u.byteRangeEndOffset;b&&(h.lastByteRangeEndOffset=b)}}else if(o[5])h.rawProgramDateTime=(" "+o[5]).slice(1),h.tagList.push(["PROGRAM-DATE-TIME",h.rawProgramDateTime]),void 0===d.programDateTime&&(d.programDateTime=new Date(new Date(Date.parse(o[5]))-1e3*a));else{for(o=o[0].match(R),n=1;n<o.length&&void 0===o[n];n++);var v=(" "+o[n+1]).slice(1),T=(" "+o[n+2]).slice(1);switch(o[n]){case"#":h.tagList.push(T?[v,T]:[v]);break;case"PLAYLIST-TYPE":d.type=v.toUpperCase();break;case"MEDIA-SEQUENCE":s=d.startSN=parseInt(v);break;case"TARGETDURATION":d.targetduration=parseFloat(v);break;case"VERSION":d.version=parseInt(v);break;case"EXTM3U":break;case"ENDLIST":d.live=!1;break;case"DIS":p++,h.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":p=parseInt(v);break;case"KEY":var w=new f(v),C=w.enumeratedString("METHOD"),S=w.URI,L=w.hexadecimalInteger("IV");C&&(c=new A,S&&["AES-128","SAMPLE-AES"].indexOf(C)>=0&&(c.method=C,c.baseuri=t,c.reluri=S,c.key=null,c.iv=L));break;case"START":var k=new f(v).decimalFloatingPoint("TIME-OFFSET");isNaN(k)||(d.startTimeOffset=k);break;case"MAP":var x=new f(v);h.relurl=x.URI,h.rawByteRange=x.BYTERANGE,h.baseurl=t,h.level=r,h.type=i,h.sn="initSegment",d.initSegment=h,h=new _;break;default:l.b.warn("line parsed but not handled: "+o)}}}return(h=u)&&!h.relurl&&(d.fragments.pop(),a-=h.duration),d.totalduration=a,d.averagetargetduration=a/d.fragments.length,d.endSN=s-1,d.startCC=d.fragments[0]?d.fragments[0].cc:0,d.endCC=p,d},t.prototype.loadsuccess=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.data,n=e.url,d=r.type,c=r.id,p=r.level,u=this.hls;if(this.loaders[d]=void 0,(void 0===n||0===n.indexOf("data:"))&&(n=r.url),t.tload=performance.now(),0===o.indexOf("#EXTM3U"))if(o.indexOf("#EXTINF:")>0){var f=isNaN(p)?isNaN(c)?0:c:p,h=this.parseLevelPlaylist(o,n,f,"audioTrack"===d?"audio":"subtitleTrack"===d?"subtitle":"main");h.tload=t.tload,"manifest"===d&&u.trigger(s.a.MANIFEST_LOADED,{levels:[{url:n,details:h}],audioTracks:[],url:n,stats:t,networkDetails:i}),t.tparsed=performance.now(),h.targetduration?"audioTrack"!==d&&"subtitleTrack"!==d?u.trigger(s.a.LEVEL_LOADED,{details:h,level:p||0,id:c||0,stats:t,networkDetails:i}):"audioTrack"===d?u.trigger(s.a.AUDIO_TRACK_LOADED,{details:h,id:c,stats:t,networkDetails:i}):"subtitleTrack"===d&&u.trigger(s.a.SUBTITLE_TRACK_LOADED,{details:h,id:c,stats:t,networkDetails:i}):u.trigger(s.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.MANIFEST_PARSING_ERROR,fatal:!0,url:n,reason:"invalid targetduration",networkDetails:i})}else{var m=this.parseMasterPlaylist(o,n);if(m.length){var y=m.map(function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}}),g=this.parseMasterPlaylistMedia(o,n,"AUDIO",y),b=this.parseMasterPlaylistMedia(o,n,"SUBTITLES");if(g.length){var v=!1;g.forEach(function(e){e.url||(v=!0)}),!1===v&&m[0].audioCodec&&!m[0].attrs.AUDIO&&(l.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main"}))}u.trigger(s.a.MANIFEST_LOADED,{levels:m,audioTracks:g,subtitles:b,url:n,stats:t,networkDetails:i})}else u.trigger(s.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.MANIFEST_PARSING_ERROR,fatal:!0,url:n,reason:"no level found in manifest",networkDetails:i})}else u.trigger(s.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.MANIFEST_PARSING_ERROR,fatal:!0,url:n,reason:"no EXTM3U delimiter",networkDetails:i})},t.prototype.loaderror=function(e,t){var r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t.loader;switch(t.type){case"manifest":r=a.a.MANIFEST_LOAD_ERROR,i=!0;break;case"level":r=a.a.LEVEL_LOAD_ERROR,i=!1;break;case"audioTrack":r=a.a.AUDIO_TRACK_LOAD_ERROR,i=!1}n&&(n.abort(),this.loaders[t.type]=void 0),this.hls.trigger(s.a.ERROR,{type:a.b.NETWORK_ERROR,details:r,fatal:i,url:n.url,loader:n,response:e,context:t,networkDetails:o})},t.prototype.loadtimeout=function(e,t){var r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t.loader;switch(t.type){case"manifest":r=a.a.MANIFEST_LOAD_TIMEOUT,i=!0;break;case"level":r=a.a.LEVEL_LOAD_TIMEOUT,i=!1;break;case"audioTrack":r=a.a.AUDIO_TRACK_LOAD_TIMEOUT,i=!1}n&&(n.abort(),this.loaders[t.type]=void 0),this.hls.trigger(s.a.ERROR,{type:a.b.NETWORK_ERROR,details:r,fatal:i,url:n.url,loader:n,context:t,networkDetails:o})},t}(c),w=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var i=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.FRAG_LOADING));return i.loaders={},i}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype.destroy=function(){var e=this.loaders;for(var t in e){var r=e[t];r&&r.destroy()}this.loaders={},c.prototype.destroy.call(this)},t.prototype.onFragLoading=function(e){var t=e.frag,r=t.type,i=this.loaders[r],o=this.hls.config;t.loaded=0,i&&(l.b.warn("abort previous fragment loader for type:"+r),i.abort()),i=this.loaders[r]=t.loader="u">typeof o.fLoader?new o.fLoader(o):new o.loader(o);var n=void 0,s=void 0,a=void 0;n={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var d=t.byteRangeStartOffset,c=t.byteRangeEndOffset;isNaN(d)||isNaN(c)||(n.rangeStart=d,n.rangeEnd=c),s={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout},a={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},i.load(n,s,a)},t.prototype.loadsuccess=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.data,n=r.frag;n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(s.a.FRAG_LOADED,{payload:o,frag:n,stats:t,networkDetails:i})},t.prototype.loaderror=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=t.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(s.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:r})},t.prototype.loadtimeout=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=t.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(s.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:r})},t.prototype.loadprogress=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=t.frag;o.loaded=e.loaded,this.hls.trigger(s.a.FRAG_LOAD_PROGRESS,{frag:o,stats:e,networkDetails:i})},t}(c),C=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var i=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.KEY_LOADING));return i.loaders={},i.decryptkey=null,i.decrypturl=null,i}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},c.prototype.destroy.call(this)},t.prototype.onKeyLoading=function(e){var t=e.frag,r=t.type,i=this.loaders[r],o=t.decryptdata,n=o.uri;if(n!==this.decrypturl||null===this.decryptkey){var a=this.hls.config;i&&(l.b.warn("abort previous key loader for type:"+r),i.abort()),t.loader=this.loaders[r]=new a.loader(a),this.decrypturl=n,this.decryptkey=null;var d=void 0,c=void 0,p=void 0;d={url:n,frag:t,responseType:"arraybuffer"},c={timeout:a.fragLoadingTimeOut,maxRetry:a.fragLoadingMaxRetry,retryDelay:a.fragLoadingRetryDelay,maxRetryDelay:a.fragLoadingMaxRetryTimeout},p={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(d,c,p)}else this.decryptkey&&(o.key=this.decryptkey,this.hls.trigger(s.a.KEY_LOADED,{frag:t}))},t.prototype.loadsuccess=function(e,t,r){var i=r.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(s.a.KEY_LOADED,{frag:i})},t.prototype.loaderror=function(e,t){var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(s.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})},t.prototype.loadtimeout=function(e,t){var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(s.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},t}(c),S=function(e,t){for(var r=0,i=e.length-1,o=null,n=null;r<=i;){var s=t(n=e[o=(r+i)/2|0]);if(s>0)r=o+1;else{if(!(s<0))return n;i=o-1}}return null},L={isBuffered:function(e,t){try{if(e){for(var r=e.buffered,i=0;i<r.length;i++)if(t>=r.start(i)&&t<=r.end(i))return!0}}catch{}return!1},bufferInfo:function(e,t,r){try{if(e){var i,o=e.buffered,n=[];for(i=0;i<o.length;i++)n.push({start:o.start(i),end:o.end(i)});return this.bufferedInfo(n,t,r)}}catch{}return{len:0,start:t,end:t,nextStart:void 0}},bufferedInfo:function(e,t,r){var i,o,n,s,a,l=[];for(e.sort(function(e,t){return e.start-t.start||t.end-e.end}),a=0;a<e.length;a++){var d=l.length;if(d){var c=l[d-1].end;e[a].start-c<r?e[a].end>c&&(l[d-1].end=e[a].end):l.push(e[a])}else l.push(e[a])}for(a=0,i=0,o=n=t;a<l.length;a++){var p=l[a].start,u=l[a].end;if(t+r>=p&&t<u)o=p,i=(n=u)-t;else if(t+r<p){s=p;break}}return{len:i,start:o,end:n,nextStart:s}}},k=r(7),x=r(5),P=r.n(x),B=r(9),D=r.n(B);function O(){if("u">typeof window)return window.MediaSource||window.WebKitMediaSource}var U=O(),I=function(){function e(t,r){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.hls=t,this.id=r;var i=this.observer=new P.a,o=t.config;i.trigger=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];i.emit.apply(i,[e,e].concat(r))},i.off=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];i.removeListener.apply(i,[e].concat(r))};var n=(function(e,r){(r=r||{}).frag=this.frag,r.id=this.id,t.trigger(e,r)}).bind(this);i.on(s.a.FRAG_DECRYPTED,n),i.on(s.a.FRAG_PARSING_INIT_SEGMENT,n),i.on(s.a.FRAG_PARSING_DATA,n),i.on(s.a.FRAG_PARSED,n),i.on(s.a.ERROR,n),i.on(s.a.FRAG_PARSING_METADATA,n),i.on(s.a.FRAG_PARSING_USERDATA,n),i.on(s.a.INIT_PTS_FOUND,n);var d={mp4:U.isTypeSupported("video/mp4"),mpeg:U.isTypeSupported("audio/mpeg"),mp3:U.isTypeSupported('audio/mp4; codecs="mp3"')},c=navigator.vendor;if(o.enableWorker&&"u">typeof Worker){l.b.log("demuxing in webworker");var p=void 0;try{p=this.w=D()(10),this.onwmsg=this.onWorkerMessage.bind(this),p.addEventListener("message",this.onwmsg),p.onerror=function(e){t.trigger(s.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},p.postMessage({cmd:"init",typeSupported:d,vendor:c,id:r,config:JSON.stringify(o)})}catch{l.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),p&&URL.revokeObjectURL(p.objectURL),this.demuxer=new k.a(i,d,o,c),this.w=void 0}}else this.demuxer=new k.a(i,d,o,c)}return e.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},e.prototype.push=function(e,t,r,i,o,n,s,a){var d=this.w,c=isNaN(o.startDTS)?o.start:o.startDTS,p=o.decryptdata,u=this.frag,f=!(u&&o.cc===u.cc),h=!(u&&o.level===u.level),m=u&&o.sn===u.sn+1,y=!h&&m;if(f&&l.b.log(this.id+":discontinuity detected"),h&&l.b.log(this.id+":switch detected"),this.frag=o,d)d.postMessage({cmd:"demux",data:e,decryptdata:p,initSegment:t,audioCodec:r,videoCodec:i,timeOffset:c,discontinuity:f,trackSwitch:h,contiguous:y,duration:n,accurateTimeOffset:s,defaultInitPTS:a},e instanceof ArrayBuffer?[e]:[]);else{var g=this.demuxer;g&&g.push(e,p,t,r,i,c,f,h,y,n,s,a)}},e.prototype.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case s.a.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},e}();function K(e,t,r){var i=e[t],o=e[r],n=o.startPTS;isNaN(n)?r>t?o.start=i.start+i.duration:o.start=Math.max(i.start-o.duration,0):r>t?(i.duration=n-i.start,i.duration<0&&l.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(o.duration=i.start-n,o.duration<0&&l.b.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!"))}function j(e,t,r,i,o,n){var s,a,l,d=r;if(!isNaN(t.startPTS)){var c=Math.abs(t.startPTS-r);isNaN(t.deltaPTS)?t.deltaPTS=c:t.deltaPTS=Math.max(c,t.deltaPTS),d=Math.max(r,t.startPTS),r=Math.min(r,t.startPTS),i=Math.max(i,t.endPTS),o=Math.min(o,t.startDTS),n=Math.max(n,t.endDTS)}var p=r-t.start;t.start=t.startPTS=r,t.maxStartPTS=d,t.endPTS=i,t.startDTS=o,t.endDTS=n,t.duration=i-r;var u=t.sn;if(!e||u<e.startSN||u>e.endSN)return 0;for(s=u-e.startSN,(a=e.fragments)[s]=t,l=s;l>0;l--)K(a,l,l-1);for(l=s;l<a.length-1;l++)K(a,l,l+1);return e.PTSKnown=!0,p}function M(e,t){var r,i=Math.max(e.startSN,t.startSN)-t.startSN,o=Math.min(e.endSN,t.endSN)-t.startSN,n=t.startSN-e.startSN,s=e.fragments,a=t.fragments,d=0;if(o<i){t.PTSKnown=!1;return}for(var c=i;c<=o;c++){var p=s[n+c],u=a[c];u&&p&&(d=p.cc-u.cc,isNaN(p.startPTS)||(u.start=u.startPTS=p.startPTS,u.endPTS=p.endPTS,u.duration=p.duration,u.backtracked=p.backtracked,u.dropped=p.dropped,r=u))}if(d)for(l.b.log("discontinuity sliding from playlist, take drift into account"),c=0;c<a.length;c++)a[c].cc+=d;if(r)j(t,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS);else if(n>=0&&n<s.length){var f=s[n].start;for(c=0;c<a.length;c++)a[c].start+=f}t.PTSKnown=e.PTSKnown}var N=function(e){for(var t="",r=e.length,i=0;i<r;i++)t+="["+e.start(i).toFixed(3)+","+e.end(i).toFixed(3)+"]";return t};function V(e,t){t.fragments.forEach(function(t){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}),t.PTSKnown=!0}function F(e,t,r){if(i=!1,t&&t.details&&r&&(r.endCC>r.startCC||e&&e.cc<r.startCC)&&(i=!0),i){var i,o=function(e,t){var r=e.fragments,i=t.fragments;if(!i.length||!r.length)return void l.b.log("No fragments to align");var o=function(e,t){for(var r=null,i=0;i<e.length;i+=1){var o=e[i];if(o&&o.cc===t){r=o;break}}return r}(r,i[0].cc);return o&&(!o||o.startPTS)?o:void l.b.log("No frag in previous level to align on")}(t.details,r);o&&(l.b.log("Adjusting PTS using last level due to CC increase within current level"),V(o.start,r))}if(!1===r.PTSKnown&&t&&t.details){var n=t.details.programDateTime,s=(r.programDateTime-n)/1e3+t.details.fragments[0].start;isNaN(s)||(l.b.log("adjusting PTS using programDateTime delta, sliding:"+s.toFixed(3)),V(s,r))}}var G=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),q="STOPPED",$="IDLE",z="KEY_LOADING",X="FRAG_LOADING",H="FRAG_LOADING_WAITING_RETRY",Z="WAITING_LEVEL",W="PARSING",Y="PARSED",Q="BUFFER_FLUSHING",J="ENDED",ee="ERROR",et=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var i=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.MEDIA_ATTACHED,s.a.MEDIA_DETACHING,s.a.MANIFEST_LOADING,s.a.MANIFEST_PARSED,s.a.LEVEL_LOADED,s.a.KEY_LOADED,s.a.FRAG_LOADED,s.a.FRAG_LOAD_EMERGENCY_ABORTED,s.a.FRAG_PARSING_INIT_SEGMENT,s.a.FRAG_PARSING_DATA,s.a.FRAG_PARSED,s.a.ERROR,s.a.AUDIO_TRACK_SWITCHING,s.a.AUDIO_TRACK_SWITCHED,s.a.BUFFER_CREATED,s.a.BUFFER_APPENDED,s.a.BUFFER_FLUSHED));return i.config=r.config,i.audioCodecSwap=!1,i.ticks=0,i._state=q,i.ontick=i.tick.bind(i),i}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),c.prototype.destroy.call(this),this.state=q},t.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=r.startLevel;-1===i&&(i=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=i,this.loadedmetadata=!1}t>0&&-1===e&&(l.b.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=$,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=q},t.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=q,this.forceStartLoad=!1},t.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},t.prototype.doTick=function(){switch(this.state){case ee:break;case Q:this.fragLoadError=0;break;case $:this._doTickIdle();break;case Z:var e=this.levels[this.level];e&&e.details&&(this.state=$);break;case H:var t=performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(l.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=$)}this._checkBuffer(),this._checkFragmentChanged()},t.prototype._doTickIdle=function(){var e=this.hls,t=e.config,r=this.media;if(!(void 0===this.levelLastLoaded||!r&&(this.startFragRequested||!t.startFragPrefetch))){var i=void 0;i=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var o=e.nextLoadLevel,n=this.levels[o];if(n){var a=n.bitrate,d=void 0;d=Math.min(d=a?Math.max(8*t.maxBufferSize/a,t.maxBufferLength):t.maxBufferLength,t.maxMaxBufferLength);var c=L.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,i,t.maxBufferHole),p=c.len;if(!(p>=d)){l.b.trace("buffer length of "+p.toFixed(3)+" is below max of "+d.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=o;var u=n.details;if(void 0===u||!0===u.live&&this.levelLastLoaded!==o){this.state=Z;return}var f=this.fragPrevious;if(!u.live&&f&&!f.backtracked&&f.sn===u.endSN&&!c.nextStart&&Math.min(r.duration,f.start+f.duration)-Math.max(c.end,f.start)<=Math.max(.2,f.duration)){var h={};this.altAudio&&(h.type="video"),this.hls.trigger(s.a.BUFFER_EOS,h),this.state=J;return}this._fetchPayloadOrEos(i,c,u)}}}},t.prototype._fetchPayloadOrEos=function(e,t,r){var i=this.fragPrevious,o=this.level,n=r.fragments,s=n.length;if(0!==s){var a=n[0].start,d=n[s-1].start+n[s-1].duration,c=t.end,p=void 0;if(r.initSegment&&!r.initSegment.data)p=r.initSegment;else if(r.live){var u=this.config.initialLiveManifestSize;if(s<u)return void l.b.warn("Can not start playback of a level, reason: not enough fragments "+s+" < "+u);if(null===(p=this._ensureFragmentAtLivePoint(r,c,a,d,i,n,s)))return}else c<a&&(p=n[0]);p||(p=this._findFragment(a,i,s,n,c,d,r)),p&&this._loadFragmentOrKey(p,o,r,e,c)}},t.prototype._ensureFragmentAtLivePoint=function(e,t,r,i,o,n,s){var a=this.hls.config,d=this.media,c=void 0,p=void 0!==a.liveMaxLatencyDuration?a.liveMaxLatencyDuration:a.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(r-a.maxFragLookUpTolerance,i-p)){var u=this.liveSyncPosition=this.computeLivePosition(r,e);l.b.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+u.toFixed(3)),t=u,d&&d.readyState&&d.duration>u&&(d.currentTime=u),this.nextLoadPosition=u}if(e.PTSKnown&&t>i&&d&&d.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(o){var f=o.sn+1;if(f>=e.startSN&&f<=e.endSN){var h=n[f-e.startSN];o.cc===h.cc&&(c=h,l.b.log("live playlist, switching playlist, load frag with next SN: "+c.sn))}c||(c=S(n,function(e){return o.cc-e.cc}))&&l.b.log("live playlist, switching playlist, load frag with same CC: "+c.sn)}c||(c=n[Math.min(s-1,Math.round(s/2))],l.b.log("live playlist, switching playlist, unknown, load middle frag : "+c.sn))}return c},t.prototype._findFragment=function(e,t,r,i,o,n,s){var a=this.hls.config,d=void 0,c=void 0,p=a.maxFragLookUpTolerance,u=t?i[t.sn-i[0].sn+1]:void 0,f=function(e){var t=Math.min(p,e.duration+(e.deltaPTS?e.deltaPTS:0));return e.start+e.duration-t<=o?1:e.start-t>o&&e.start?-1:0};if(o<n?(o>n-p&&(p=0),c=u&&!f(u)?u:S(i,f)):c=i[r-1],c){var h=(d=c).sn-s.startSN,m=t&&d.level===t.level,y=i[h-1],g=i[h+1];if(t&&d.sn===t.sn)if(m&&!d.backtracked)if(d.sn<s.endSN){var b=t.deltaPTS;b&&b>a.maxBufferHole&&t.dropped&&h?(d=y,l.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):(d=g,l.b.log("SN just loaded, load next one: "+d.sn))}else d=null;else d.backtracked&&(g&&g.backtracked?(l.b.warn("Already backtracked from fragment "+g.sn+", will not backtrack to fragment "+d.sn+". Loading fragment "+g.sn),d=g):(l.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),d.dropped=0,y?(y.loadCounter&&y.loadCounter--,(d=y).backtracked=!0):h&&(d=null)))}return d},t.prototype._loadFragmentOrKey=function(e,t,r,i,o){var n=this.hls,d=n.config;if(e.decryptdata&&null!=e.decryptdata.uri&&null==e.decryptdata.key)l.b.log("Loading key for "+e.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+t),this.state=z,n.trigger(s.a.KEY_LOADING,{frag:e});else{if(l.b.log("Loading "+e.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+t+", currentTime:"+i.toFixed(3)+",bufferEnd:"+o.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,e.loadCounter){e.loadCounter++;var c=d.fragLoadingLoopThreshold;if(e.loadCounter>c&&Math.abs(this.fragLoadIdx-e.loadIdx)<c)return void n.trigger(s.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:e})}else e.loadCounter=1;e.loadIdx=this.fragLoadIdx,e.autoLevel=n.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.fragCurrent=e,this.startFragRequested=!0,isNaN(e.sn)||e.bitrateTest||(this.nextLoadPosition=e.start+e.duration),n.trigger(s.a.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new I(n,"main")),this.state=X;return}},t.prototype.getBufferedFrag=function(e){return S(this._bufferedFrags,function(t){return e<t.startPTS?-1:+(e>t.endPTS)})},t.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},t.prototype._checkFragmentChanged=function(){var e,t,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((t=r.currentTime)>r.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),L.isBuffered(r,t)?e=this.getBufferedFrag(t):L.isBuffered(r,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var i=e;if(i!==this.fragPlaying){this.hls.trigger(s.a.FRAG_CHANGED,{frag:i});var o=i.level;this.fragPlaying&&this.fragPlaying.level===o||this.hls.trigger(s.a.LEVEL_SWITCHED,{level:o}),this.fragPlaying=i}}},t.prototype.immediateLevelSwitch=function(){if(l.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.flushMainBuffer(0,1/0)},t.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,L.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},t.prototype.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var t=void 0,r=void 0,i=void 0;if(void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),(r=this.getBufferedFrag(e.currentTime))&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),e.paused)t=0;else{var o=this.hls.nextLoadLevel,n=this.levels[o],s=this.fragLastKbps;t=s&&this.fragCurrent?this.fragCurrent.duration*n.bitrate/(1e3*s)+1:0}if((i=this.getBufferedFrag(e.currentTime+t))&&(i=this.followingBufferedFrag(i))){var a=this.fragCurrent;a&&a.loader&&a.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.maxStartPTS,1/0)}}},t.prototype.flushMainBuffer=function(e,t){this.state=Q;var r={startOffset:e,endOffset:t};this.altAudio&&(r.type="video"),this.hls.trigger(s.a.BUFFER_FLUSHING,r)},t.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition)},t.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(l.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0,e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},t.prototype.onMediaSeeking=function(){var e=this.media,t=e?e.currentTime:void 0,r=this.config;isNaN(t)||l.b.log("media seeking to "+t.toFixed(3));var i=this.mediaBuffer?this.mediaBuffer:e,o=L.bufferInfo(i,t,this.config.maxBufferHole);if(this.state===X){var n=this.fragCurrent;if(0===o.len&&n){var s=r.maxFragLookUpTolerance,a=n.start-s,d=n.start+n.duration+s;t<a||t>d?(n.loader&&(l.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=$):l.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===J&&(0===o.len&&(this.fragPrevious=0),this.state=$);e&&(this.lastCurrentTime=t),this.state!==X&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*r.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()},t.prototype.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:void 0;isNaN(t)||l.b.log("media seeked to "+t.toFixed(3)),this.tick()},t.prototype.onMediaEnded=function(){l.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},t.prototype.onManifestLoading=function(){l.b.log("trigger BUFFER_RESET"),this.hls.trigger(s.a.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0},t.prototype.onManifestParsed=function(e){var t,r=!1,i=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(r=!0),-1!==t.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=r&&i,this.audioCodecSwitch&&l.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var o=this.config;(o.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(o.startPosition)},t.prototype.onLevelLoaded=function(e){var t=e.details,r=e.level,i=this.levels[this.levelLastLoaded],o=this.levels[r],n=t.totalduration,a=0;if(l.b.log("level "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+n),t.live){var d=o.details;d&&t.fragments.length>0?(M(d,t),a=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(a,d),t.PTSKnown&&!isNaN(a)?l.b.log("live playlist sliding:"+a.toFixed(3)):(l.b.log("live playlist - outdated PTS, unknown sliding"),F(this.fragPrevious,i,t))):(l.b.log("live playlist - first load, unknown sliding"),t.PTSKnown=!1,F(this.fragPrevious,i,t))}else t.PTSKnown=!1;if(o.details=t,this.levelLastLoaded=r,this.hls.trigger(s.a.LEVEL_UPDATED,{details:t,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var c=t.startTimeOffset;isNaN(c)?t.live?(this.startPosition=this.computeLivePosition(a,t),l.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(c<0&&(l.b.log("negative start time offset "+c+", count from end of last fragment"),c=a+n+c),l.b.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===Z&&(this.state=$),this.tick()},t.prototype.onKeyLoaded=function(){this.state===z&&(this.state=$,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag;if(this.state===X&&t&&"main"===r.type&&r.level===t.level&&r.sn===t.sn){var i=e.stats,o=this.levels[t.level],n=o.details;if(l.b.log("Loaded  "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t.level),this.bitrateTest=!1,this.stats=i,!0===r.bitrateTest&&this.hls.nextLoadLevel)this.state=$,this.startFragRequested=!1,i.tparsed=i.tbuffered=performance.now(),this.hls.trigger(s.a.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),this.tick();else if("initSegment"===r.sn)this.state=$,i.tparsed=i.tbuffered=performance.now(),n.initSegment.data=e.payload,this.hls.trigger(s.a.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),this.tick();else{this.state=W;var a=n.totalduration,d=t.level,c=t.sn,p=this.config.defaultAudioCodec||o.audioCodec;this.audioCodecSwap&&(l.b.log("swapping playlist audio codec"),void 0===p&&(p=this.lastAudioCodec),p&&(p=-1!==p.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,l.b.log("Parsing "+c+" of ["+n.startSN+" ,"+n.endSN+"],level "+d+", cc "+t.cc);var u=this.demuxer;u||(u=this.demuxer=new I(this.hls,"main"));var f=this.media,h=!(f&&f.seeking)&&(n.PTSKnown||!n.live),m=n.initSegment?n.initSegment.data:[];u.push(e.payload,m,p,o.videoCodec,t,a,h,void 0)}}this.fragLoadError=0},t.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===W){var i,o,n=e.tracks;if(n.audio&&this.altAudio&&delete n.audio,o=n.audio){var a=this.levels[this.level].audioCodec,d=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(l.b.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==o.metadata.channelCount&&-1===d.indexOf("firefox")&&(a="mp4a.40.5"),-1!==d.indexOf("android")&&"audio/mpeg"!==o.container&&(a="mp4a.40.2",l.b.log("Android: force audio codec to "+a)),o.levelCodec=a,o.id=e.id}for(i in(o=n.video)&&(o.levelCodec=this.levels[this.level].videoCodec,o.id=e.id),this.hls.trigger(s.a.BUFFER_CODECS,n),n){o=n[i],l.b.log("main track:"+i+",container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var c=o.initSegment;c&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.a.BUFFER_APPENDING,{type:i,data:c,parent:"main",content:"initSegment"}))}this.tick()}},t.prototype.onFragParsingData=function(e){var t=this,r=this.fragCurrent,i=e.frag;if(r&&"main"===e.id&&i.sn===r.sn&&i.level===r.level&&!("audio"===e.type&&this.altAudio)&&this.state===W){var o=this.levels[this.level];if(isNaN(e.endPTS)&&(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),l.b.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(r.dropped=e.dropped,r.dropped)if(r.backtracked)l.b.warn("Already backtracked on this fragment, appending with the gap");else{var n=o.details;if(n&&r.sn===n.startSN)l.b.warn("missing video frame(s) on first frag, appending with gap");else{l.b.warn("missing video frame(s), backtracking fragment"),r.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=$,this.fragPrevious=r,this.tick();return}}else r.backtracked=!1;var a=j(o.details,r,e.startPTS,e.endPTS,e.startDTS,e.endDTS),d=this.hls;d.trigger(s.a.LEVEL_PTS_UPDATED,{details:o.details,level:this.level,drift:a,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(r){r&&r.length&&t.state===W&&(t.appended=!0,t.pendingBuffering=!0,d.trigger(s.a.BUFFER_APPENDING,{type:e.type,data:r,parent:"main",content:"data"}))}),this.tick()}},t.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===W&&(this.stats.tparsed=performance.now(),this.state=Y,this._checkAppendedParsed())},t.prototype.onAudioTrackSwitching=function(e){var t=!!e.url,r=e.id;if(!t){if(this.mediaBuffer!==this.media){l.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(l.b.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=$}var o=this.hls;o.trigger(s.a.BUFFER_FLUSHING,{startOffset:0,endOffset:1/0,type:"audio"}),o.trigger(s.a.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}},t.prototype.onAudioTrackSwitched=function(e){var t=e.id,r=!!this.hls.audioTracks[t].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(l.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},t.prototype.onBufferCreated=function(e){var t=e.tracks,r=void 0,i=void 0,o=!1;for(var n in t){var s=t[n];"main"===s.id?(i=n,r=s,"video"===n&&(this.videoBuffer=t[n].buffer)):o=!0}o&&r?(l.b.log("alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media},t.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;(t===W||t===Y)&&(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},t.prototype._checkAppendedParsed=function(){if(this.state===Y&&(!this.appended||!this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;l.b.log("main buffered : "+N(t.buffered));var r=this._bufferedFrags.filter(function(e){return L.isBuffered(t,(e.startPTS+e.endPTS)/2)});r.push(e),this._bufferedFrags=r.sort(function(e,t){return e.startPTS-t.startPTS}),this.fragPrevious=e;var i=this.stats;i.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),this.hls.trigger(s.a.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),this.state=$}this.tick()}},t.prototype.onError=function(e){var t=e.frag||this.fragCurrent;if(!(t&&"main"!==t.type)){var r=!!this.media&&L.isBuffered(this.media,this.media.currentTime)&&L.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:case a.a.KEY_LOAD_ERROR:case a.a.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);t.loadCounter=0,l.b.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=H}else l.b.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=ee;break;case a.a.FRAG_LOOP_LOADING_ERROR:e.fatal||(r?(this._reduceMaxBufferLength(t.duration),this.state=$):t.autoLevel&&0!==t.level||(e.fatal=!0,this.state=ee));break;case a.a.LEVEL_LOAD_ERROR:case a.a.LEVEL_LOAD_TIMEOUT:this.state!==ee&&(e.fatal?(this.state=ee,l.b.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==Z||(this.state=$));break;case a.a.BUFFER_FULL_ERROR:"main"===e.parent&&(this.state===W||this.state===Y)&&(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=$):(l.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,1/0)))}}},t.prototype._reduceMaxBufferLength=function(e){var t=this.config;t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,l.b.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*t.fragLoadingLoopThreshold))},t.prototype._checkBuffer=function(){var e=this.media,t=this.config;if(e&&e.readyState){var r=e.currentTime,i=this.mediaBuffer?this.mediaBuffer:e,o=i.buffered;if(!this.loadedmetadata&&o.length){this.loadedmetadata=!0;var n=e.seeking?r:this.startPosition,d=L.isBuffered(i,n),c=o.start(0),p=!d&&Math.abs(n-c)<t.maxSeekHole;(r!==n||p)&&(l.b.log("target start position:"+n),p&&(n=c,l.b.log("target start position not buffered, seek to buffered.start(0) "+n)),l.b.log("adjust currentTime from "+r+" to "+n),e.currentTime=n)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var u=L.bufferInfo(e,r,0),f=!(e.paused||e.ended||0===e.buffered.length);if(r!==this.lastCurrentTime)this.stallReported&&(l.b.warn("playback not stuck anymore @"+r+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(f){var h=performance.now(),m=this.hls;if(this.stalled){var y=h-this.stalled,g=u.len,b=this.nudgeRetry||0;if(g<=.5&&y>1e3*t.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,l.b.warn("playback stalling in low buffer @"+r),m.trigger(s.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:g}));var v=u.nextStart,E=v-r;if(v&&E<t.maxSeekHole&&E>0){this.nudgeRetry=++b;var R=b*t.nudgeOffset;l.b.log("adjust currentTime from "+e.currentTime+" to next buffered @ "+v+" + nudge "+R),e.currentTime=v+R,this.stalled=void 0,m.trigger(s.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:v+R-r})}}else if(g>.5&&y>1e3*t.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,l.b.warn("playback stalling in high buffer @"+r),m.trigger(s.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:g})),this.stalled=void 0,this.nudgeRetry=++b,b<t.nudgeMaxRetry){var A=e.currentTime,_=A+b*t.nudgeOffset;l.b.log("adjust currentTime from "+A+" to "+_),e.currentTime=_,m.trigger(s.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else l.b.error("still stuck in high buffer @"+r+" after "+t.nudgeMaxRetry+", raise fatal error"),m.trigger(s.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=h,this.stallReported=!1}}}},t.prototype.onFragLoadEmergencyAborted=function(){this.state=$,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},t.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(t){return L.isBuffered(e,(t.startPTS+t.endPTS)/2)}),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.state=$,this.fragPrevious=null},t.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},t.prototype.computeLivePosition=function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)},G(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,l.b.log("main stream:"+t+"->"+e),this.hls.trigger(s.a.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return -1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(c),er=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),ei=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var i=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.MANIFEST_LOADED,s.a.LEVEL_LOADED,s.a.FRAG_LOADED,s.a.ERROR));return i.canload=!1,i.currentLevelIndex=null,i.manualLevelIndex=-1,i.timer=null,i}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype.destroy=function(){this.cleanTimer(),this.manualLevelIndex=-1},t.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),null!==this.timer&&this.loadLevel()},t.prototype.stopLoad=function(){this.canload=!1},t.prototype.onManifestLoaded=function(e){var t=[],r=void 0,i={},o=null,n=!1,d=!1,c=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),p=[];if(e.levels.forEach(function(e){e.loadError=0,e.fragmentError=!1,n=n||!!e.videoCodec,d=d||!!e.audioCodec||!!(e.attrs&&e.attrs.AUDIO),!0===c&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),void 0===(o=i[e.bitrate])?(e.url=[e.url],e.urlId=0,i[e.bitrate]=e,t.push(e)):o.url.push(e.url)}),!0===n&&!0===d&&(t=t.filter(function(e){return!!e.videoCodec})),t=t.filter(function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||m(t))&&(!r||m(r))}),e.audioTracks&&(p=e.audioTracks.filter(function(e){return!e.audioCodec||m(e.audioCodec,"audio")})),t.length>0){r=t[0].bitrate,t.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=t;for(var u=0;u<t.length;u++)if(t[u].bitrate===r){this._firstLevel=u,l.b.log("manifest loaded,"+t.length+" level(s) found, first bitrate:"+r);break}this.hls.trigger(s.a.MANIFEST_PARSED,{levels:t,audioTracks:p,firstLevel:this._firstLevel,stats:e.stats,audio:d,video:n,altAudio:p.length>0})}else this.hls.trigger(s.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},t.prototype.setLevelInternal=function(e){var t=this._levels,r=this.hls;if(e>=0&&e<t.length){if(this.cleanTimer(),this.currentLevelIndex!==e){l.b.log("switching to level "+e),this.currentLevelIndex=e;var i=t[e];i.level=e,r.trigger(s.a.LEVEL_SWITCH,i),r.trigger(s.a.LEVEL_SWITCHING,i)}var o=t[e],n=o.details;if(!n||!0===n.live){var d=o.urlId;r.trigger(s.a.LEVEL_LOADING,{url:o.url[d],level:e,id:d})}}else r.trigger(s.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},t.prototype.onError=function(e){if(!0===e.fatal){e.type===a.b.NETWORK_ERROR&&this.cleanTimer();return}var t=!1,r=!1,i=void 0;switch(e.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:case a.a.FRAG_LOOP_LOADING_ERROR:case a.a.KEY_LOAD_ERROR:case a.a.KEY_LOAD_TIMEOUT:i=e.frag.level,r=!0;break;case a.a.LEVEL_LOAD_ERROR:case a.a.LEVEL_LOAD_TIMEOUT:i=e.context.level,t=!0;break;case a.a.REMUX_ALLOC_ERROR:i=e.level,t=!0}void 0!==i&&this.recoverLevel(e,i,t,r)},t.prototype.recoverLevel=function(e,t,r,i){var o=this,n=this.hls.config,s=e.details,a=this._levels[t],d=void 0,c=void 0,p=void 0;if(a.loadError++,a.fragmentError=i,!0===r)if(this.levelRetryCount+1<=n.levelLoadingMaxRetry)c=Math.min(Math.pow(2,this.levelRetryCount)*n.levelLoadingRetryDelay,n.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return o.loadLevel()},c),e.levelRetry=!0,this.levelRetryCount++,l.b.warn("level controller, "+s+", retry in "+c+" ms, current retry count is "+this.levelRetryCount);else{l.b.error("level controller, cannot recover from "+s+" error"),this.currentLevelIndex=null,this.cleanTimer(),e.fatal=!0;return}(!0===r||!0===i)&&((d=a.url.length)>1&&a.loadError<d?(l.b.warn("level controller, "+s+" for level "+t+": switching to redundant stream id "+a.urlId),a.urlId=(a.urlId+1)%d,a.details=void 0):-1===this.manualLevelIndex?(p=0===t?this._levels.length-1:t-1,l.b.warn("level controller, "+s+": switch to "+p),this.hls.nextAutoLevel=this.currentLevelIndex=p):!0===i&&(l.b.warn("level controller, "+s+": reload a fragment"),this.currentLevelIndex=null))},t.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var r=this._levels[t.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},t.prototype.onLevelLoaded=function(e){var t=this,r=e.level;if(r===this.currentLevelIndex){var i=this._levels[r];!1===i.fragmentError&&(i.loadError=0,this.levelRetryCount=0);var o=e.details;if(o.live){var n=1e3*(o.averagetargetduration?o.averagetargetduration:o.targetduration),s=i.details;s&&o.endSN===s.endSN&&(n/=2,l.b.log("same live playlist, reload twice faster")),n-=performance.now()-e.stats.trequest,n=Math.max(1e3,Math.round(n)),l.b.log("live playlist, reload in "+n+" ms"),this.timer=setTimeout(function(){return t.loadLevel()},n)}else this.cleanTimer()}},t.prototype.loadLevel=function(){var e=void 0,t=void 0;null!==this.currentLevelIndex&&!0===this.canload&&void 0!==(e=this._levels[this.currentLevelIndex])&&e.url.length>0&&(t=e.urlId,this.hls.trigger(s.a.LEVEL_LOADING,{url:e.url[t],level:this.currentLevelIndex,id:t}))},er(t,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),(this.currentLevelIndex!==e||void 0===t[e].details)&&this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0!==this._startLevel)return this._startLevel;var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return -1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}]),t}(c),eo=r(3),en=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var i=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.MEDIA_ATTACHED,s.a.MEDIA_DETACHING,s.a.FRAG_PARSING_METADATA));return i.id3Track=void 0,i.media=void 0,i}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype.destroy=function(){c.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){this.media=e.media,this.media},t.prototype.onMediaDetaching=function(){this.media=void 0},t.prototype.onFragParsingMetadata=function(e){var t=e.frag,r=e.samples;this.id3Track||(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,o=0;o<r.length;o++){var n=eo.a.getID3Frames(r[o].data);if(n){var s=r[o].pts,a=o<r.length-1?r[o+1].pts:t.endPTS;s===a&&(a+=1e-4);for(var l=0;l<n.length;l++){var d=n[l];if(!eo.a.isTimeStampFrame(d)){var c=new i(s,a,"");c.value=d,this.id3Track.addCue(c)}}}}},t}(c),es=function(){function e(t){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return e.prototype.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},e.prototype.getTotalWeight=function(){return this.totalWeight_},e.prototype.getEstimate=function(){if(!this.alpha_)return this.estimate_;var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e},e}(),ea=function(){function e(t,r,i,o){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.hls=t,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new es(r),this.fast_=new es(i)}return e.prototype.sample=function(e,t){var r=8e3*t/(e=Math.max(e,this.minDelayMs_)),i=e/1e3;this.fast_.sample(i,r),this.slow_.sample(i,r)},e.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},e.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.prototype.destroy=function(){},e}(),el=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),ed=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var i=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.FRAG_LOADING,s.a.FRAG_LOADED,s.a.FRAG_BUFFERED,s.a.ERROR));return i.lastLoadedFragLevel=0,i._nextAutoLevel=-1,i.hls=r,i.timer=null,i._bwEstimator=null,i.onCheck=i._abandonRulesCheck.bind(i),i}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype.destroy=function(){this.clearTimer(),c.prototype.destroy.call(this)},t.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var r=this.hls,i=e.frag.level,o=r.levels[i].details.live,n=r.config,s=void 0,a=void 0;o?(s=n.abrEwmaFastLive,a=n.abrEwmaSlowLive):(s=n.abrEwmaFastVoD,a=n.abrEwmaSlowVoD),this._bwEstimator=new ea(r,a,s,n.abrEwmaDefaultEstimate)}this.fragCurrent=t}},t.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,r=this.fragCurrent,i=r.loader,o=e.minAutoLevel;if(!i||i.stats&&i.stats.aborted){l.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),this._nextAutoLevel=-1;return}var n=i.stats;if(t&&n&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var a=performance.now()-n.trequest,d=Math.abs(t.playbackRate);if(a>500*r.duration/d){var c=e.levels,p=Math.max(1,n.bw?n.bw/8:1e3*n.loaded/a),u=c[r.level],f=u.realBitrate?Math.max(u.realBitrate,u.bitrate):u.bitrate,h=n.total?n.total:Math.max(n.loaded,Math.round(r.duration*f/8)),m=t.currentTime,y=(h-n.loaded)/p,g=(L.bufferInfo(t,m,e.config.maxBufferHole).end-m)/d;if(g<2*r.duration/d&&y>g){var b=void 0,v=void 0;for(v=r.level-1;v>o;v--){var E=c[v].realBitrate?Math.max(c[v].realBitrate,c[v].bitrate):c[v].bitrate;if((b=r.duration*E/(6.4*p))<g)break}b<y&&(l.b.warn("loading too slow, abort fragment loading and switch to level "+v+":fragLoadedDelay["+v+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+b.toFixed(1)+"<"+y.toFixed(1)+":"+g.toFixed(1)),e.nextLoadLevel=v,this._bwEstimator.sample(a,n.loaded),i.abort(),this.clearTimer(),e.trigger(s.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:n}))}}}},t.prototype.onFragLoaded=function(e){var t=e.frag;if("main"===t.type&&!isNaN(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[t.level],i=(r.loaded?r.loaded.bytes:0)+e.stats.loaded,o=(r.loaded?r.loaded.duration:0)+e.frag.duration;r.loaded={bytes:i,duration:o},r.realBitrate=Math.round(8*i/o)}if(e.frag.bitrateTest){var n=e.stats;n.tparsed=n.tbuffered=n.tload,this.onFragBuffered(e)}}},t.prototype.onFragBuffered=function(e){var t=e.stats,r=e.frag;if(!0!==t.aborted&&1===r.loadCounter&&"main"===r.type&&!isNaN(r.sn)&&(!r.bitrateTest||t.tload===t.tbuffered)){var i=t.tparsed-t.trequest;l.b.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(i,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},t.prototype.onError=function(e){switch(e.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},t.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},t.prototype._findBestLevel=function(e,t,r,i,o,n,s,a,d){for(var c=o;c>=i;c--){var p=d[c].details,u=p?p.totalduration/p.fragments.length:t,f=!!p&&p.live,h=void 0;h=c<=e?s*r:a*r;var m=d[c].realBitrate?Math.max(d[c].realBitrate,d[c].bitrate):d[c].bitrate,y=m*u/h;if(l.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(h)+"/"+m+"/"+u+"/"+n+"/"+y),h>m&&(!y||f&&!this.bitrateTestDelay||y<n))return c}return -1},el(t,[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(-1!==e&&(!t||!t.canEstimate()))return e;var r=this._nextABRAutoLevel;return -1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,r=e.levels,i=e.config,o=e.minAutoLevel,n=e.media,s=this.lastLoadedFragLevel,a=this.fragCurrent?this.fragCurrent.duration:0,d=n?n.currentTime:0,c=n&&0!==n.playbackRate?Math.abs(n.playbackRate):1,p=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,u=(L.bufferInfo(n,d,i.maxBufferHole).end-d)/c,f=this._findBestLevel(s,a,p,o,t,u,i.abrBandWidthFactor,i.abrBandWidthUpFactor,r);if(f>=0)return f;l.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var h=a?Math.min(a,i.maxStarvationDelay):i.maxStarvationDelay,m=i.abrBandWidthFactor,y=i.abrBandWidthUpFactor;if(0===u){var g=this.bitrateTestDelay;g&&(h=(a?Math.min(a,i.maxLoadingDelay):i.maxLoadingDelay)-g,l.b.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*h)+" ms"),m=y=1)}return Math.max(f=this._findBestLevel(s,a,p,o,t,u+h,m,y,r),0)}}]),t}(c),ec=O(),ep=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var i=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.MEDIA_ATTACHING,s.a.MEDIA_DETACHING,s.a.MANIFEST_PARSED,s.a.BUFFER_RESET,s.a.BUFFER_APPENDING,s.a.BUFFER_CODECS,s.a.BUFFER_EOS,s.a.BUFFER_FLUSHING,s.a.LEVEL_PTS_UPDATED,s.a.LEVEL_UPDATED));return i._msDuration=null,i._levelDuration=null,i._live=null,i._objectUrl=null,i.onsbue=i.onSBUpdateEnd.bind(i),i.onsbe=i.onSBUpdateError.bind(i),i.pendingTracks={},i.tracks={},i}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype.destroy=function(){c.prototype.destroy.call(this)},t.prototype.onLevelPtsUpdated=function(e){var t=e.type,r=this.tracks.audio;if("audio"===t&&r&&"audio/mpeg"===r.container){var i=this.sourceBuffer.audio;if(Math.abs(i.timestampOffset-e.start)>.1){var o=i.updating;try{i.abort()}catch(e){o=!0,l.b.warn("can not abort audio buffer: "+e)}o?this.audioTimestampOffset=e.start:(l.b.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+e.start),i.timestampOffset=e.start)}}},t.prototype.onManifestParsed=function(e){var t=e.audio,r=e.video||e.levels.length&&e.audio,i=0;e.altAudio&&(t||r)&&(i=+!!t+ +!!r,l.b.log(i+" sourceBuffer(s) expected")),this.sourceBufferNb=i},t.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var r=this.mediaSource=new ec;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(r),this._objectUrl=t.src}},t.prototype.onMediaDetaching=function(){l.b.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){l.b.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):l.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(s.a.MEDIA_DETACHED)},t.prototype.onMediaSourceOpen=function(){l.b.log("media source opened"),this.hls.trigger(s.a.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},t.prototype.checkPendingTracks=function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},t.prototype.onMediaSourceClose=function(){l.b.log("media source closed")},t.prototype.onMediaSourceEnded=function(){l.b.log("media source ended")},t.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;l.b.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,r=this.segments.reduce(function(e,r){return r.parent===t?e+1:e},0);this.hls.trigger(s.a.BUFFER_APPENDED,{parent:t,pending:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},t.prototype.onSBUpdateError=function(e){l.b.error("sourceBuffer error:",e),this.hls.trigger(s.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_APPENDING_ERROR,fatal:!1})},t.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch{}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},t.prototype.onBufferCodecs=function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var r=this.mediaSource;r&&"open"===r.readyState&&this.checkPendingTracks()}},t.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;for(var i in e)if(!t[i]){var o=e[i],n=o.levelCodec||o.codec,d=o.container+";codecs="+n;l.b.log("creating sourceBuffer("+d+")");try{var c=t[i]=r.addSourceBuffer(d);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[i]={codec:n,container:o.container},o.buffer=c}catch(e){l.b.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(s.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:d})}}this.hls.trigger(s.a.BUFFER_CREATED,{tracks:e})},t.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},t.prototype.onBufferAppendFail=function(e){l.b.error("sourceBuffer error:",e.event),this.hls.trigger(s.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_APPENDING_ERROR,fatal:!1})},t.prototype.onBufferEos=function(e){var t=this.sourceBuffer,r=e.type;for(var i in t)(!r||i===r)&&(t[i].ended||(t[i].ended=!0,l.b.log(i+" sourceBuffer now EOS")));this.checkEos()},t.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(!t||"open"!==t.readyState){this._needsEos=!1;return}for(var r in e){var i=e[r];if(!i.ended)return;if(i.updating){this._needsEos=!0;return}}l.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch{l.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1},t.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},t.prototype.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._live=t.live,this.updateMediaElementDuration())},t.prototype.updateMediaElementDuration=function(){var e=this.hls.config,t=void 0;if(!(null===this._levelDuration||!this.media||!this.mediaSource||!this.sourceBuffer||0===this.media.readyState||"open"!==this.mediaSource.readyState)){for(var r in this.sourceBuffer)if(!0===this.sourceBuffer[r].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(l.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||t===1/0||isNaN(t))&&(l.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},t.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(this.flushBuffer(e.start,e.end,e.type))this.flushRange.shift(),this.flushBufferCounter=0;else{this._needsFlush=!0;return}}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var i in r)t+=r[i].buffered.length}catch{l.b.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(s.a.BUFFER_FLUSHED)}},t.prototype.doAppending=function(){var e=this.hls,t=this.sourceBuffer,r=this.segments;if(Object.keys(t).length){if(this.media.error){this.segments=[],l.b.error("trying to append although a media error occured, flush segment and abort");return}if(this.appending)return;if(r&&r.length){var i=r.shift();try{var o=t[i.type];o?o.updating?r.unshift(i):(o.ended=!1,this.parent=i.parent,o.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){l.b.error("error while trying to append buffer:"+t.message),r.unshift(i);var n={type:a.b.MEDIA_ERROR,parent:i.parent};if(22!==t.code)if(this.appendError?this.appendError++:this.appendError=1,n.details=a.a.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry){l.b.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),r=[],n.fatal=!0,e.trigger(s.a.ERROR,n);return}else n.fatal=!1,e.trigger(s.a.ERROR,n);else{this.segments=[],n.details=a.a.BUFFER_FULL_ERROR,n.fatal=!1,e.trigger(s.a.ERROR,n);return}}}}},t.prototype.flushBuffer=function(e,t,r){var i,o,n,s,a,d,c=this.sourceBuffer;if(Object.keys(c).length){if(l.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var p in c)if(!(r&&p!==r)){if((i=c[p]).ended=!1,i.updating)return l.b.warn("cannot flush, sb updating in progress"),!1;try{for(o=0;o<i.buffered.length;o++)if(n=i.buffered.start(o),s=i.buffered.end(o),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===1/0?(a=e,d=t):(a=Math.max(n,e),d=Math.min(s,t)),Math.min(d,s)-a>.5)return this.flushBufferCounter++,l.b.log("flush "+p+" ["+a+","+d+"], of ["+n+","+s+"], pos:"+this.media.currentTime),i.remove(a,d),!1}catch{l.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else l.b.warn("abort flushing too many retries");l.b.log("buffer flushed")}return!0},t}(c),eu=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),ef=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.FPS_DROP_LEVEL_CAPPING,s.a.MEDIA_ATTACHING,s.a.MANIFEST_PARSED))}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=1/0,this.timer&&(this.timer=clearInterval(this.timer)))},t.prototype.onFpsDropLevelCapping=function(e){t.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},t.prototype.onMediaAttaching=function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null},t.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],t.config.capLevelToPlayerSize&&(this.autoLevelCapping=1/0,this.levels=e.levels,t.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},t.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},t.prototype.getMaxLevel=function(e){var r=this;if(!this.levels)return -1;var i=this.levels.filter(function(i,o){return t.isLevelAllowed(o,r.restrictedLevels)&&o<=e});return t.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},t.isLevelAllowed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return -1===t.indexOf(e)},t.getMaxLevelByMediaSize=function(e,t,r){if(!e||e&&!e.length)return -1;for(var i=e.length-1,o=0;o<e.length;o+=1){var n,s=e[o];if((s.width>=t||s.height>=r)&&(!(n=e[o+1])||s.width!==n.width||s.height!==n.height)){i=o;break}}return i},eu(t,[{key:"mediaWidth",get:function(){var e=void 0,r=this.media;return r&&(e=(r.width||r.clientWidth||r.offsetWidth)*t.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,r=this.media;return r&&(e=(r.height||r.clientHeight||r.offsetHeight)*t.contentScaleFactor),e}}],[{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch{}return e}}]),t}(c),eh=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.MEDIA_ATTACHING))}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},t.prototype.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},t.prototype.checkFPS=function(e,t,r){var i=performance.now();if(t){if(this.lastTime){var o=i-this.lastTime,n=r-this.lastDroppedFrames,a=t-this.lastDecodedFrames,d=1e3*n/o,c=this.hls;if(c.trigger(s.a.FPS_DROP,{currentDropped:n,currentDecoded:a,totalDroppedFrames:r}),d>0&&n>c.config.fpsDroppedMonitoringThreshold*a){var p=c.currentLevel;l.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+p),p>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=p)&&(p-=1,c.trigger(s.a.FPS_DROP_LEVEL_CAPPING,{level:p,droppedLevel:c.currentLevel}),c.autoLevelCapping=p,c.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},t.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(c),em=function(){function e(t){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return e.prototype.destroy=function(){this.abort(),this.loader=null},e.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.prototype.load=function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},e.prototype.loadInternal=function(){var e,t=this.context;e=this.loader=new XMLHttpRequest;var r=this.stats;r.tfirst=0,r.loaded=0;var i=this.xhrSetup;try{if(i)try{i(e,t.url)}catch{e.open("GET",t.url,!0),i(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(r){this.callbacks.onError({code:e.status,text:r.message},t,e);return}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},e.prototype.readystatechange=function(e){var t=e.currentTarget,r=t.readyState,i=this.stats,o=this.context,n=this.config;if(!i.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(performance.now(),i.trequest)),4===r){var s=t.status;if(s>=200&&s<300){i.tload=Math.max(i.tfirst,performance.now());var a=void 0;i.loaded=i.total="arraybuffer"===o.responseType?(a=t.response).byteLength:(a=t.responseText).length;var d={url:t.responseURL,data:a};this.callbacks.onSuccess(d,i,o,t)}else i.retry>=n.maxRetry||s>=400&&s<499?(l.b.error(s+" while loading "+o.url),this.callbacks.onError({code:s,text:t.statusText},o,t)):(l.b.warn(s+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,n.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),n.timeout)},e.prototype.loadtimeout=function(){l.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.prototype.loadprogress=function(e){var t=e.currentTarget,r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total);var i=this.callbacks.onProgress;i&&i(r,this.context,null,t)},e}(),ey=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),eg=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var i=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.MANIFEST_LOADING,s.a.MANIFEST_PARSED,s.a.AUDIO_TRACK_LOADED,s.a.ERROR));return i.ticks=0,i.ontick=i.tick.bind(i),i}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype.destroy=function(){this.cleanTimer(),c.prototype.destroy.call(this)},t.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},t.prototype.doTick=function(){this.updateTrack(this.trackId)},t.prototype.onError=function(e){e.fatal&&e.type===a.b.NETWORK_ERROR&&this.cleanTimer()},t.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},t.prototype.onManifestParsed=function(e){var t=this,r=e.audioTracks||[],i=!1;this.tracks=r,this.hls.trigger(s.a.AUDIO_TRACKS_UPDATED,{audioTracks:r});var o=0;r.forEach(function(e){if(e.default&&!i){t.audioTrack=o,i=!0;return}o++}),!1===i&&r.length&&(l.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},t.prototype.onAudioTrackLoaded=function(e){e.id<this.tracks.length&&(l.b.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*e.details.targetduration)),!e.details.live&&this.timer&&this.cleanTimer())},t.prototype.setAudioTrackInternal=function(e){if(e>=0&&e<this.tracks.length){this.cleanTimer(),this.trackId=e,l.b.log("switching to audioTrack "+e);var t=this.tracks[e],r=this.hls,i=t.type,o=t.url,n={id:e,type:i,url:o};r.trigger(s.a.AUDIO_TRACK_SWITCH,n),r.trigger(s.a.AUDIO_TRACK_SWITCHING,n);var a=t.details;o&&(void 0===a||!0===a.live)&&(l.b.log("(re)loading playlist for audioTrack "+e),r.trigger(s.a.AUDIO_TRACK_LOADING,{url:o,id:e}))}},t.prototype.updateTrack=function(e){if(e>=0&&e<this.tracks.length){this.cleanTimer(),this.trackId=e,l.b.log("updating audioTrack "+e);var t=this.tracks[e],r=t.url,i=t.details;r&&(void 0===i||!0===i.live)&&(l.b.log("(re)loading playlist for audioTrack "+e),this.hls.trigger(s.a.AUDIO_TRACK_LOADING,{url:r,id:e}))}},ey(t,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){(this.trackId!==e||void 0===this.tracks[e].details)&&this.setAudioTrackInternal(e)}}]),t}(c),eb=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),ev="STOPPED",eE="STARTING",eR="IDLE",eA="PAUSED",e_="KEY_LOADING",eT="FRAG_LOADING",ew="FRAG_LOADING_WAITING_RETRY",eC="WAITING_TRACK",eS="PARSING",eL="PARSED",ek="BUFFER_FLUSHING",ex="ENDED",eP="ERROR",eB="WAITING_INIT_PTS",eD=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var i=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.MEDIA_ATTACHED,s.a.MEDIA_DETACHING,s.a.AUDIO_TRACKS_UPDATED,s.a.AUDIO_TRACK_SWITCHING,s.a.AUDIO_TRACK_LOADED,s.a.KEY_LOADED,s.a.FRAG_LOADED,s.a.FRAG_PARSING_INIT_SEGMENT,s.a.FRAG_PARSING_DATA,s.a.FRAG_PARSED,s.a.ERROR,s.a.BUFFER_RESET,s.a.BUFFER_CREATED,s.a.BUFFER_APPENDED,s.a.BUFFER_FLUSHED,s.a.INIT_PTS_FOUND));return i.config=r.config,i.audioCodecSwap=!1,i.ticks=0,i._state=ev,i.ontick=i.tick.bind(i),i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),c.prototype.destroy.call(this),this.state=ev},t.prototype.onInitPtsFound=function(e){var t=e.id,r=e.frag.cc,i=e.initPTS;"main"===t&&(this.initPTS[r]=i,this.videoTrackCC=r,l.b.log("InitPTS for cc:"+r+" found from video track:"+i),this.state===eB&&this.tick())},t.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,t>0&&-1===e?(l.b.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=eR):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=eE),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=ev},t.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ev},t.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},t.prototype.doTick=function(){var e,t,r,i=this.hls,o=i.config;switch(this.state){case eP:case eA:case ek:break;case eE:this.state=eC,this.loadedmetadata=!1;break;case eR:var n=this.tracks;if(!n||!this.media&&(this.startFragRequested||!o.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var d=this.mediaBuffer?this.mediaBuffer:this.media,c=this.videoBuffer?this.videoBuffer:this.media,p=L.bufferInfo(d,e,o.maxBufferHole),u=L.bufferInfo(c,e,o.maxBufferHole),f=p.len,h=p.end,m=this.fragPrevious,y=Math.max(o.maxBufferLength,u.len),g=this.audioSwitch,b=this.trackId;if((f<y||g)&&b<n.length){if(typeof(r=n[b].details)>"u"){this.state=eC;break}if(!g&&!r.live&&m&&m.sn===r.endSN&&!p.nextStart&&(!this.media.seeking||this.media.duration-h<m.duration/2)){this.hls.trigger(s.a.BUFFER_EOS,{type:"audio"}),this.state=ex;break}var v,E=r.fragments,R=E.length,A=E[0].start,_=E[R-1].start+E[R-1].duration,T=void 0;if(g){if(r.live&&!r.PTSKnown)l.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),h=0;else if(h=e,r.PTSKnown&&e<A)if(!(p.end>A)&&!p.nextStart)return;else l.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=A+.05}if(r.initSegment&&!r.initSegment.data)T=r.initSegment;else if(h<=A){if(T=E[0],null!==this.videoTrackCC&&T.cc!==this.videoTrackCC&&(v=this.videoTrackCC,T=S(E,function(e){return e.cc<v?1:e.cc>v?-1:0})),r.live&&T.loadIdx&&T.loadIdx===this.fragLoadIdx){var w=p.nextStart?p.nextStart:A;l.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(w+.05)),this.media.currentTime=w+.05;return}}else{var C=void 0,k=o.maxFragLookUpTolerance,x=m?E[m.sn-E[0].sn+1]:void 0,P=function(e){var t=Math.min(k,e.duration);return e.start+e.duration-t<=h?1:e.start-t>h&&e.start?-1:0};h<_?(h>_-k&&(k=0),C=x&&!P(x)?x:S(E,P)):C=E[R-1],C&&(T=C,A=C.start,m&&T.level===m.level&&T.sn===m.sn&&(T.sn<r.endSN?(T=E[T.sn+1-r.startSN],l.b.log("SN just loaded, load next one: "+T.sn)):T=null))}if(T)if(T.decryptdata&&null!=T.decryptdata.uri&&null==T.decryptdata.key)l.b.log("Loading key for "+T.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+b),this.state=e_,i.trigger(s.a.KEY_LOADING,{frag:T});else{if(l.b.log("Loading "+T.sn+", cc: "+T.cc+" of ["+r.startSN+" ,"+r.endSN+"],track "+b+", currentTime:"+e+",bufferEnd:"+h.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,T.loadCounter){T.loadCounter++;var B=o.fragLoadingLoopThreshold;if(T.loadCounter>B&&Math.abs(this.fragLoadIdx-T.loadIdx)<B)return void i.trigger(s.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:T})}else T.loadCounter=1;T.loadIdx=this.fragLoadIdx,this.fragCurrent=T,this.startFragRequested=!0,isNaN(T.sn)||(this.nextLoadPosition=T.start+T.duration),i.trigger(s.a.FRAG_LOADING,{frag:T}),this.state=eT}}break;case eC:(t=this.tracks[this.trackId])&&t.details&&(this.state=eR);break;case ew:var D=performance.now(),O=this.retryDate,U=(d=this.media)&&d.seeking;(!O||D>=O||U)&&(l.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=eR);break;case eB:var I=this.videoTrackCC;if(void 0===this.initPTS[I])break;var K=this.waitingFragment;if(K){var j=K.frag.cc;I!==j?(t=this.tracks[this.trackId]).details&&t.details.live&&(l.b.warn("Waiting fragment CC ("+j+") does not match video track CC ("+I+")"),this.waitingFragment=null,this.state=eR):(this.state=eT,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=eR}},t.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)},t.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(l.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.tracks;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},t.prototype.onMediaSeeking=function(){this.state===ex&&(this.state=eR),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()},t.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},t.prototype.onAudioTracksUpdated=function(e){l.b.log("audio tracks updated"),this.tracks=e.audioTracks},t.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=eA,this.waitingFragment=null,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=eR,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()},t.prototype.onAudioTrackLoaded=function(e){var t=e.details,r=e.id,i=this.tracks[r],o=t.totalduration,n=0;if(l.b.log("track "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+o),t.live){var s=i.details;s&&t.fragments.length>0?(M(s,t),n=t.fragments[0].start,t.PTSKnown?l.b.log("live audio playlist sliding:"+n.toFixed(3)):l.b.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,l.b.log("live audio playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(i.details=t,!this.startFragRequested){if(-1===this.startPosition){var a=t.startTimeOffset;isNaN(a)?this.startPosition=0:(l.b.log("start time offset found in playlist, adjust startPosition to "+a),this.startPosition=a)}this.nextLoadPosition=this.startPosition}this.state===eC&&(this.state=eR),this.tick()},t.prototype.onKeyLoaded=function(){this.state===e_&&(this.state=eR,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag;if(this.state===eT&&t&&"audio"===r.type&&r.level===t.level&&r.sn===t.sn){var i=this.tracks[this.trackId],o=i.details,n=o.totalduration,a=t.level,d=t.sn,c=t.cc,p=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",u=this.stats=e.stats;if("initSegment"===d)this.state=eR,u.tparsed=u.tbuffered=performance.now(),o.initSegment.data=e.payload,this.hls.trigger(s.a.FRAG_BUFFERED,{stats:u,frag:t,id:"audio"}),this.tick();else{this.state=eS,this.appended=!1,this.demuxer||(this.demuxer=new I(this.hls,"audio"));var f=this.initPTS[c],h=o.initSegment?o.initSegment.data:[];o.initSegment||void 0!==f?(this.pendingBuffering=!0,l.b.log("Demuxing "+d+" of ["+o.startSN+" ,"+o.endSN+"],track "+a),this.demuxer.push(e.payload,h,p,null,t,n,!1,f)):(l.b.log("unknown video PTS for continuity counter "+c+", waiting for video PTS before demuxing audio frag "+d+" of ["+o.startSN+" ,"+o.endSN+"],track "+a),this.waitingFragment=e,this.state=eB)}}this.fragLoadError=0},t.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===eS){var i=e.tracks,o=void 0;if(i.video&&delete i.video,o=i.audio){o.levelCodec=o.codec,o.id=e.id,this.hls.trigger(s.a.BUFFER_CODECS,i),l.b.log("audio track:audio,container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var n=o.initSegment;if(n){var a={type:"audio",data:n,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.a.BUFFER_APPENDING,a))}this.tick()}}},t.prototype.onFragParsingData=function(e){var t=this,r=this.fragCurrent,i=e.frag;if(r&&"audio"===e.id&&"audio"===e.type&&i.sn===r.sn&&i.level===r.level&&this.state===eS){var o=this.trackId,n=this.tracks[o],a=this.hls;isNaN(e.endPTS)&&(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),l.b.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),j(n.details,r,e.startPTS,e.endPTS);var d=this.audioSwitch,c=this.media,p=!1;if(d&&c)if(c.readyState){var u=c.currentTime;l.b.log("switching audio track : currentTime:"+u),u>=e.startPTS&&(l.b.log("switching audio track : flushing all audio"),this.state=ek,a.trigger(s.a.BUFFER_FLUSHING,{startOffset:0,endOffset:1/0,type:"audio"}),p=!0,this.audioSwitch=!1,a.trigger(s.a.AUDIO_TRACK_SWITCHED,{id:o}))}else this.audioSwitch=!1,a.trigger(s.a.AUDIO_TRACK_SWITCHED,{id:o});var f=this.pendingData;this.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&t.length&&f.push({type:e.type,data:t,parent:"audio",content:"data"})}),!p&&f.length&&(f.forEach(function(e){t.state===eS&&(t.pendingBuffering=!0,t.hls.trigger(s.a.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}},t.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===eS&&(this.stats.tparsed=performance.now(),this.state=eL,this._checkAppendedParsed())},t.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},t.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},t.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;(t===eS||t===eL)&&(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},t.prototype._checkAppendedParsed=function(){if(this.state===eL&&(!this.appended||!this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,r=this.hls;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),r.trigger(s.a.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;l.b.log("audio buffered : "+N(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(s.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=eR}this.tick()}},t.prototype.onError=function(e){var t=e.frag;if(!(t&&"audio"!==t.type))switch(e.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:if(!e.fatal){var r=this.fragLoadError;r?r++:r=1;var i=this.config;if(r<=i.fragLoadingMaxRetry){this.fragLoadError=r,t.loadCounter=0;var o=Math.min(Math.pow(2,r-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);l.b.warn("audioStreamController: frag loading failed, retry in "+o+" ms"),this.retryDate=performance.now()+o,this.state=ew}else l.b.error("audioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=eP}break;case a.a.FRAG_LOOP_LOADING_ERROR:case a.a.AUDIO_TRACK_LOAD_ERROR:case a.a.AUDIO_TRACK_LOAD_TIMEOUT:case a.a.KEY_LOAD_ERROR:case a.a.KEY_LOAD_TIMEOUT:this.state!==eP&&(this.state=e.fatal?eP:eR,l.b.warn("audioStreamController: "+e.details+" while loading frag,switch to "+this.state+" state ..."));break;case a.a.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===eS||this.state===eL)){var n=this.mediaBuffer,d=this.media.currentTime;if(n&&L.isBuffered(n,d)&&L.isBuffered(n,d+.5)){var c=this.config;c.maxMaxBufferLength>=c.maxBufferLength&&(c.maxMaxBufferLength/=2,l.b.warn("audio:reduce max buffer length to "+c.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*c.fragLoadingLoopThreshold),this.state=eR}else l.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=ek,this.hls.trigger(s.a.BUFFER_FLUSHING,{startOffset:0,endOffset:1/0,type:"audio"})}}},t.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(l.b.log("appending pending audio data on Buffer Flushed"),t.forEach(function(t){e.hls.trigger(s.a.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=eL):(this.state=eR,this.fragPrevious=null,this.tick())},eb(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,l.b.log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}]),t}(c),eO=function(){if("u">typeof window&&window.VTTCue)return window.VTTCue;var e={"":!0,lr:!0,rl:!0},t={start:!0,middle:!0,end:!0,left:!0,right:!0};function r(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}function i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e}function o(t,o,n){var s=this,a=function(){if(!(typeof navigator>"u"))return/MSIE\s8\.0/.test(navigator.userAgent)}(),l={};a?s=document.createElement("custom"):l.enumerable=!0,s.hasBeenReset=!1;var d="",c=!1,p=t,u=o,f=n,h=null,m="",y=!0,g="auto",b="start",v=50,E="middle",R=50,A="middle";if(Object.defineProperty(s,"id",i({},l,{get:function(){return d},set:function(e){d=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(s,"startTime",i({},l,{get:function(){return p},set:function(e){if("number"!=typeof e)throw TypeError("Start time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},l,{get:function(){return u},set:function(e){if("number"!=typeof e)throw TypeError("End time must be set to a number.");u=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},l,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},l,{get:function(){return h},set:function(e){h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},l,{get:function(){return m},set:function(t){var r="string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase();if(!1===r)throw SyntaxError("An invalid or illegal string was specified.");m=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},l,{get:function(){return y},set:function(e){y=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},l,{get:function(){return g},set:function(e){if("number"!=typeof e&&"auto"!==e)throw SyntaxError("An invalid number or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},l,{get:function(){return b},set:function(e){var t=r(e);if(!t)throw SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},l,{get:function(){return v},set:function(e){if(e<0||e>100)throw Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},l,{get:function(){return E},set:function(e){var t=r(e);if(!t)throw SyntaxError("An invalid or illegal string was specified.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},l,{get:function(){return R},set:function(e){if(e<0||e>100)throw Error("Size must be between 0 and 100.");R=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},l,{get:function(){return A},set:function(e){var t=r(e);if(!t)throw SyntaxError("An invalid or illegal string was specified.");A=t,this.hasBeenReset=!0}})),s.displayState=void 0,a)return s}return o.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},o}(),eU=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};function eI(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new eU,this.regionList=[]}function eK(){this.values=Object.create(null)}function ej(e,t,r,i){var o=i?e.split(i):[e];for(var n in o)if("string"==typeof o[n]){var s=o[n].split(r);2===s.length&&t(s[0],s[1])}}eK.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var i=0;i<r.length;++i)if(t===r[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100&&(this.set(e,t),!0)}};var eM=new eO(0,0,0),eN="middle"===eM.align?"middle":"center";function eV(e){return e.replace(/<br(?: \/)?>/gi,`
`)}function eF(e,t,r,i){for(var o,n,s,a,l,d=window.VTTCue||window.TextTrackCue,c=0;c<i.rows.length;c++)if(o=i.rows[c],s=!0,a=0,l="",!o.isEmpty()){for(var p=0;p<o.chars.length;p++)o.chars[p].uchar.match(/\s/)&&s?a++:(l+=o.chars[p].uchar,s=!1);o.cueStartTime=t,t===r&&(r+=1e-4),n=new d(t,r,eV(l.trim())),a>=16?a--:a++,navigator.userAgent.match(/Firefox\//)?n.line=c+1:n.line=c>7?c-2:c+1,n.align="left",n.position=Math.max(0,Math.min(100,a/32*100+50*!!navigator.userAgent.match(/Firefox\//))),e.addCue(n)}}function eG(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}eI.prototype={parse:function(e){var t,r=this;function i(){var e=r.buffer,t=0;for(e=eV(e);t<e.length&&"\r"!==e[t]&&e[t]!==`
`;)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,e[t]===`
`&&++t,r.buffer=e.substr(t),i}e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));try{if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var o,n=(t=i()).match(/^()?WEBVTT([ \t].*)?$/);if(!n||!n[0])throw Error("Malformed WebVTT signature.");r.state="HEADER"}for(var s=!1;r.buffer&&/\r\n|\n/.test(r.buffer);)switch(s?s=!1:t=i(),r.state){case"HEADER":/:/.test(t)?(o=t,ej(o,function(e,t){"Region"===e&&console.log("parse region",t)},/:/)):t||(r.state="ID");continue;case"NOTE":t||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(t)){r.state="NOTE";break}if(!t)continue;if(r.cue=new eO(0,0,""),r.state="CUE",-1===t.indexOf("--\x3e")){r.cue.id=t;continue}case"CUE":try{!function(e,t,r){var i,o,n,s,a=e;function l(){var t=function(e){function t(e,t,r,i){return(0|e)*3600+(0|t)*60+(0|r)+(0|i)/1e3}var r=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}(e);if(null===t)throw Error("Malformed timestamp: "+a);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function d(){e=e.replace(/^\s+/,"")}if(d(),t.startTime=l(),d(),"--\x3e"!==e.substr(0,3))throw Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+a);e=e.substr(3),d(),t.endTime=l(),d(),i=e,o=new eK,ej(i,function(e,t){switch(e){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===t){o.set(e,r[i].region);break}break;case"vertical":o.alt(e,t,["rl","lr"]);break;case"line":var n=t.split(","),s=n[0];o.integer(e,s),o.percent(e,s)&&o.set("snapToLines",!1),o.alt(e,s,["auto"]),2===n.length&&o.alt("lineAlign",n[1],["start",eN,"end"]);break;case"position":n=t.split(","),o.percent(e,n[0]),2===n.length&&o.alt("positionAlign",n[1],["start",eN,"end","line-left","line-right","auto"]);break;case"size":o.percent(e,t);break;case"align":o.alt(e,t,["start",eN,"end","left","right"])}},/:/,/\s/),t.region=o.get("region",null),t.vertical=o.get("vertical",""),"auto"===(n=o.get("line","auto"))&&-1===eM.line&&(n=-1),t.line=n,t.lineAlign=o.get("lineAlign","start"),t.snapToLines=o.get("snapToLines",!0),t.size=o.get("size",100),t.align=o.get("align",eN),"auto"===(s=o.get("position","auto"))&&50===eM.position&&(s="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=s}(t,r.cue,r.regionList)}catch{r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var a=-1!==t.indexOf("--\x3e");if(!t||a&&(s=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+=`
`),r.cue.text+=t;continue;case"BADCUE":t||(r.state="ID");continue}}catch{"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+=`

`,this.parse()),"INITIAL"===this.state)throw Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}};var eq={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},e$=function(e){var t=e;return eq.hasOwnProperty(e)&&(t=eq[e]),String.fromCharCode(t)},ez={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},eX={17:2,18:4,21:6,22:8,23:10,19:13,20:15},eH={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},eZ={25:2,26:4,29:6,30:8,31:10,27:13,28:15},eW=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],eY={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var r=this.verboseFilter[e];this.verboseLevel>=r&&console.log(this.time+" ["+e+"] "+t)}},eQ=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},eJ=function(){function e(t,r,i,o,n){eG(this,e),this.foreground=t||"white",this.underline=r||!1,this.italics=i||!1,this.background=o||"black",this.flash=n||!1}return e.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var i=t[r];e.hasOwnProperty(i)&&(this[i]=e[i])}},e.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},e.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},e.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),e0=function(){function e(t,r,i,o,n,s){eG(this,e),this.uchar=t||" ",this.penState=new eJ(r,i,o,n,s)}return e.prototype.reset=function(){this.uchar=" ",this.penState.reset()},e.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},e.prototype.setPenState=function(e){this.penState.copy(e)},e.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},e.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},e.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),e1=function(){function e(){eG(this,e),this.chars=[];for(var t=0;t<100;t++)this.chars.push(new e0);this.pos=0,this.currPenState=new eJ}return e.prototype.equals=function(e){for(var t=!0,r=0;r<100;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<100;t++)this.chars[t].copy(e.chars[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<100;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},e.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(eY.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(eY.log("ERROR","Too large cursor position "+this.pos),this.pos=100)},e.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},e.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=e$(e);this.pos>=100?eY.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},e.prototype.clearFromPos=function(e){var t;for(t=e;t<100;t++)this.chars[t].reset()},e.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.prototype.getTextString=function(){for(var e=[],t=!0,r=0;r<100;r++){var i=this.chars[r].uchar;" "!==i&&(t=!1),e.push(i)}return t?"":e.join("")},e.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),e4=function(){function e(){eG(this,e),this.rows=[];for(var t=0;t<15;t++)this.rows.push(new e1);this.currRow=14,this.nrRollUpRows=null,this.reset()}return e.prototype.reset=function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},e.prototype.equals=function(e){for(var t=!0,r=0;r<15;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},e.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},e.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},e.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},e.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},e.prototype.setCursor=function(e){eY.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},e.prototype.setPAC=function(e){eY.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var r=0;r<15;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){var n=o.rows[i].cueStartTime;if(n&&n<eY.time)for(var s=0;s<this.nrRollUpRows;s++)this.rows[t-this.nrRollUpRows+s+1].copy(o.rows[i+s])}}this.currRow=t;var a=this.rows[this.currRow];if(null!==e.indent){var l=Math.max(e.indent-1,0);a.setCursor(e.indent),e.color=a.chars[l].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(d)},e.prototype.setBkgData=function(e){eY.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},e.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},e.prototype.rollUp=function(){if(null===this.nrRollUpRows)return void eY.log("DEBUG","roll_up but nrRollUpRows not set yet");eY.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),eY.log("INFO","Rolling up")},e.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],r="",i=-1,o=0;o<15;o++){var n=this.rows[o].getTextString();n&&(i=o+1,e?t.push("Row "+i+": '"+n+"'"):t.push(n.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join(`
`)),r},e.prototype.getTextAndFormat=function(){return this.rows},e}(),e5=function(){function e(t,r){eG(this,e),this.chNr=t,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new e4,this.nonDisplayedMemory=new e4,this.lastOutputScreen=new e4,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},e.prototype.getHandler=function(){return this.outputFilter},e.prototype.setHandler=function(e){this.outputFilter=e},e.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},e.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},e.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,eY.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},e.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";eY.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(eY.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.prototype.ccRCL=function(){eY.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.prototype.ccBS=function(){eY.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.prototype.ccAOF=function(){},e.prototype.ccAON=function(){},e.prototype.ccDER=function(){eY.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.prototype.ccRU=function(e){eY.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},e.prototype.ccFON=function(){eY.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.prototype.ccRDC=function(){eY.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.prototype.ccTR=function(){eY.log("INFO","TR"),this.setMode("MODE_TEXT")},e.prototype.ccRTD=function(){eY.log("INFO","RTD"),this.setMode("MODE_TEXT")},e.prototype.ccEDM=function(){eY.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.prototype.ccCR=function(){eY.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.prototype.ccENM=function(){eY.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.prototype.ccEOC=function(){if(eY.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,eY.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.prototype.ccTO=function(e){eY.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},e.prototype.ccMIDROW=function(e){var t={flash:!1};(t.underline=e%2==1,t.italics=e>=46,t.italics)?t.foreground="white":t.foreground=["white","green","blue","cyan","red","yellow","magenta"][Math.floor(e/2)-16],eY.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},e.prototype.outputDataUpdate=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=eY.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},e.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),e2=function(){function e(t,r,i){eG(this,e),this.field=t||1,this.outputs=[r,i],this.channels=[new e5(1,r),new e5(2,i)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e.prototype.getHandler=function(e){return this.channels[e].getHandler()},e.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},e.prototype.addData=function(e,t){var r,i,o,n=!1;this.lastTime=e,eY.setTime(e);for(var s=0;s<t.length;s+=2){if(i=127&t[s],o=127&t[s+1],0===i&&0===o){this.dataCounters.padding+=2;continue}eY.log("DATA","["+eQ([t[s],t[s+1]])+"] -> ("+eQ([i,o])+")"),(r=this.parseCmd(i,o))||(r=this.parseMidrow(i,o)),r||(r=this.parsePAC(i,o)),r||(r=this.parseBackgroundAttributes(i,o)),!r&&(n=this.parseChars(i,o))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(n):eY.log("WARNING","No channel found yet. TEXT-MODE?")),r?this.dataCounters.cmd+=2:n?this.dataCounters.char+=2:(this.dataCounters.other+=2,eY.log("WARNING","Couldn't parse cleaned data "+eQ([i,o])+" orig: "+eQ([t[s],t[s+1]])))}},e.prototype.parseCmd=function(e,t){var r=null,i=(20===e||28===e)&&32<=t&&t<=47,o=(23===e||31===e)&&33<=t&&t<=35;if(!(i||o))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,eY.log("DEBUG","Repeated command ("+eQ([e,t])+") is dropped"),!0;r=20===e||23===e?1:2;var n=this.channels[r-1];return 20===e||28===e?32===t?n.ccRCL():33===t?n.ccBS():34===t?n.ccAOF():35===t?n.ccAON():36===t?n.ccDER():37===t?n.ccRU(2):38===t?n.ccRU(3):39===t?n.ccRU(4):40===t?n.ccFON():41===t?n.ccRDC():42===t?n.ccTR():43===t?n.ccRTD():44===t?n.ccEDM():45===t?n.ccCR():46===t?n.ccENM():47===t&&n.ccEOC():n.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},e.prototype.parseMidrow=function(e,t){var r=null;return(17===e||25===e)&&!!(32<=t)&&!!(t<=47)&&((r=17===e?1:2)!==this.currChNr?(eY.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[r-1].ccMIDROW(t),eY.log("DEBUG","MIDROW ("+eQ([e,t])+")"),!0))},e.prototype.parsePAC=function(e,t){var r=null,i=null,o=(17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127,n=(16===e||24===e)&&64<=t&&t<=95;if(!(o||n))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=e<=23?1:2,i=64<=t&&t<=95?1===r?ez[e]:eH[e]:1===r?eX[e]:eZ[e];var s=this.interpretPAC(i,t);return this.channels[r-1].setPAC(s),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},e.prototype.interpretPAC=function(e,t){var r=t,i={color:null,italics:!1,indent:null,underline:!1,row:e};return i.underline=(1&(r=t>95?t-96:t-64))==1,r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((r-16)/2),i},e.prototype.parseChars=function(e,t){var r=null,i=null,o=null;if(e>=25?(r=2,o=e-8):(r=1,o=e),17<=o&&o<=19){var n=t;n=17===o?t+80:18===o?t+112:t+144,eY.log("INFO","Special char '"+e$(n)+"' in channel "+r),i=[n]}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var s=eQ(i);eY.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},e.prototype.parseBackgroundAttributes=function(e,t){var r,i;return(!!((16===e||24===e)&&32<=t&&t<=47)||!!((23===e||31===e)&&45<=t&&t<=47))&&(r={},16===e||24===e?(r.background=eW[Math.floor((t-32)/2)],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),i=e<24?1:2,this.channels[i-1].setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)},e.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},e.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}(),e3=function(){function e(t,r){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.timelineController=t,this.track=r,this.startTime=null,this.endTime=null,this.screen=null}return e.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues("textTrack"+this.track,this.startTime,this.endTime,this.screen),this.startTime=null)},e.prototype.newCue=function(e,t,r){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.track)},e}(),e7=function(e,t,r){return e.substr(0,t.length)===t},e6=function(e){var t=parseInt(e.substr(-3)),r=parseInt(e.substr(-6,2)),i=parseInt(e.substr(-9,2)),o=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return isNaN(t)||isNaN(r)||isNaN(i)||isNaN(o)?-1:(t+=1e3*r,t+=6e4*i,t+=36e5*o)},e9=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()},e8=function(e,t,r){var i=e[t],o=e[i.prevCC];if(!o||!o.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;o&&o.new;)e.ccOffset+=i.start-o.start,i.new=!1,o=e[(i=o).prevCC];e.presentationOffset=r},te=function(e,t,r,i,o,n){var s=Object(eo.b)(new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g,`
`).split(`
`),a="00:00.000",l=0,d=0,c=0,p=[],u=void 0,f=!0,h=new eI;h.oncue=function(e){var t=r[i],o=r.ccOffset;t&&t.new&&(void 0!==d?o=r.ccOffset=t.start:e8(r,i,c)),c&&(o=c+r.ccOffset-r.presentationOffset),e.startTime+=o-d,e.endTime+=o-d,e.id=e9(e.startTime.toString())+e9(e.endTime.toString())+e9(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&p.push(e)},h.onparsingerror=function(e){u=e},h.onflush=function(){u&&n?n(u):o(p)},s.forEach(function(e){if(f)if(e7(e,"X-TIMESTAMP-MAP=")){f=!1,e.substr(16).split(",").forEach(function(e){e7(e,"LOCAL:")?a=e.substr(6):e7(e,"MPEGTS:")&&(l=parseInt(e.substr(7)))});try{t=t<0?t+0x200000000:t,l-=t,d=e6(a)/1e3,c=l/9e4,-1===d&&(u=Error("Malformed X-TIMESTAMP-MAP: "+e))}catch{u=Error("Malformed X-TIMESTAMP-MAP: "+e)}return}else""===e&&(f=!1);h.parse(e+`
`)}),h.flush()};function tt(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}var tr=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var i=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.MEDIA_ATTACHING,s.a.MEDIA_DETACHING,s.a.FRAG_PARSING_USERDATA,s.a.FRAG_DECRYPTED,s.a.MANIFEST_LOADING,s.a.MANIFEST_LOADED,s.a.FRAG_LOADED,s.a.LEVEL_SWITCHING,s.a.INIT_PTS_FOUND));if(i.hls=r,i.config=r.config,i.enabled=!0,i.Cues=r.config.cueHandler,i.textTracks=[],i.tracks=[],i.unparsedVttFrags=[],i.initPTS=void 0,i.cueRanges=[],i.config.enableCEA708Captions){var o=new e3(i,1),n=new e3(i,2);i.cea608Parser=new e2(0,o,n)}return i}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype.addCues=function(e,t,r,i){for(var o=this.cueRanges,n=!1,s=o.length;s--;){var a,l=o[s],d=(a=l[0],Math.min(l[1],r)-Math.max(a,t));if(d>=0&&(l[0]=Math.min(l[0],t),l[1]=Math.max(l[1],r),n=!0,d/(r-t)>.5))return}n||o.push([t,r]),this.Cues.newCue(this[e],t,r,i)},t.prototype.onInitPtsFound=function(e){var t=this;typeof this.initPTS>"u"&&(this.initPTS=e.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(e){t.onFragLoaded(e)}),this.unparsedVttFrags=[])},t.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var i=t.textTracks[r];if(!0===i["textTrack"+e])return i}return null},t.prototype.sendAddTrackEvent=function(e,t){var r=null;try{r=new window.Event("addtrack")}catch{(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)},t.prototype.createCaptionsTrack=function(e){var t="textTrack"+e;if(!this[t]){var r=this.getExistingTrack(e);if(r)this[t]=r,tt(this[t]),this.sendAddTrackEvent(this[t],this.media);else{var i=this.createTextTrack("captions",this.config["captionsTextTrack"+e+"Label"],this.config.captionsTextTrack1LanguageCode);i&&(i[t]=!0,this[t]=i)}}},t.prototype.createTextTrack=function(e,t,r){var i=this.media;if(i)return i.addTextTrack(e,t,r)},t.prototype.destroy=function(){c.prototype.destroy.call(this)},t.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},t.prototype.onMediaDetaching=function(){tt(this.textTrack1),tt(this.textTrack2)},t.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},t.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var r=0;r<t.length;r++)tt(t[r])}},t.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var r=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,i){var o=void 0;if(i<r.length){var n=r[i];n&&n.label===e.name&&!(n.textTrack1||n.textTrack2)&&(o=n)}o||(o=t.createTextTrack("subtitles",e.name,e.lang)),o.mode=e.default?"showing":"hidden",t.textTracks.push(o)})}},t.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},t.prototype.onFragLoaded=function(e){var t=e.frag,r=e.payload;if("main"===t.type){var i=t.sn;if(i!==this.lastSn+1){var o=this.cea608Parser;o&&o.reset()}this.lastSn=i}else if("subtitle"===t.type)if(r.byteLength){if(typeof this.initPTS>"u")return void this.unparsedVttFrags.push(e);var n=t.decryptdata;(null==n||null==n.key||"AES-128"!==n.method)&&this._parseVTTs(t,r)}else this.hls.trigger(s.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},t.prototype._parseVTTs=function(e,t){var r=this.vttCCs;r[e.cc]||(r[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var i=this.textTracks,o=this.hls;te(t,this.initPTS,r,e.cc,function(t){var r=i[e.trackId];t.forEach(function(e){if(!r.cues.getCueById(e.id))try{r.addCue(e)}catch{var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,r.addCue(t)}}),o.trigger(s.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},function(t){l.b.log("Failed to parse VTT cue: "+t),o.trigger(s.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})},t.prototype.onFragDecrypted=function(e){var t=e.payload,r=e.frag;if("subtitle"===r.type){if(typeof this.initPTS>"u")return void this.unparsedVttFrags.push(e);this._parseVTTs(r,t)}},t.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var r=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,r)}},t.prototype.extractCea608Data=function(e){for(var t,r,i,o,n,s=31&e[0],a=2,l=[],d=0;d<s;d++)t=e[a++],r=127&e[a++],i=127&e[a++],o=(4&t)!=0,n=3&t,(0!==r||0!==i)&&o&&0===n&&(l.push(r),l.push(i));return l},t}(c),ti=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();function to(e){for(var t=[],r=0;r<e.length;r++)"subtitles"===e[r].kind&&t.push(e[r]);return t}var tn=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var i=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.MEDIA_ATTACHED,s.a.MEDIA_DETACHING,s.a.MANIFEST_LOADING,s.a.MANIFEST_LOADED,s.a.SUBTITLE_TRACK_LOADED));return i.tracks=[],i.trackId=-1,i.media=void 0,i.subtitleDisplay=!1,i}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=to(this.media.textTracks),r=0;r<t.length;r++)"showing"===t[r].mode&&(e=r);this.subtitleTrack=e}},t.prototype.destroy=function(){c.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(void 0!==this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},t.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},t.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},t.prototype.onManifestLoaded=function(e){var t=this,r=e.subtitles||[];this.tracks=r,this.trackId=-1,this.hls.trigger(s.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach(function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)})},t.prototype.onTick=function(){var e=this.trackId,t=this.tracks[e];if(t){var r=t.details;(void 0===r||!0===r.live)&&(l.b.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(s.a.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}},t.prototype.onSubtitleTrackLoaded=function(e){var t=this;e.id<this.tracks.length&&(l.b.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(function(){t.onTick()},1e3*e.details.targetduration,this)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},t.prototype.setSubtitleTrackInternal=function(e){if(!(e<-1||e>=this.tracks.length)){this.timer&&(clearInterval(this.timer),this.timer=null);var t=to(this.media.textTracks);if(-1!==this.trackId&&this.subtitleDisplay&&(t[this.trackId].mode="hidden"),this.trackId=e,l.b.log("switching to subtitle track "+e),this.hls.trigger(s.a.SUBTITLE_TRACK_SWITCH,{id:e}),-1!==e){var r=this.tracks[e];this.subtitleDisplay&&(t[e].mode="showing");var i=r.details;(void 0===i||!0===i.live)&&(l.b.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(s.a.SUBTITLE_TRACK_LOADING,{url:r.url,id:e}))}}},ti(t,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&this.setSubtitleTrackInternal(e)}}]),t}(c),ts=r(4),ta="STOPPED",tl="IDLE",td="KEY_LOADING",tc="FRAG_LOADING",tp=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var i=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,r,s.a.MEDIA_ATTACHED,s.a.ERROR,s.a.KEY_LOADED,s.a.FRAG_LOADED,s.a.SUBTITLE_TRACKS_UPDATED,s.a.SUBTITLE_TRACK_SWITCH,s.a.SUBTITLE_TRACK_LOADED,s.a.SUBTITLE_FRAG_PROCESSED));return i.config=r.config,i.vttFragSNsProcessed={},i.vttFragQueues=void 0,i.currentlyProcessing=null,i.state=ta,i.currentTrackId=-1,i.ticks=0,i.decrypter=new ts.a(r.observer,r.config),i}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),t.prototype.destroy=function(){c.prototype.destroy.call(this),this.state=ta},t.prototype.clearVttFragQueues=function(){var e=this;this.vttFragQueues={},this.tracks.forEach(function(t){e.vttFragQueues[t.id]=[]})},t.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var e=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=e,this.hls.trigger(s.a.FRAG_LOADING,{frag:e}),this.state=tc}},t.prototype.onSubtitleFragProcessed=function(e){e.success&&this.vttFragSNsProcessed[e.frag.trackId].push(e.frag.sn),this.currentlyProcessing=null,this.state=tl,this.nextFrag()},t.prototype.onMediaAttached=function(){this.state=tl},t.prototype.onError=function(e){var t=e.frag;t&&"subtitle"!==t.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},t.prototype.tick=function(){var e=this;this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(function(){e.tick()},1),this.ticks=0)},t.prototype.doTick=function(){var e=this;switch(this.state){case tl:var t,r=this.tracks,i=this.currentTrackId,o=this.vttFragSNsProcessed[i],n=this.vttFragQueues[i],a=this.currentlyProcessing?this.currentlyProcessing.sn:-1;if(!r||(i<r.length&&(t=r[i].details),typeof t>"u"))break;t.fragments.forEach(function(t){o.indexOf(t.sn)>-1||t.sn===a||n.some(function(e){return e.sn===t.sn})||(t.decryptdata&&null!=t.decryptdata.uri&&null==t.decryptdata.key?(l.b.log("Loading key for "+t.sn),e.state=td,e.hls.trigger(s.a.KEY_LOADING,{frag:t})):(t.trackId=i,n.push(t),e.nextFrag()))})}},t.prototype.onSubtitleTracksUpdated=function(e){var t=this;l.b.log("subtitle tracks updated"),this.tracks=e.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(e){t.vttFragSNsProcessed[e.id]=[]})},t.prototype.onSubtitleTrackSwitch=function(e){this.currentTrackId=e.id,this.clearVttFragQueues()},t.prototype.onSubtitleTrackLoaded=function(){this.tick()},t.prototype.onKeyLoaded=function(){this.state===td&&(this.state=tl,this.tick())},t.prototype.onFragLoaded=function(e){var t,r=this.fragCurrent,i=e.frag.decryptdata,o=e.frag,n=this.hls;if(this.state===tc&&r&&"subtitle"===e.frag.type&&r.sn===e.frag.sn&&e.payload.byteLength>0&&null!=i&&null!=i.key&&"AES-128"===i.method){try{t=performance.now()}catch{t=Date.now()}this.decrypter.decrypt(e.payload,i.key.buffer,i.iv.buffer,function(e){var r;try{r=performance.now()}catch{r=Date.now()}n.trigger(s.a.FRAG_DECRYPTED,{frag:o,payload:e,stats:{tstart:t,tdecrypt:r}})})}},t}(c),tu={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:em,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:ed,bufferController:ep,capLevelController:ef,fpsController:eh,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0};tu.subtitleStreamController=tp,tu.subtitleTrackController=tn,tu.timelineController=tr,tu.cueHandler=i,tu.enableCEA708Captions=!0,tu.enableWebVTT=!0,tu.captionsTextTrack1Label="English",tu.captionsTextTrack1LanguageCode="en",tu.captionsTextTrack2Label="Spanish",tu.captionsTextTrack2LanguageCode="es",tu.audioStreamController=eD,tu.audioTrackController=eg;var tf=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();t.default=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof e))throw TypeError("Cannot call a class as a function");var i=e.DefaultConfig;if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var o in i)o in r||(r[o]=i[o]);if(void 0!==r.liveMaxLatencyDurationCount&&r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount)throw Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(r.liveMaxLatencyDuration<=r.liveSyncDuration||void 0===r.liveSyncDuration))throw Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(l.a)(r.debug),this.config=r,this._autoLevelCapping=-1;var n=this.observer=new P.a;n.trigger=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.emit.apply(n,[e,e].concat(r))},n.off=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.removeListener.apply(n,[e].concat(r))},this.on=n.on.bind(n),this.off=n.off.bind(n),this.trigger=n.trigger.bind(n);var s=this.abrController=new r.abrController(this),a=new r.bufferController(this),d=new r.capLevelController(this),c=new r.fpsController(this),p=new T(this),u=new w(this),f=new C(this),h=new en(this),m=[this.levelController=new ei(this),this.streamController=new et(this)],y=r.audioStreamController;y&&m.push(new y(this)),this.networkControllers=m;var g=[p,u,f,s,a,d,c,h];if(y=r.audioTrackController){var b=new y(this);this.audioTrackController=b,g.push(b)}if(y=r.subtitleTrackController){var v=new y(this);this.subtitleTrackController=v,g.push(v)}[r.subtitleStreamController,r.timelineController].forEach(function(e){e&&g.push(new e(t))}),this.coreComponents=g}return e.isSupported=function(){var e,t,r,i;return e=O(),t=window.SourceBuffer||window.WebKitSourceBuffer,r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove,!!r&&!!i},tf(e,null,[{key:"version",get:function(){return"0.8.9"}},{key:"Events",get:function(){return s.a}},{key:"ErrorTypes",get:function(){return a.b}},{key:"ErrorDetails",get:function(){return a.a}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:tu},set:function(t){e.defaultConfig=t}}]),e.prototype.destroy=function(){l.b.log("destroy"),this.trigger(s.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},e.prototype.attachMedia=function(e){l.b.log("attachMedia"),this.media=e,this.trigger(s.a.MEDIA_ATTACHING,{media:e})},e.prototype.detachMedia=function(){l.b.log("detachMedia"),this.trigger(s.a.MEDIA_DETACHING),this.media=null},e.prototype.loadSource=function(e){e=n.a.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),l.b.log("loadSource:"+e),this.url=e,this.trigger(s.a.MANIFEST_LOADING,{url:e})},e.prototype.startLoad=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;l.b.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},e.prototype.stopLoad=function(){l.b.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},e.prototype.swapAudioCodec=function(){l.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},e.prototype.recoverMediaError=function(){l.b.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},tf(e,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){l.b.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){l.b.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){l.b.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){l.b.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){l.b.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){l.b.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return -1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,r=e?e.length:0,i=0;i<r;i++)if((e[i].realBitrate?Math.max(e[i].realBitrate,e[i].bitrate):e[i].bitrate)>t)return i;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return -1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}}]),e}()},function(e,t,r){function i(e){var t={};function r(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var i=r(r.s=ENTRY_MODULE);return i.default||i}e.exports=function(e,t){t=t||{};var o=r.m,n=t.all?Object.keys(o):function(e,t){for(var r=[t],i=[],o={};r.length;){var n=r.pop();if(!(o[n]||!e[n])){o[n]=!0,i.push(n);var s=function(e){var t=[],r=e.toString(),i=r.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!i)return t;for(var o,n=i[1],s=RegExp("(\\\\n|\\W)"+(n+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\w|/|@]+).*?\\)","g");o=s.exec(r);)t.push(o[3]);return t}(e[n]);r=r.concat(s)}}return i}(o,e),s="("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+n.map(function(e){return""+JSON.stringify(e)+": "+o[e].toString()}).join(",")+"})(self);",a=new window.Blob([s],{type:"text/javascript"});if(t.bare)return a;var l=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(a),d=new window.Worker(l);return d.objectURL=l,d}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=r(7),o=r(1),n=r(0),s=r(5),a=r.n(s);t.default=function(e){var t=new a.a;t.trigger=function(e){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t.emit.apply(t,[e,e].concat(i))},t.off=function(e){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t.removeListener.apply(t,[e].concat(i))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener("message",function(o){var s=o.data;switch(s.cmd){case"init":var a=JSON.parse(s.config);e.demuxer=new i.a(t,s.typeSupported,a,s.vendor);try{Object(n.a)(!0===a.debug)}catch{console.warn("demuxerWorker: unable to enable logs")}r("init",null);break;case"demux":e.demuxer.push(s.data,s.decryptdata,s.initSegment,s.audioCodec,s.videoCodec,s.timeOffset,s.discontinuity,s.trackSwitch,s.contiguous,s.duration,s.accurateTimeOffset,s.defaultInitPTS)}}),t.on(o.a.FRAG_DECRYPTED,r),t.on(o.a.FRAG_PARSING_INIT_SEGMENT,r),t.on(o.a.FRAG_PARSED,r),t.on(o.a.ERROR,r),t.on(o.a.FRAG_PARSING_METADATA,r),t.on(o.a.FRAG_PARSING_USERDATA,r),t.on(o.a.INIT_PTS_FOUND,r),t.on(o.a.FRAG_PARSING_DATA,function(t,r){var i=[],o={event:t,data:r};r.data1&&(o.data1=r.data1.buffer,i.push(r.data1.buffer),delete r.data1),r.data2&&(o.data2=r.data2.buffer,i.push(r.data2.buffer),delete r.data2),e.postMessage(o,i)})}}]).default;let bQ=(d=bY.exports)&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,bJ=({post:e,reason:t,isRoot:r})=>{if("app.bsky.embed.record#viewNotFound"===e.$type||"app.bsky.embed.record#viewBlocked"===e.$type)return null;if("app.bsky.graph.defs#listView"===e.$type)return{username:e.creator.displayName,handle:e.creator.handle,avatar:e.creator.avatar,text:[{val:e.description,setInnerHtml:!1}],createdAt:e.indexedAt,uri:e.uri,images:[],card:null,replyPost:null,isRepost:!1,repostBy:null};let i=e.record.facets||[],o=e.record.text,n=new nf.RichText({text:o,facets:i}),s=[];for(let e of n.segments())e.isLink()?s.push({val:`<a href="${e.link?.uri}" target="_blank" rel="noopener" class="text-blue-500 underline">${e.text}</a>`,setInnerHtml:!0}):e.isMention()?s.push({val:`<a href="https://bsky.app/profile/${e.mention?.did}" target="_blank" rel="noopener" class="text-blue-500 underline">${e.text}</a>`,setInnerHtml:!0}):e.isTag()?s.push({val:`<a href="https://bsky.app/hashtag/${e.tag?.tag}" target="_blank" rel="noopener" class="text-blue-500 underline">${e.text}</a>`,setInnerHtml:!0}):s.push({val:e.text,setInnerHtml:!1});let a=e.embed?.$type==="app.bsky.embed.record#view"?e.embed.record:e.embed?.record?.record?.$type==="app.bsky.embed.record#viewRecord"&&e.embed.record.record,l=a&&{...a,record:a.value||a.record,embed:(a?.embeds||[])[0]},d=e.author||e.creator;return{username:d.displayName,handle:d.handle,avatar:d.avatar,text:s,createdAt:e.record.createdAt,uri:e.uri,images:[...e.embed?.images||[],...e.embed?.media?.images||[],...[e.embed?.media?.external].filter(Boolean).map(e=>({...e,alt:e.title,thumb:e.uri}))],video:e.embed?.$type==="app.bsky.embed.video#view"&&e.embed,card:e.embed?.$type==="app.bsky.embed.external#view"&&e.embed?.external,replyPost:r&&l&&bJ({post:l,reason:{$type:"",by:{displayName:""}},isRoot:!1}),isRepost:t?.$type==="app.bsky.feed.defs#reasonRepost",repostBy:t?.by?.displayName}},b0=e=>(e.feed||[]).map(e=>bJ({...e,isRoot:!0})),b1=e=>{let t=e.lastIndexOf("/");return -1!==t?e.substring(t+1):e},b4=async(e,t,r=!1)=>{"IntersectionObserver"in window?t?new IntersectionObserver(async(i,o)=>{i.forEach(i=>{if(i.isIntersecting){if(bQ.isSupported()){var n=new bQ;n.loadSource(e.playlist),n.attachMedia(t),n.on(bQ.Events.MANIFEST_PARSED,()=>{r||t.play()})}else t.canPlayType("application/vnd.apple.mpegurl")&&(t.src=e.playlist,t.addEventListener("loadedmetadata",()=>{r||t.play()}));o.unobserve(t)}})},{root:null,threshold:.5}).observe(t):console.error("Video element not found"):console.error("IntersectionObserver not supported")};var b5=nt('<article class="p-4 border-b border-slate-300 dark:border-slate-800"><div class="flex gap-2"><div class="w-full max-w-[calc(100%-70px)]"><div class="flex items-center"><a class="text-ellipsis overflow-hidden whitespace-nowrap hover:underline dark:text-white"><span class="font-bold dark:text-white"></span><span> </span><span class="text-slate-500 dark:text-slate-400 text-sm">@</span></a><span class="text-slate-500 dark:text-slate-400 text-sm"><span class=mx-1></span><a class=hover:underline></a></span></div><p class="whitespace-pre-wrap dark:text-white">'),b2=nt('<p class="flex gap-1 items-center ml-10 text-slate-600 dark:text-slate-400"><svg viewBox="0 0 576 512"height=16 width=16 tabindex=-1 class=mr-1><path fill=currentColor d="M272 416c17.7 0 32-14.3 32-32s-14.3-32-32-32H160c-17.7 0-32-14.3-32-32V192h32c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-64-64c-12.5-12.5-32.8-12.5-45.3 0l-64 64c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l32 0 0 128c0 53 43 96 96 96H272zM304 96c-17.7 0-32 14.3-32 32s14.3 32 32 32l112 0c17.7 0 32 14.3 32 32l0 128H416c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8l-32 0V192c0-53-43-96-96-96L304 96z"></path></svg><span class="text-sm text-slate-500 font-semibold">Reposted by '),b3=nt('<img alt="profile picture"class="w-14 h-14 rounded-full">'),b7=nt('<img alt="profile picture"class="w-4 h-4 mr-1 rounded-full">'),b6=nt("<span>"),b9=nt("<div>"),b8=nt("<a><img class=rounded-md>"),ve=nt('<div class="mt-4 w-full"><video width=100% class="rounded-md w-full h-full object-cover"preload=none>'),vt=nt('<a target=_blank rel=noopener class="mt-4 rounded-md border border-slate-300 block"><div class=p-3><p class="text-slate-500 dark:text-slate-400 text-sm"></p><p class="font-bold dark:text-white mb-1"></p><p class="whitespace-pre-wrap dark:text-white">'),vr=nt('<img class=rounded-t-md alt="Post Thumbnail">'),vi=nt('<a target=_blank rel=noopener class="mt-4 rounded-md border border-slate-300 block">');let vo=({linkTarget:e="_self",post:t,handleModalContent:r,isCard:i=!1,dateFormat:o,disableImages:n,disableVideos:s,disableAutoplay:a})=>{var l,d,c,p,u,f,h,m,y,g,b,v,E,R,A,_,T,w;let C;return l=()=>{!s&&t.video&&t.video.cid&&b4(t.video,C,a)},o$(()=>oX(l)),(m=(h=(f=(u=(p=(c=(d=b5()).firstChild).firstChild).firstChild).firstChild).firstChild).nextSibling.nextSibling).firstChild,y=f.nextSibling.firstChild.nextSibling,g=u.nextSibling,ns(d,(b=oz(()=>!!t.isRepost),()=>{var e,r;return b()&&((r=(e=b2()).firstChild.nextSibling).firstChild,ns(r,()=>t.repostBy,null),e)}),c),ns(c,!i&&(v=b3(),oq(()=>ni(v,"src",t.avatar)),v),p),ns(u,i&&(E=b7(),oq(()=>ni(E,"src",t.avatar)),E),f),ni(f,"target",e),ni(f,"rel","_blank"===e?"noopeener":""),ns(h,()=>t.username),ns(m,()=>t.handle,null),ni(y,"target",e),ni(y,"rel","_blank"===e?"noopeener":""),ns(y,(R=oz(()=>!!(o&&"absolute"===o.type)),()=>{var e;let r,i;return R()?new Date(t.createdAt).toLocaleDateString(o.locale,o.options):(e=new Date(t.createdAt),r=new Date,(i=r.getTime()-e.getTime())<6e4?Math.floor(i/1e3)+"s":i<36e5?Math.floor(i/6e4)+"m":i<864e5?Math.floor(i/36e5)+"h":i<2592e6?Math.floor(i/864e5)+"d":i<31536e6?Math.floor(i/2592e6)+" mo":Math.floor(i/31536e6)+" yr")})),ns(g,()=>t.text.map(e=>{var t,r;return e.setInnerHtml?(t=b6(),oq(()=>t.innerHTML=e.val),t):(ns(r=b6(),()=>e.val),r)})),ns(p,(A=oz(()=>!n&&t.images.length>0),()=>{var i;return A()&&(ns(i=b9(),()=>t.images.map(i=>{var o,n;return n=(o=b8()).firstChild,o.$$click=e=>r(e,i),ni(o,"target",e),ni(o,"rel","_blank"===e?"noopeener":""),oq(e=>{var r=`https://bsky.app/profile/${t.handle}/post/${b1(t.uri)}`,s=i.thumb,a=i.alt;return r!==e.e&&ni(o,"href",e.e=r),s!==e.t&&ni(n,"src",e.t=s),a!==e.a&&ni(n,"alt",e.a=a),e},{e:void 0,t:void 0,a:void 0}),o})),oq(()=>no(i,t.images.length>1?"mt-4 grid grid-cols-2 gap-2":"mt-4")),i)}),null),ns(p,(_=oz(()=>!!(!s&&t.video)),()=>{var e,r,i;return _()&&(r=(e=ve()).firstChild,"function"==typeof(i=C)?nn(i,r):C=r,r.autoplay=!1,r.controls=!0,r.muted=!0,oq(()=>ni(r,"poster",t.video.thumbnail)),e)}),null),ns(p,(T=oz(()=>!!t.card),()=>{var e,r,i,o,s,a;return T()&&(s=(o=(i=(r=(e=vt()).firstChild).firstChild).nextSibling).nextSibling,ns(e,(a=oz(()=>!!(t.card.thumb&&!n)),()=>{var e;return a()&&(e=vr(),oq(()=>ni(e,"src",t.card.thumb)),e)}),r),ns(i,()=>new URL(t.card.uri).hostname),ns(o,()=>t.card.title),ns(s,()=>t.card.description),oq(()=>ni(e,"href",t.card.uri)),e)}),null),ns(p,(w=oz(()=>!!t.replyPost),()=>{var i;return w()&&(ns(i=vi(),o3(vo,function(...e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];t=t||!!i&&oD in i,e[r]="function"==typeof i?(t=!0,oz(i)):i}if(oO&&t)return new Proxy({get(t){for(let r=e.length-1;r>=0;r--){let i=o9(e[r])[t];if(void 0!==i)return i}},has(t){for(let r=e.length-1;r>=0;r--)if(t in o9(e[r]))return!0;return!1},keys(){let t=[];for(let r=0;r<e.length;r++)t.push(...Object.keys(o9(e[r])));return[...new Set(t)]}},o6);let r={},i=Object.create(null);for(let t=e.length-1;t>=0;t--){let o=e[t];if(!o)continue;let n=Object.getOwnPropertyNames(o);for(let e=n.length-1;e>=0;e--){let t=n[e];if("__proto__"===t||"constructor"===t)continue;let s=Object.getOwnPropertyDescriptor(o,t);if(i[t]){let e=r[t];e&&(s.get?e.push(s.get.bind(o)):void 0!==s.value&&e.push(()=>s.value))}else i[t]=s.get?{enumerable:!0,configurable:!0,get:o8.bind(r[t]=[s.get.bind(o)])}:void 0!==s.value?s:void 0}}let o={},n=Object.keys(i);for(let e=n.length-1;e>=0;e--){let t=n[e],r=i[t];r&&r.get?Object.defineProperty(o,t,r):o[t]=r?r.value:void 0}return o}({linkTarget:e,handleModalContent:r,disableImages:n,disableVideos:s,disableAutoplay:a},{get post(){return t.replyPost},isCard:!0}))),oq(()=>ni(i,"href",t.card.uri)),i)}),null),oq(e=>{var r=`https://bsky.app/profile/${t.handle}`,i=`https://bsky.app/profile/${t.handle}/post/${b1(t.uri)}`;return r!==e.e&&ni(f,"href",e.e=r),i!==e.t&&ni(y,"href",e.t=i),e},{e:void 0,t:void 0}),d};nr(["click"]);var vn=nt('<section><dialog class="backdrop:bg-gray-800 backdrop:opacity-90"><form class="fixed top-5 right-5"><button type=submit aria-label=close formmethod=dialog formnovalidate class="bg-gray-900 rounded-full w-10 h-10 text-white flex items-center justify-center">X</button></form><img src=""alt=""class=max-h-[90vh]>'),vs=nt("<style>"),va=nt("<link rel=stylesheet>"),vl=nt("<div class=w-full>"),vd=nt('<article class="w-full flex gap-2 p-4 border-b border-slate-300 dark:border-slate-800 animate-pulse"><div class="bg-slate-200 w-14 h-14 rounded-full dark:bg-slate-800"></div><div class="flex-1 space-y-2 py-1"><div class="grid grid-cols-4 gap-4"><div class="h-2 bg-slate-200 rounded col-span-2 dark:bg-slate-800"></div></div><div class="h-2 bg-slate-200 rounded dark:bg-slate-800"></div><div class="h-2 bg-slate-200 rounded dark:bg-slate-800"></div><div class="h-2 bg-slate-200 rounded dark:bg-slate-800">'),vc=nt('<div class="mt-8 mb-16"><button id=bsky-load-more class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Load More Posts');nr(["click"]),function(t,r,i){var o;2==arguments.length&&(i=r,r={}),(function(t,r={},i={}){let{BaseElement:o=HTMLElement,extension:n,customElements:s=window.customElements}=i;return i=>{var a,l;let d,c=s.get(t);return c?c.prototype.Component=i:(a=o,d=Object.keys(l=r?Object.keys(r).reduce((e,t)=>{let i=r[t];return e[t]=oB(i)&&"value"in i?i:{value:i},e[t].attribute||(e[t].attribute=t.replace(/\.?([A-Z]+)/g,(e,t)=>"-"+t.toLowerCase()).replace("_","-").replace(/^-/,"")),e[t].parse="parse"in e[t]?e[t].parse:"string"!=typeof e[t].value,e},{}):{}),(c=class extends a{static get observedAttributes(){return d.map(e=>l[e].attribute)}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){var t,r;let i;if(this.__initialized)return;this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=(t=this,i=Object.keys(l).reduce((e,t)=>{var r;let i=l[t];return e[t]=Object.assign({},i),!oB(i.value)||(r=i.value,"[object Function]"===Object.prototype.toString.call(r))||Array.isArray(i.value)||(e[t].value=Object.assign({},i.value)),Array.isArray(i.value)&&(e[t].value=i.value.slice(0)),e},{}),Object.keys(l).forEach(e=>{let r=i[e],o=t.getAttribute(r.attribute),n=t[e];null!=o&&(r.value=r.parse?ox(o):o),null!=n&&(r.value=Array.isArray(n)?n.slice(0):n),r.reflect&&oP(t,r.attribute,r.value,!!r.parse),Object.defineProperty(t,e,{get:()=>r.value,set(t){let i=r.value;r.value=t,r.reflect&&oP(this,r.attribute,r.value,!!r.parse);for(let r=0,o=this.__propertyChangedCallbacks.length;r<o;r++)this.__propertyChangedCallbacks[r](e,t,i)},enumerable:!0,configurable:!0})}),i);let o=Object.keys(r=this.props).reduce((e,t)=>(e[t]=r[t].value,e),{}),n=this.Component,s=e;try{e=this,this.__initialized=!0,"function"==typeof n&&0===n.toString().indexOf("class")?new n(o,{element:this}):n(o,{element:this})}finally{e=s}}async disconnectedCallback(){if(await Promise.resolve(),this.isConnected)return;this.__propertyChangedCallbacks.length=0;let e=null;for(;e=this.__releaseCallbacks.pop();)e(this);delete this.__initialized,this.__released=!0}attributeChangedCallback(e,t,r){this.__initialized&&!this.__updating[e]&&(e=this.lookupProp(e))in l&&(null!=r||this[e])&&(this[e]=l[e].parse?ox(r):r)}lookupProp(e){if(l)return d.find(t=>e===t||e===l[t].attribute)}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(e){this.__releaseCallbacks.push(e)}addPropertyChangedCallback(e){this.__propertyChangedCallbacks.push(e)}}).prototype.Component=i,c.prototype.registeredTag=t,s.define(t,c,n)),c}})(t,r)((o=i,(e,t)=>{let{element:r}=t;return function(e,t){let r=oM,i=oj,o=0===e.length,n=void 0===t?i:t,s=o?oK:{owned:null,cleanups:null,context:n?n.context:null,owner:n},a=o?e:()=>e(()=>oX(()=>o5(s)));oj=s,oM=null;try{return oJ(a,!0)}finally{oM=r,oj=i}}(i=>{let n=function(e){let t=Object.keys(e),r={};for(let i=0;i<t.length;i++){let[o,n]=oG(e[t[i]]);Object.defineProperty(r,t[i],{get:o,set(e){n(()=>e)}})}return r}(e);r.addPropertyChangedCallback((e,t)=>n[e]=t),r.addReleaseCallback(()=>{r.renderRoot.textContent="",i()});let s=o(n,t);return ns(r.renderRoot,s)},function(e){if(e.assignedSlot&&e.assignedSlot._$owner)return e.assignedSlot._$owner;let t=e.parentNode;for(;t&&!t._$owner&&!(t.assignedSlot&&t.assignedSlot._$owner);)t=t.parentNode;return t&&t.assignedSlot?t.assignedSlot._$owner:e._$owner}(r))}))}("bsky-embed",{username:"",feed:"",limit:10,mode:"",linkTarget:"_self",linkImage:!1,customStyles:"",customStylesFile:"",disableStyles:!1,search:"",loadMore:!1,disableAutoplay:!1,disableImages:!1,disableVideos:!1,dateFormat:{}},({username:e,feed:t,limit:r=10,mode:i="",linkTarget:o="_self",linkImage:n=!1,customStyles:s="",customStylesFile:a,disableStyles:l=!1,search:d,loadMore:c=!1,dateFormat:p,disableImages:u=!1,disableVideos:f=!1,disableAutoplay:h=!1})=>{var m,y,g,b,v,E,R,A,_;let T=null,w=null,[C,S]=oG(!1),[L,k]=oG([]),[x]=oG(r),[P,B]=oG(void 0);o$(()=>{S(!0),D()},[e,t,d,x]);let D=async r=>{e?bW.app.bsky.feed.getAuthorFeed({limit:x(),actor:e,filter:"posts_no_replies",cursor:r}).then(({success:e,data:t})=>{e&&(I(b0(t)),S(!1),B(t.cursor))}):t?bW.app.bsky.feed.getFeed({limit:x(),feed:t,cursor:r}).then(({success:e,data:t})=>{e&&(I(b0(t)),S(!1),B(t.cursor))}):d&&bW.app.bsky.feed.searchPosts({limit:x(),q:d,cursor:r}).then(({success:e,data:t})=>{e&&(I(b0({...t,feed:t.posts.map(e=>({post:e}))})),S(!1),B(t.cursor))})},O=(e,t)=>{!n&&T&&w&&(e.preventDefault(),w.src=t.fullsize,w.alt=t.alt,T.showModal())},U=()=>{S(!0),D(P())},I=e=>{k([...L(),...e])};return[!l&&(ns(m=vs(),'*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.visible{visibility:visible}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.right-5{right:1.25rem}.top-5{top:1.25rem}.col-span-2{grid-column:span 2 / span 2}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:.25rem}.mb-16{margin-bottom:4rem}.ml-10{margin-left:2.5rem}.mr-1{margin-right:.25rem}.mt-4{margin-top:1rem}.mt-8{margin-top:2rem}.block{display:block}.inline{display:inline}.flex{display:flex}.grid{display:grid}.h-10{height:2.5rem}.h-14{height:3.5rem}.h-2{height:.5rem}.h-4{height:1rem}.h-full{height:100%}.max-h-\\[90vh\\]{max-height:90vh}.w-10{width:2.5rem}.w-14{width:3.5rem}.w-4{width:1rem}.w-full{width:100%}.max-w-\\[calc\\(100\\%-70px\\)\\]{max-width:calc(100% - 70px)}.max-w-screen-sm{max-width:640px}.flex-1{flex:1 1 0%}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-4{gap:1rem}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.text-ellipsis{text-overflow:ellipsis}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-md{border-radius:.375rem}.rounded-t-md{border-top-left-radius:.375rem;border-top-right-radius:.375rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-slate-300{--tw-border-opacity: 1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity, 1))}.bg-slate-200{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity, 1))}.bg-slate-900{--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity, 1))}.object-cover{-o-object-fit:cover;object-fit:cover}.p-3{padding:.75rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.text-sm{font-size:.875rem;line-height:1.25rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-slate-600{--tw-text-opacity: 1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.underline{text-decoration-line:underline}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop\\:bg-gray-800::backdrop{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.backdrop\\:opacity-90::backdrop{opacity:.9}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\\:underline:hover{text-decoration-line:underline}.dark\\:border-slate-800:where(.dark,.dark *){--tw-border-opacity: 1;border-color:rgb(30 41 59 / var(--tw-border-opacity, 1))}.dark\\:bg-slate-800:where(.dark,.dark *){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.dark\\:text-slate-400:where(.dark,.dark *){--tw-text-opacity: 1;color:rgb(148 163 184 / var(--tw-text-opacity, 1))}.dark\\:text-white:where(.dark,.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}'),m),s&&(ns(y=vs(),s),y),a&&(ni(g=va(),"href",a),g),(E=(v=(b=vn()).firstChild).firstChild.nextSibling,no(b,`${i} max-w-screen-sm mx-auto flex flex-col items-center`),ns(b,(R=oz(()=>L().length>0),()=>R()&&L().map((e,t)=>{var r;return ni(r=vl(),"id",`post-${t}`),ns(r,o3(vo,{post:e,handleModalContent:O,linkTarget:o,dateFormat:p,disableImages:u,disableVideos:f,disableAutoplay:h})),r})),v),ns(b,(A=oz(()=>!!C()),()=>A()&&Array.from(Array(r)).map(()=>vd())),v),nn(e=>T=e,v),nn(e=>w=e,E),ns(b,(_=oz(()=>!!(c&&P())),()=>{var e;return _()&&((e=vc()).firstChild.$$click=U,e)}),null),b)]});let vp=new i_(document.getElementById("Menu")),vu=document.querySelectorAll("#nav-buttons button");console.log(vu),vu.forEach(e=>{e.addEventListener("click",async()=>{await vp.hide(),await new Promise(e=>setTimeout(e,300));let t=e.dataset.nav,r=document.getElementById(t);r&&r.scrollIntoView({behavior:"smooth",block:"start"})})});
//# sourceMappingURL=peoplesoutreach.org.bab92e9c.js.map
